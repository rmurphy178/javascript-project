{"version":3,"sources":["webpack:///webpack/bootstrap 10ce658563e9d65cd338","webpack:///./lib/js/main.js","webpack:///./lib/js/NexusUI.js","webpack:///(webpack)/buildin/module.js","webpack:///./lib/js/sequencer.js","webpack:///./lib/js/piano.js","webpack:///./lib/js/button.js","webpack:///./lib/js/toggle.js"],"names":["Nexus","document","addEventListener","window","AudioContext","webkitAudioContext","context","board","piano","button","toggle","on","v","play","sequencer","start","stop","value","$cells","$","addClass","webpackUniversalModuleDefinition","root","factory","exports","module","modules","installedModules","__webpack_require__","moduleId","id","loaded","call","m","c","p","NexusUI","_interopRequireWildcard","obj","__esModule","_interopRequire","_createClass","defineProperties","target","props","key","prop","configurable","writable","Object","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","Interfaces","math","Rack","Tune","Transform","Counter","Radio","Drunk","Sequence","Matrix","WAAClock","Interval","_key","Core","Models","_key2","_key3","DefaultContext","_context","tune","note","bind","clock","colors","accent","fill","light","dark","mediumLight","mediumDark","crimson","transform","add","get","set","ctx","Position","Slider","Toggle","Button","TextButton","RadioButton","Number","Select","Dial","Piano","Sequencer","Pan2D","Tilt","Multislider","Pan","Envelope","Spectrogram","Meter","Oscilloscope","_get","object","property","receiver","desc","getOwnPropertyDescriptor","undefined","parent","getPrototypeOf","getter","_inherits","subClass","superClass","create","constructor","enumerable","__proto__","svg","Interface","Step","Interaction","_Interface","options","defaults","size","mode","minX","maxX","stepX","x","minY","maxY","stepY","y","arguments","_x","settings","_y","position","Handle","width","height","normalized","init","render","buildInterface","knob","element","appendChild","sizeInterface","resize","_minDimension","Math","min","knobRadius","off","setAttribute","colorInterface","style","backgroundColor","clicked","knobCoordinates","click","anchor","mouse","move","update","updateNormal","emit","release","max","step","type","createElementNS","arc","radius","startAngle","endAngle","toCartesian","end","largeArcFlag","d","join","radialGradient","defs","numberOfStops","ri","stops","gradient","i","_stop","push","clip","normalize","scale","inNum","inMin","inMax","outMin","outMax","toPolar","r","sqrt","theta","atan2","PI","angle","cos","sin","prune","data","parseFloat","toFixed","invert","mtof","midi","pow","interp","loc","pick","random","length","octave","num","bound1","bound2","low","high","floor","rf","cycle","input","average","total","distance","x1","y1","x2","y2","a","b","gainToDB","gain","log10","coin","odds","dom","util","touch","EventEmitter","_EventEmitter","args","name","parseSettings","wait","defaultColors","unshift","defaultSize","splice","body","snapWithParent","event","component","setting","isObject","parseElement","HTMLElement","hasAttribute","Array","isArray","indexOf","getComputedStyle","getPropertyValue","replace","buildFrame","attachListeners","finalTouches","_this","interactionTarget","exists","evt","preTouch","preTouchMove","preTouchRelease","boundPreMove","preMove","boundPreRelease","preRelease","preClick","cursor","e","offset","findPosition","locateMouse","moveEvent","releaseEvent","preventDefault","stopPropagation","setTimeout","removeEventListener","locateTouch","touchMove","touchRelease","empty","lastChild","removeChild","destroy","removeAllListeners","instrument","customDestroy","colorize","color","el","viewportOffset","getBoundingClientRect","top","scrollY","left","scrollX","getElementById","SVGElement","pageX","pageY","targetTouches","SmartCanvas","createElement","getContext","w","h","documentElement","_events","_maxListeners","defaultMaxListeners","setMaxListeners","n","isNumber","isNaN","er","handler","len","listeners","error","Error","err","isUndefined","isFunction","slice","apply","addListener","listener","newListener","warned","console","trace","once","fired","g","removeListener","list","ret","listenerCount","evlistener","emitter","arg","changed","oldValue","round","defineProperty","ToggleModel","direction","xbound","ybound","previous","sensitivity","boundary","center","_anchor","convertPositionToValue","increment","abs","current","state","paintbrush","timeout","clearTimeout","turnOn","flip","turnOff","orientation","_value","bar","fillbar","barOffset","cornerRadius","knobData","level","thickness","_state","knobSize","ButtonTemplate","_ButtonTemplate","pad","down","bend","up","emitting","text","alternate","_text","_alternateText","textElement","innerHTML","textsize","textsize2","alternateText","textsize3","styles","cssText","numberOfButtons","active","buttons","_numberOfButtons","container","buttonWidth","buttonHeight","index","select","deselect","decimalPlaces","actual","which","blur","hasMoved","readOnly","initial","changeFactor","log","newvalue","focus","setSelectionRange","link","destination","passiveUpdate","_selectedIndex","_options","fontSize","outline","highlight","boundRender","defineOptions","border","selectedIndex","remove","Option","interaction","previousAngle","background","screw","handle","handle2","handleFill","handle2Fill","handleLine","diameter","handlePoints","handle2Points","handlePath","handle2Path","arcEndingA","arcEndingX","arcEndingY","realValue","PianoKey","interacting","lowNote","highNote","keyPattern","range","keys","toggleTo","borderRadius","display","scaleIndex","keyChange","addTouchListeners","keyX","keyPositions","nextScaleIndex","keysWide","padding","zIndex","currentElement","elementFromPoint","clientX","clientY","pastKey","setRange","toggleKey","toggleIndex","MatrixModel","CounterModel","MatrixCell","row","column","matrix","rows","columns","interval","ui","stepper","cells","_location","locate","cell","cellWidth","cellHeight","iterate","pattern","ms","next","reverse","pastCell","all","values","forEach","rotate","amount","cut","concat","proxy","populate","oddsSequence","erase","arr","f","f2","formatAsText","patternString","_row","_rowWrapper","toString","_column","_columnWrapper","_x2","sequence","_mode","drunkWalk","startValues","drunk","first","loop","speakers","levels","calculateLevels","speakerElements","speakerElement","speaker","s","moveSource","location","moveSpeaker","_active","boundUpdate","DeviceOrientationEvent","orientationListener","title","circleX","circleY","circleZ","barX","barY","barZ","barX2","barY2","barZ2","textContent","beta","gamma","z","alpha","cx","baseVal","cy","SliderTemplate","SingleSlider","_SliderTemplate","hasKnob","multislider","interpolation","lowValue","sliders","highValue","slide","customStyle","numberOfSliders","_numberOfSliders","slider","sliderWidth","sliderHeight","pastslider","setSlider","setAllSliders","L","R","Point","point","envelope","nodes","prevIndex","nextIndex","prevNode","nextNode","lowX","highX","getCoordinates","points","selected","node","sortPoints","line","calculatePath","calculatePoints","findNearestNode","scaleNode","nearestIndex","nearestDist","before","getIndexFromX","clippedX","clippedY","sort","addPoint","scan","priorIndex","priorPoint","nextPoint","movePoint","adjustPoint","xOffset","yOffset","destroyPoint","setPoints","allPoints","analyser","createAnalyser","fftSize","bufferLength","frequencyBinCount","dataArray","Uint8Array","source","canvas","requestAnimationFrame","getByteFrequencyData","fillStyle","fillRect","barWidth","barHeight","definition","subarray","connect","disconnect","channels","splitter","createChannelSplitter","analysers","smoothingTimeConstant","Float32Array","db","Infinity","meterWidth","getFloatTimeDomainData","rms","_i","linear","exp","channelCount","getByteTimeDomainData","lineWidth","strokeStyle","beginPath","sliceWidth","moveTo","lineTo","stroke","meta","attribute","open","boxSizing","userSelect","mozUserSelect","webkitUserSelect","contents","childNodes","titleBar","fontFamily","right","lineHeight","hide","show","section","createInterfaceID","widget","interfaceIDs","attributes","att","nodeName","nodeValue","toUpperCase","keyword","htmlElements","getElementsByTagName","elements","getAttribute","formattedType","toLowerCase","output","etmajor","createScale","frequency","ratio","MIDI","stepIn","octaveIn","scaleDegree","freq","newScale","loadScaleFromFrequencies","createJIScale","freqs","loadScale","scales","frequencies","search","letters","possible","chord","midis","_len","onVals","array","warn","process","isBrowser","CLOCK_DEFAULTS","toleranceLate","toleranceEarly","Event","deadline","func","_cleared","_latestTime","_earliestTime","repeatTime","schedule","clear","_removeEvent","repeat","time","_hasEvent","tolerance","late","early","_refreshEarlyLateDates","_insertEvent","isRepeated","currentTime","_execute","timeStretch","tRef","_started","onexpired","opts","self","tickMethod","delay","_createEvent","_absTime","callbackAtTime","events","bufferSize","_clockNode","createScriptProcessor","onaudioprocess","nextTick","_tick","shift","_indexByTime","ind","mid","relTime","_relTime","absTime","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","run","Item","browser","env","argv","version","versions","noop","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","rate","_event","newrate","int","sfx","sorted","filter","cellValue","audio","Audio"],"mappings":"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","file":"./lib/js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 10ce658563e9d65cd338","import * as Nexus from './NexusUI';\n\nimport Sequencer from './sequencer';\nimport Piano from './piano';\nimport Button from './button';\nimport Toggle from './toggle'\n;\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n\n\n    window.AudioContext = window.AudioContext || window.webkitAudioContext;\n    const context = new AudioContext();\n\n    const board = new Sequencer();\n    const piano = new Piano();\n    const button = new Button();\n    const toggle = new Toggle();\n\n    button.button.on('change',function(v) {\n      button.play();\n   });\n\n  //  board.sequencer.colorize(\"accent\", \"#DC143C\");\n\n  //  board.sequencer.colorize(\"fill\", \"#6495ED\");\n\n\n  board.sequencer.start();\n  board.sequencer.stop();\n\n   toggle.toggle.on('change', (value) => {\n     return value === true ? board.sequencer.start() : board.sequencer.stop();\n   });\n\n   board.sequencer.on('change',function(v) {\n     const $cells = $(\"span\");\n     $cells.addClass('active');\n });\n\n\n  window.piano = piano;\n\n  window.board = board;\n\n\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/main.js","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"NexusUI\"] = factory();\n\telse\n\t\troot[\"NexusUI\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar NexusUI = __webpack_require__(1);\n\tvar Nexus = new NexusUI();\n\n\tif (window) {\n\t  window.Nexus = Nexus;\n\t}\n\n\tmodule.exports = Nexus;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; };\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar Interfaces = _interopRequire(__webpack_require__(2));\n\n\tvar math = _interopRequire(__webpack_require__(5));\n\n\tvar Rack = _interopRequire(__webpack_require__(38));\n\n\tvar Tune = _interopRequire(__webpack_require__(40));\n\n\tvar Transform = _interopRequireWildcard(__webpack_require__(39));\n\n\tvar Counter = __webpack_require__(28);\n\tvar Radio = __webpack_require__(41);\n\tvar Drunk = __webpack_require__(27);\n\tvar Sequence = __webpack_require__(26);\n\tvar Matrix = __webpack_require__(25);\n\n\tvar WAAClock = _interopRequire(__webpack_require__(42));\n\n\tvar Interval = _interopRequire(__webpack_require__(45));\n\n\t/**\n\tNexusUI => created as Nexus\n\t*/\n\n\tvar NexusUI = (function () {\n\t  function NexusUI(context) {\n\t    _classCallCheck(this, NexusUI);\n\n\t    for (var key in Interfaces) {\n\t      this[key] = Interfaces[key];\n\t    }\n\n\t    for (var _key in math) {\n\t      this[_key] = math[_key];\n\t    }\n\n\t    var Core = {\n\t      Rack: Rack\n\t    };\n\n\t    var Models = {\n\t      Counter: Counter,\n\t      Radio: Radio,\n\t      Drunk: Drunk,\n\t      Sequence: Sequence,\n\t      Matrix: Matrix\n\t    };\n\n\t    for (var _key2 in Models) {\n\t      this[_key2] = Models[_key2];\n\t    }\n\n\t    for (var _key3 in Core) {\n\t      this[_key3] = Core[_key3];\n\t    }\n\n\t    var DefaultContext = window.AudioContext || window.webkitAudioContext;\n\t    this._context = context || new DefaultContext();\n\n\t    this.tune = new Tune();\n\t    this.note = this.tune.note.bind(this.tune);\n\n\t    this.clock = new WAAClock(this._context);\n\t    this.clock.start();\n\t    this.Interval = Interval;\n\n\t    this.colors = {\n\t      accent: \"#2bb\",\n\t      fill: \"#eee\",\n\t      light: \"#fff\",\n\t      dark: \"#333\",\n\t      mediumLight: \"#ccc\",\n\t      mediumDark: \"#666\",\n\t\t\t\tcrimson: \"#DC143C\"\n\t    };\n\n\t    this.transform = Transform;\n\t    this.add = Transform.add;\n\t  }\n\n\t  _createClass(NexusUI, {\n\t    context: {\n\t      get: function () {\n\t        return this._context;\n\t      },\n\t      set: function (ctx) {\n\t        this.clock.stop();\n\t        this._context = ctx;\n\t        this.clock = new WAAClock(this.context);\n\t        this.clock.start();\n\t      }\n\t    }\n\t  });\n\n\t  return NexusUI;\n\t})();\n\n\tmodule.exports = NexusUI;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tmodule.exports = {\n\t  Position: __webpack_require__(3),\n\t  Slider: __webpack_require__(14),\n\t  Toggle: __webpack_require__(15),\n\t  //  Range: require('./range'),\n\t  //  Waveform: require('./waveform'),\n\t  Button: __webpack_require__(16),\n\t  TextButton: __webpack_require__(18),\n\t  RadioButton: __webpack_require__(19),\n\t  Number: __webpack_require__(20),\n\t  Select: __webpack_require__(21),\n\t  Dial: __webpack_require__(22),\n\t  Piano: __webpack_require__(23),\n\t  Sequencer: __webpack_require__(24),\n\t  Pan2D: __webpack_require__(29),\n\t  Tilt: __webpack_require__(30),\n\t  Multislider: __webpack_require__(31),\n\t  Pan: __webpack_require__(33),\n\t  Envelope: __webpack_require__(34),\n\t  Spectrogram: __webpack_require__(35),\n\t  Meter: __webpack_require__(36),\n\t  Oscilloscope: __webpack_require__(37)\n\t};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n\t\"use strict\";\n\n\tvar _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar svg = __webpack_require__(4);\n\tvar Interface = __webpack_require__(6);\n\tvar Step = __webpack_require__(11);\n\n\tvar Interaction = _interopRequireWildcard(__webpack_require__(12));\n\n\t/**\n\t* Position\n\t*\n\t* @description Two-dimensional touch slider.\n\t*\n\t* @demo <span nexus-ui=\"position\"></span>\n\t*\n\t* @example\n\t* var position = new Nexus.Position('#target')\n\t*\n\t* @example\n\t* var position = new Nexus.Position('#target',{\n\t*   'size': [200,200],\n\t*   'mode': 'absolute',  // \"absolute\" or \"relative\"\n\t*   'x': 0.5,  // initial x value\n\t*   'minX': 0,\n\t*   'maxX': 1,\n\t*   'stepX': 0,\n\t*   'y': 0.5,  // initial y value\n\t*   'minY': 0,\n\t*   'maxY': 1,\n\t*   'stepY': 0\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* The event data is an object with x and y properties containing the x and y values of the interface.\n\t*\n\t* @outputexample\n\t* position.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*\n\t*/\n\n\tvar Position = (function (_Interface) {\n\t  function Position() {\n\t    _classCallCheck(this, Position);\n\n\t    var options = [\"value\"];\n\n\t    var defaults = {\n\t      size: [200, 200],\n\t      mode: \"absolute\",\n\t      minX: 0,\n\t      maxX: 1,\n\t      stepX: 0,\n\t      x: 0.5,\n\t      minY: 0,\n\t      maxY: 1,\n\t      stepY: 0,\n\t      y: 0.5\n\t    };\n\n\t    _get(Object.getPrototypeOf(Position.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this._x = new Step(this.settings.minX, this.settings.maxX, this.settings.stepX, this.settings.x);\n\t    this._y = new Step(this.settings.minY, this.settings.maxY, this.settings.stepY, this.settings.y);\n\n\t    this.position = {\n\t      x: new Interaction.Handle(this.settings.mode, \"horizontal\", [0, this.width], [this.height, 0]),\n\t      y: new Interaction.Handle(this.settings.mode, \"vertical\", [0, this.width], [this.height, 0])\n\t    };\n\t    this.position.x.value = this._x.normalized;\n\t    this.position.y.value = this._y.normalized;\n\n\t    this.init();\n\t    this.render();\n\t  }\n\n\t  _inherits(Position, _Interface);\n\n\t  _createClass(Position, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\n\t        this.knob = svg.create(\"circle\");\n\t        this.element.appendChild(this.knob);\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        this.position.x.resize([0, this.width], [this.height, 0]);\n\t        this.position.y.resize([0, this.width], [this.height, 0]);\n\n\t        this._minDimension = Math.min(this.width, this.height);\n\n\t        this.knobRadius = {\n\t          off: ~ ~(this._minDimension / 100) * 5 + 5 };\n\t        this.knobRadius.on = this.knobRadius.off * 2;\n\n\t        this.knob.setAttribute(\"cx\", this.width / 2);\n\t        this.knob.setAttribute(\"cy\", this.height / 2);\n\t        this.knob.setAttribute(\"r\", this.knobRadius.off);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.element.style.backgroundColor = this.colors.fill;\n\t        this.knob.setAttribute(\"fill\", this.colors.accent);\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (this.clicked) {\n\t          //  this.knobRadius = 30;\n\t          this.knob.setAttribute(\"r\", this.knobRadius.on);\n\t        } else {\n\t          //  this.knobRadius = 15;\n\t          this.knob.setAttribute(\"r\", this.knobRadius.off);\n\t        }\n\n\t        this.knobCoordinates = {\n\t          x: this._x.normalized * this.width,\n\t          y: this.height - this._y.normalized * this.height\n\t        };\n\n\t        this.knob.setAttribute(\"cx\", this.knobCoordinates.x);\n\t        this.knob.setAttribute(\"cy\", this.knobCoordinates.y);\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.position.x.anchor = this.mouse;\n\t        this.position.y.anchor = this.mouse;\n\t        this.move();\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        if (this.clicked) {\n\t          this.position.x.update(this.mouse);\n\t          this.position.y.update(this.mouse);\n\t          this._x.updateNormal(this.position.x.value);\n\t          this._y.updateNormal(this.position.y.value);\n\t          this.emit(\"change\", {\n\t            x: this._x.value,\n\t            y: this._y.value\n\t          });\n\t          this.render();\n\t        }\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {\n\t        this.render();\n\t      }\n\t    },\n\t    x: {\n\n\t      /**\n\t      * The interface's x value. When set, it will automatically adjust to fit min/max/step settings of the interface.\n\t      * @type {object}\n\t      * @example position.x = 0.5;\n\t      */\n\n\t      get: function () {\n\t        return this._x.value;\n\t      },\n\t      set: function (value) {\n\t        this._x.update(value);\n\t        this.emit(\"change\", {\n\t          x: this._x.value,\n\t          y: this._y.value\n\t        });\n\t        this.render();\n\t      }\n\t    },\n\t    y: {\n\n\t      /**\n\t      * The interface's y values. When set, it will automatically adjust to fit min/max/step settings of the interface.\n\t      * @type {object}\n\t      * @example position.x = 0.5;\n\t      */\n\n\t      get: function () {\n\t        return this._y.value;\n\t      },\n\t      set: function (value) {\n\t        this._y.update(value);\n\t        this.emit(\"change\", {\n\t          x: this._x.value,\n\t          y: this._y.value\n\t        });\n\t        this.render();\n\t      }\n\t    },\n\t    normalized: {\n\t      get: function () {\n\t        return {\n\t          x: this._x.normalized,\n\t          y: this._y.normalized\n\t        };\n\t      }\n\t    },\n\t    minX: {\n\n\t      /**\n\t      * The lower limit of value on the x axis\n\t      * @type {object}\n\t      */\n\n\t      get: function () {\n\t        return this._x.min;\n\t      },\n\t      set: function (v) {\n\t        this._x.min = v;\n\t        this.render();\n\t      }\n\t    },\n\t    minY: {\n\n\t      /**\n\t      * The lower limit of value on the y axis\n\t      * @type {object}\n\t      */\n\n\t      get: function () {\n\t        return this._y.min;\n\t      },\n\t      set: function (v) {\n\t        this._y.min = v;\n\t        this.render();\n\t      }\n\t    },\n\t    maxX: {\n\n\t      /**\n\t      * The upper limit of value on the x axis\n\t      * @type {object}\n\t      */\n\n\t      get: function () {\n\t        return this._x.max;\n\t      },\n\t      set: function (v) {\n\t        this._x.max = v;\n\t        this.render();\n\t      }\n\t    },\n\t    maxY: {\n\n\t      /**\n\t      * The upper limit of value on the y axis\n\t      * @type {object}\n\t      */\n\n\t      get: function () {\n\t        return this._y.max;\n\t      },\n\t      set: function (v) {\n\t        this._y.max = v;\n\t        this.render();\n\t      }\n\t    },\n\t    stepX: {\n\n\t      /**\n\t      * The incremental step of values on the x axis\n\t      * @type {object}\n\t      */\n\n\t      get: function () {\n\t        return this._x.step;\n\t      },\n\t      set: function (v) {\n\t        this._x.step = v;\n\t        this.render();\n\t      }\n\t    },\n\t    stepY: {\n\n\t      /**\n\t      * The incremental step of values on the y axis\n\t      * @type {object}\n\t      */\n\n\t      get: function () {\n\t        return this._y.step;\n\t      },\n\t      set: function (v) {\n\t        this._y.step = v;\n\t        this.render();\n\t      }\n\t    },\n\t    mode: {\n\n\t      /**\n\t      Absolute mode (position's value jumps to mouse click position) or relative mode (mouse drag changes value relative to its current position). Default: \"absolute\".\n\t      @type {string}\n\t      @example position.mode = \"relative\";\n\t      */\n\n\t      get: function () {\n\t        return this.position.x.mode;\n\t      },\n\t      set: function (v) {\n\t        this.position.x.mode = v;\n\t        this.position.y.mode = v;\n\t      }\n\t    }\n\t  });\n\n\t  return Position;\n\t})(Interface);\n\n\tmodule.exports = Position;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar math = __webpack_require__(5);\n\n\tmodule.exports = {\n\n\t  create: function (type) {\n\t    return document.createElementNS(\"http://www.w3.org/2000/svg\", type);\n\t  },\n\n\t  arc: function (x, y, radius, startAngle, endAngle) {\n\n\t    var start = math.toCartesian(radius, endAngle);\n\t    var end = math.toCartesian(radius, startAngle);\n\n\t    var largeArcFlag = endAngle - startAngle <= 180 ? \"0\" : \"1\";\n\n\t    var d = [\"M\", start.x + x, start.y + y, \"A\", radius, radius, 0, largeArcFlag, 0, end.x + x, end.y + y].join(\" \");\n\n\t    return d;\n\t  },\n\n\t  radialGradient: function (defs, numberOfStops) {\n\n\t    var id = \"gradient\" + math.ri(100000000000);\n\t    var stops = [];\n\n\t    var gradient = document.createElementNS(\"http://www.w3.org/2000/svg\", \"radialGradient\");\n\t    gradient.setAttribute(\"id\", id);\n\t    gradient.setAttribute(\"cx\", \"50%\");\n\t    gradient.setAttribute(\"cy\", \"50%\");\n\t    gradient.setAttribute(\"r\", \"50%\");\n\n\t    defs.appendChild(gradient);\n\n\t    for (var i = 0; i < numberOfStops; i++) {\n\t      var _stop = document.createElementNS(\"http://www.w3.org/2000/svg\", \"stop\");\n\t      _stop.setAttribute(\"id\", \"stop\" + i);\n\t      //stop.setAttribute('offset', '70%');\n\t      //stop.setAttribute('stop-color', 'White');\n\t      gradient.appendChild(_stop);\n\t      stops.push(_stop);\n\t    }\n\n\t    return {\n\t      id: id,\n\t      stops: stops,\n\t      element: gradient\n\t    };\n\t  }\n\n\t};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\n\t/**\n\t * Limit a number to within a minimum and maximum\n\t * @param  {number} value Input value\n\t * @param  {number} min   Lower limit\n\t * @param  {number} max   Upper limit\n\t * @return {number}       The input value constrained within the lower and upper limits\n\t * @example\n\t * Nexus.clip(11,0,10)   // returns 10\n\t * Nexus.clip(-1,0,10)   // returns 0\n\t * Nexus.clip(5,0,10)    // returns 5\n\t */\n\n\texports.clip = function (value, min, max) {\n\t  return Math.min(Math.max(value, min), max);\n\t};\n\n\texports.normalize = function (value, min, max) {\n\t  return (value - min) / (max - min);\n\t};\n\n\t/**\n\t * Scale a value from one range to another range.\n\t * @param  {number} inNum  Input value\n\t * @param  {number} inMin  Input range minimum\n\t * @param  {number} inMax  Input range maximum\n\t * @param  {number} outMin Output range minimum\n\t * @param  {number} outMax Output range maximum\n\t * @return {number}        The input value scaled to its new range\n\t * @example\n\t * Nexus.scale(0.5,0,1,0,10)   // returns 5\n\t * Nexus.scale(0.9,0,1,1,0)    // returns 0.1\n\t */\n\texports.scale = function (inNum, inMin, inMax, outMin, outMax) {\n\t  if (inMin === inMax) {\n\t    return outMin;\n\t  }\n\t  return (inNum - inMin) * (outMax - outMin) / (inMax - inMin) + outMin;\n\t};\n\n\texports.toPolar = function (x, y) {\n\t  var r = Math.sqrt(x * x + y * y);\n\n\t  var theta = Math.atan2(y, x);\n\t  if (theta < 0) {\n\t    theta = theta + 2 * Math.PI;\n\t  }\n\t  return { radius: r, angle: theta };\n\t};\n\n\texports.toCartesian = function (radius, angle) {\n\t  var cos = Math.cos(angle);\n\t  var sin = Math.sin(angle);\n\t  return { x: radius * cos, y: radius * sin * -1 };\n\t};\n\t/*\n\texports.polarToCartesian(centerX, centerY, radius, angleInDegrees) {\n\t  var angleInRadians = (angleInDegrees-90) * Math.PI / 180.0;\n\n\t  return {\n\t    x: centerX + (radius * Math.cos(angleInRadians)),\n\t    y: centerY + (radius * Math.sin(angleInRadians))\n\t  };\n\t}  */\n\n\texports.prune = function (data, scale) {\n\t  return parseFloat(data.toFixed(scale));\n\t};\n\n\texports.invert = function (inNum) {\n\t  return exports.scale(inNum, 1, 0, 0, 1);\n\t};\n\n\t/**\n\t * Convert a MIDi note number to a frequency value in equal temperament.\n\t * @param  {number} midi MIDI note value\n\t * @return {number}      Frequence value\n\t * @example\n\t * Nexus.mtof(60)  // returns the frequency number of Middle C\n\t */\n\texports.mtof = function (midi) {\n\t  return Math.pow(2, (midi - 69) / 12) * 440;\n\t};\n\n\t/**\n\t * Interpolate between two numbers\n\t * @param  {number} loc Interpolation index (0-1)\n\t * @param  {number} min Lower value\n\t * @param  {number} max Upper value\n\t * @return {number}     Interpolated value\n\t * @example\n\t * Nexus.interp(0.5,2,4)   // returns 3\n\t * Nexus.interp(0.1,0,10)     // returns 1\n\t */\n\texports.interp = function (loc, min, max) {\n\t  return loc * (max - min) + min;\n\t};\n\n\t/**\n\t * Return a random choice from a list of arguments\n\t * @return {various} One random argument\n\t * @example\n\t * Nexus.pick(1,2,3,4)   // returns 1, 2, 3, or 4\n\t * Nexus.pick(function1,function2)   // returns either function1 or function2\n\t */\n\texports.pick = function () {\n\t  return arguments[~ ~(Math.random() * arguments.length)];\n\t};\n\n\t/**\n\t * Returns an octave multiplier for frequency values\n\t * @param  {number} num Relative octave number (e.g. -1 for one octave down, 1 for one octave up)\n\t * @return {number}     Octave multiplier\n\t * @example\n\t * Nexus.octave(-1)  // returns 0.5\n\t * Nexus.octave(0)   // returns 1\n\t * Nexus.octave(1)   // returns 2\n\t * Nexus.octave(2)   // returns 4\n\t */\n\texports.octave = function (num) {\n\t  return Math.pow(2, num);\n\t};\n\n\t/**\n\t * Random integer generator. If no second argument is given, will return random integer from 0 to bound1.\n\t * @param  {number} bound1 Minimum random value\n\t * @param  {number} bound2 Maximum random value\n\t * @return {number}        Random integer between lower and upper boundary\n\t * @example\n\t * Nexus.ri(10)    // returns random int from 0 to 10\n\t * Nexus.ri(20,2000) // returns random int from 20 to 2000\n\t */\n\texports.ri = function (bound1, bound2) {\n\t  if (!bound2) {\n\t    bound2 = bound1;\n\t    bound1 = 0;\n\t  }\n\t  var low = Math.min(bound1, bound2);\n\t  var high = Math.max(bound1, bound2);\n\t  return Math.floor(Math.random() * (high - low) + low);\n\t};\n\n\t/**\n\t * Random float number generator. If no second argument is given, will return random float from 0 to bound1.\n\t * @param  {number} bound1 Minimum random value\n\t * @param  {number} bound2 Maximum random value\n\t * @return {number}        Random float between lower and upper boundary\n\t * @example\n\t * Nexus.rf(1)    // returns random float from 0 to 1\n\t * Nexus.rf(1,2) // returns random float from 1 to 2\n\t */\n\texports.rf = function (bound1, bound2) {\n\t  if (!bound2) {\n\t    bound2 = bound1;\n\t    bound1 = 0;\n\t  }\n\t  var low = Math.min(bound1, bound2);\n\t  var high = Math.max(bound1, bound2);\n\t  return Math.random() * (high - low) + low;\n\t};\n\n\texports.cycle = function (input, min, max) {\n\t  input++;\n\t  if (input >= max) {\n\t    input = min;\n\t  }\n\t  return input;\n\t};\n\n\t/**\n\t * Average an array of numbers\n\t * @param  {Array} data Array of numbers to average\n\t * @return {number}      Average of the input data\n\t * @example\n\t * Nexus.average([0,2,4,6,8,10])   // returns 5\n\t */\n\texports.average = function (data) {\n\t  var total = 0;\n\t  for (var i = 0; i < data.length; i++) {\n\t    total += data[i];\n\t  }\n\t  return total / data.length;\n\t};\n\n\t/**\n\t * Get the distance from one (x,y) point to another (x,y) point\n\t * @param  {number} x1 x of first point\n\t * @param  {number} y1 y of first point\n\t * @param  {number} x2 x of second point\n\t * @param  {number} y2 y of second poiny\n\t * @return {number}    Distance\n\t * @example\n\t * Nexus.distance(0,0,3,4)   // returns 5\n\t */\n\texports.distance = function (x1, y1, x2, y2) {\n\t  var a = x1 - x2;\n\t  var b = y1 - y2;\n\t  return Math.sqrt(a * a + b * b);\n\t};\n\n\texports.gainToDB = function (gain) {\n\t  return 20 * Math.log10(gain);\n\t};\n\n\t/**\n\t * Flip a coin, returning either 0 or 1 according to a probability\n\t * @param  {number} [odds=0.5] Likelihood of returning 1\n\t * @return {number}            1 or 0\n\t * @example\n\t * Nexus.coin(0.1)   // returns 1 (10% of the time) or 0 (90% of the time)\n\t */\n\texports.coin = function () {\n\t  var odds = arguments[0] === undefined ? 0.5 : arguments[0];\n\n\t  if (exports.rf(0, 1) < odds) {\n\t    return 1;\n\t  } else {\n\t    return 0;\n\t  }\n\t};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar svg = __webpack_require__(4);\n\tvar dom = __webpack_require__(7);\n\tvar util = __webpack_require__(8);\n\tvar touch = __webpack_require__(9);\n\tvar EventEmitter = __webpack_require__(10);\n\n\t/**\n\tInterface\n\t*/\n\n\tvar Interface = (function (_EventEmitter) {\n\t  function Interface(args, options, defaults) {\n\t    _classCallCheck(this, Interface);\n\n\t    _get(Object.getPrototypeOf(Interface.prototype), \"constructor\", this).call(this);\n\t    this.type = this.constructor.name;\n\t    this.settings = this.parseSettings(args, options, defaults);\n\t    this.mouse = {};\n\t    this.wait = false;\n\t    this.colors = {};\n\t    var defaultColors = Nexus.colors; // jshint ignore:line\n\t    this.colors.accent = defaultColors.accent;\n\t    this.colors.fill = defaultColors.fill;\n\t    this.colors.light = defaultColors.light;\n\t    this.colors.dark = defaultColors.dark;\n\t    this.colors.mediumLight = defaultColors.mediumLight;\n\t    this.colors.mediumDark = defaultColors.mediumDark;\n\t  }\n\n\t  _inherits(Interface, _EventEmitter);\n\n\t  _createClass(Interface, {\n\t    parseSettings: {\n\t      value: function parseSettings(args, options, defaults) {\n\n\t        options.unshift(\"target\");\n\t        defaults.defaultSize = defaults.size.splice(0, 2);\n\t        defaults.size = false;\n\n\t        var settings = {\n\t          target: document.body,\n\t          colors: {}, // should inherit from a colors module,\n\t          snapWithParent: true,\n\t          event: function event() {},\n\t          component: false\n\t        };\n\n\t        for (var key in defaults) {\n\t          settings[key] = defaults[key];\n\t        }\n\n\t        for (var i = 0; i < args.length; i++) {\n\t          // grabs the next argument\n\t          var setting = args[i];\n\t          // if it's an object, it must be the settings object\n\t          if (util.isObject(setting)) {\n\t            for (var key in setting) {\n\t              settings[key] = setting[key];\n\t            }\n\t            // if it's a function, it must be the event setting\n\t          } else if (typeof setting === \"function\") {\n\t            settings.event = setting;\n\t            // otherwise, consider it one of the widget's custom options\n\t          } else if (options.length >= 1) {\n\t            // grab the first option -- i.e. 'target'\n\t            var key = options.splice(0, 1)[0];\n\t            settings[key] = setting;\n\t          }\n\t        }\n\n\t        /*  handle common settings  */\n\n\t        // target\n\t        this.parent = dom.parseElement(settings.target);\n\n\t        // nexus-ui attribute\n\t        if (this.parent && this.parent instanceof HTMLElement && !settings.component) {\n\t          if (!this.parent.hasAttribute(\"nexus-ui\")) {\n\t            this.parent.setAttribute(\"nexus-ui\", \"\");\n\t          }\n\t        }\n\n\t        // size\n\t        if (settings.size && Array.isArray(settings.size) && settings.snapWithParent) {\n\t          this.width = settings.size[0];\n\t          this.height = settings.size[1];\n\t          this.parent.style.width = this.width + \"px\";\n\t          this.parent.style.height = this.height + \"px\";\n\t        } else if (settings.snapWithParent) {\n\t          this.width = parseFloat(this.parent.style.width);\n\t          this.height = parseFloat(this.parent.style.height);\n\n\t          if (!this.width) {\n\t            this.width = parseFloat(this.parent.width);\n\t          }\n\t          if (!this.height) {\n\t            this.height = parseFloat(this.parent.height);\n\t          }\n\n\t          if (this.parent.style.width) {\n\t            if (this.parent.style.width.indexOf(\"%\") > 0) {\n\t              this.width = parseFloat(window.getComputedStyle(this.parent, null).getPropertyValue(\"width\").replace(\"px\", \"\"));\n\t            }\n\t          }\n\t          if (this.parent.width) {\n\t            if (this.parent.width.indexOf(\"%\") > 0) {\n\t              this.width = parseFloat(window.getComputedStyle(this.parent, null).getPropertyValue(\"width\").replace(\"px\", \"\"));\n\t            }\n\t          }\n\n\t          if (this.parent.style.height) {\n\t            if (this.parent.style.height.indexOf(\"%\") > 0) {\n\t              this.height = parseFloat(window.getComputedStyle(this.parent, null).getPropertyValue(\"height\").replace(\"px\", \"\"));\n\t            }\n\t          }\n\t          if (this.parent.height) {\n\t            if (this.parent.height.indexOf(\"%\") > 0) {\n\t              this.height = parseFloat(window.getComputedStyle(this.parent, null).getPropertyValue(\"height\").replace(\"px\", \"\"));\n\t            }\n\t          }\n\n\t          /*  if (this.parent.style.height.indexOf(\"%\")>0 || this.parent.height.indexOf(\"%\")>0) {\n\t              this.height = parseFloat(window.getComputedStyle(this.parent, null).getPropertyValue('height').replace('px',''));\n\t            } */\n\n\t          //    this.width = parseFloat(window.getComputedStyle(this.parent, null).getPropertyValue('width').replace('px',''));\n\t          //    this.height = parseFloat(window.getComputedStyle(this.parent, null).getPropertyValue('height').replace('px',''));\n\t          if (!this.width) {\n\t            this.width = settings.defaultSize[0];\n\t            this.parent.style.width = this.width + \"px\";\n\t          }\n\t          if (!this.height) {\n\t            this.height = settings.defaultSize[1];\n\t            this.parent.style.height = this.height + \"px\";\n\t          }\n\t        } else {\n\t          settings.size = settings.defaultSize;\n\t          this.width = settings.size[0];\n\t          this.height = settings.size[1];\n\t        }\n\n\t        // event\n\t        if (settings.event) {\n\t          this.event = this.on(\"change\", settings.event);\n\t        } else {\n\t          this.event = false;\n\t        }\n\n\t        return settings;\n\t      }\n\t    },\n\t    init: {\n\t      value: function init() {\n\t        this.buildFrame();\n\t        this.buildInterface();\n\t        this.sizeInterface();\n\t        this.attachListeners();\n\t        this.colorInterface();\n\t        this.finalTouches();\n\t      }\n\t    },\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = svg.create(\"svg\");\n\t        this.element.setAttribute(\"width\", this.width);\n\t        this.element.setAttribute(\"height\", this.height);\n\t        this.parent.appendChild(this.element);\n\t      }\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {}\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {}\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {}\n\t    },\n\t    attachListeners: {\n\t      value: function attachListeners() {\n\t        var _this = this;\n\n\t        this.interactionTarget = this.interactionTarget || this.element;\n\n\t        // Setup interaction\n\t        if (touch.exists) {\n\t          this.interactionTarget.addEventListener(\"touchstart\", function (evt) {\n\t            return _this.preTouch(evt);\n\t          });\n\t          this.interactionTarget.addEventListener(\"touchmove\", function (evt) {\n\t            return _this.preTouchMove(evt);\n\t          });\n\t          this.interactionTarget.addEventListener(\"touchend\", function (evt) {\n\t            return _this.preTouchRelease(evt);\n\t          });\n\t        }\n\t        this.boundPreMove = function (evt) {\n\t          return _this.preMove(evt);\n\t        };\n\t        this.boundPreRelease = function (evt) {\n\t          return _this.preRelease(evt);\n\t        };\n\t        this.interactionTarget.addEventListener(\"mousedown\", function (evt) {\n\t          return _this.preClick(evt);\n\t        });\n\t      }\n\t    },\n\t    finalTouches: {\n\t      value: function finalTouches() {\n\t        this.element.style.cursor = \"pointer\";\n\t      }\n\t    },\n\t    preClick: {\n\t      value: function preClick(e) {\n\t        // 10000 getComputedStyle calls takes 100 ms.\n\t        // .:. one takes about .01ms\n\t        if (this.element instanceof HTMLElement) {\n\t          this.width = window.getComputedStyle(this.element, null).getPropertyValue(\"width\").replace(\"px\", \"\");\n\t        }\n\t        // 10000 getComputedStyle calls takes 40 ms.\n\t        // .:. one takes about .004ms\n\t        this.offset = dom.findPosition(this.element);\n\t        this.mouse = dom.locateMouse(e, this.offset);\n\t        this.clicked = true;\n\t        this.click();\n\t        this.moveEvent = document.addEventListener(\"mousemove\", this.boundPreMove);\n\t        this.releaseEvent = document.addEventListener(\"mouseup\", this.boundPreRelease);\n\t        e.preventDefault();\n\t        e.stopPropagation();\n\t      }\n\t    },\n\t    preMove: {\n\t      value: function preMove(e) {\n\t        var _this = this;\n\n\t        if (!this.wait) {\n\t          this.mouse = dom.locateMouse(e, this.offset);\n\t          this.move();\n\t          this.wait = true;\n\t          setTimeout(function () {\n\t            _this.wait = false;\n\t          }, 25);\n\t        }\n\t        e.preventDefault();\n\t        e.stopPropagation();\n\t      }\n\t    },\n\t    preRelease: {\n\t      value: function preRelease(e) {\n\t        this.mouse = dom.locateMouse(e, this.offset);\n\t        this.clicked = false;\n\t        this.release();\n\t        document.removeEventListener(\"mousemove\", this.boundPreMove);\n\t        document.removeEventListener(\"mouseup\", this.boundPreRelease);\n\t        e.preventDefault();\n\t        e.stopPropagation();\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {}\n\t    },\n\t    move: {\n\t      value: function move() {}\n\t    },\n\t    release: {\n\t      value: function release() {}\n\t    },\n\t    preTouch: {\n\n\t      /* touch */\n\n\t      value: function preTouch(e) {\n\t        if (this.element instanceof HTMLElement) {\n\t          this.width = window.getComputedStyle(this.element, null).getPropertyValue(\"width\").replace(\"px\", \"\");\n\t        }\n\t        this.offset = dom.findPosition(this.element);\n\t        this.mouse = dom.locateTouch(e, this.offset);\n\t        this.clicked = true;\n\t        this.touch(e);\n\t        e.preventDefault();\n\t        e.stopPropagation();\n\t      }\n\t    },\n\t    preTouchMove: {\n\t      value: function preTouchMove(e) {\n\t        if (this.clicked) {\n\t          this.mouse = dom.locateTouch(e, this.offset);\n\t          this.touchMove();\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        }\n\t      }\n\t    },\n\t    preTouchRelease: {\n\t      value: function preTouchRelease(e) {\n\t        this.mouse = dom.locateTouch(e, this.offset);\n\t        this.clicked = false;\n\t        this.touchRelease();\n\t        e.preventDefault();\n\t        e.stopPropagation();\n\t      }\n\t    },\n\t    touch: {\n\t      value: function touch() {\n\t        this.click();\n\t      }\n\t    },\n\t    touchMove: {\n\t      value: function touchMove() {\n\t        this.move();\n\t      }\n\t    },\n\t    touchRelease: {\n\t      value: function touchRelease() {\n\t        this.release();\n\t      }\n\t    },\n\t    resize: {\n\n\t      /**\n\t      * Resize the interface\n\t      * @param width {number} New width in pixels\n\t      * @param height {number} New height in pixels\n\t      *\n\t      * @example\n\t      * button.resize(100,100);\n\t      */\n\n\t      value: function resize(width, height) {\n\t        this.width = width;\n\t        this.height = height;\n\t        this.parent.style.width = this.width + \"px\";\n\t        this.parent.style.height = this.height + \"px\";\n\t        this.element.setAttribute(\"width\", this.width);\n\t        this.element.setAttribute(\"height\", this.height);\n\t        this.sizeInterface();\n\t      }\n\t    },\n\t    empty: {\n\t      value: function empty() {\n\t        while (this.element.lastChild) {\n\t          this.element.removeChild(this.element.lastChild);\n\t        }\n\t      }\n\t    },\n\t    destroy: {\n\n\t      /**\n\t      * Remove the interface from the page and cancel its event listener(s).\n\t      *\n\t      * @example\n\t      * button.destroy());\n\t      */\n\n\t      value: function destroy() {\n\t        this.empty();\n\t        this.parent.removeChild(this.element);\n\t        this.removeAllListeners();\n\t        if (this.instrument) {\n\t          delete this.instrument[this.id];\n\t        }\n\t        this.customDestroy();\n\t      }\n\t    },\n\t    customDestroy: {\n\t      value: function customDestroy() {}\n\t    },\n\t    colorize: {\n\t      value: function colorize(type, color) {\n\t        this.colors[type] = color;\n\t        this.colorInterface();\n\t      }\n\t    }\n\t  });\n\n\t  return Interface;\n\t})(EventEmitter);\n\n\tmodule.exports = Interface;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\n\texports.findPosition = function (el) {\n\t  var viewportOffset = el.getBoundingClientRect();\n\t  var top = viewportOffset.top + window.scrollY;\n\t  var left = viewportOffset.left + window.scrollX;\n\t  return { top: top, left: left };\n\t};\n\n\texports.parseElement = function (parent) {\n\t  if (typeof parent === \"string\") {\n\t    parent = document.getElementById(parent.replace(\"#\", \"\"));\n\t  }\n\n\t  if (parent instanceof HTMLElement || parent instanceof SVGElement) {\n\t    return parent;\n\t  } else {\n\t    return \"No valid parent argument\";\n\t  }\n\t};\n\n\texports.locateMouse = function (e, offset) {\n\t  return {\n\t    x: e.pageX - offset.left,\n\t    y: e.pageY - offset.top\n\t  };\n\t};\n\n\texports.locateTouch = function (e, offset) {\n\t  return {\n\t    x: e.targetTouches.length ? e.targetTouches[0].pageX - offset.left : false,\n\t    y: e.targetTouches.length ? e.targetTouches[0].pageY - offset.top : false\n\t  };\n\t};\n\n\texports.SmartCanvas = function (parent) {\n\t  var _this = this;\n\n\t  this.element = document.createElement(\"canvas\");\n\t  this.context = this.element.getContext(\"2d\");\n\t  parent.appendChild(this.element);\n\n\t  this.resize = function (w, h) {\n\t    _this.element.width = w * 2;\n\t    _this.element.height = h * 2;\n\t    _this.element.style.width = w + \"px\";\n\t    _this.element.style.height = h + \"px\";\n\t  };\n\t};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\n\texports.isObject = function (obj) {\n\t  if (typeof obj === \"object\" && !Array.isArray(obj) && obj !== null && obj instanceof SVGElement === false && obj instanceof HTMLElement === false) {\n\t    return true;\n\t  } else {\n\t    return false;\n\t  }\n\t};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\n\texports.exists = \"ontouchstart\" in document.documentElement;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n\t// Copyright Joyent, Inc. and other Node contributors.\n\t//\n\t// Permission is hereby granted, free of charge, to any person obtaining a\n\t// copy of this software and associated documentation files (the\n\t// \"Software\"), to deal in the Software without restriction, including\n\t// without limitation the rights to use, copy, modify, merge, publish,\n\t// distribute, sublicense, and/or sell copies of the Software, and to permit\n\t// persons to whom the Software is furnished to do so, subject to the\n\t// following conditions:\n\t//\n\t// The above copyright notice and this permission notice shall be included\n\t// in all copies or substantial portions of the Software.\n\t//\n\t// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\t// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\t// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n\t// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n\t// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n\t// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n\t// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\tfunction EventEmitter() {\n\t  this._events = this._events || {};\n\t  this._maxListeners = this._maxListeners || undefined;\n\t}\n\tmodule.exports = EventEmitter;\n\n\t// Backwards-compat with node 0.10.x\n\tEventEmitter.EventEmitter = EventEmitter;\n\n\tEventEmitter.prototype._events = undefined;\n\tEventEmitter.prototype._maxListeners = undefined;\n\n\t// By default EventEmitters will print a warning if more than 10 listeners are\n\t// added to it. This is a useful default which helps finding memory leaks.\n\tEventEmitter.defaultMaxListeners = 10;\n\n\t// Obviously not all Emitters should be limited to 10. This function allows\n\t// that to be increased. Set to zero for unlimited.\n\tEventEmitter.prototype.setMaxListeners = function(n) {\n\t  if (!isNumber(n) || n < 0 || isNaN(n))\n\t    throw TypeError('n must be a positive number');\n\t  this._maxListeners = n;\n\t  return this;\n\t};\n\n\tEventEmitter.prototype.emit = function(type) {\n\t  var er, handler, len, args, i, listeners;\n\n\t  if (!this._events)\n\t    this._events = {};\n\n\t  // If there is no 'error' event listener then throw.\n\t  if (type === 'error') {\n\t    if (!this._events.error ||\n\t        (isObject(this._events.error) && !this._events.error.length)) {\n\t      er = arguments[1];\n\t      if (er instanceof Error) {\n\t        throw er; // Unhandled 'error' event\n\t      } else {\n\t        // At least give some kind of context to the user\n\t        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n\t        err.context = er;\n\t        throw err;\n\t      }\n\t    }\n\t  }\n\n\t  handler = this._events[type];\n\n\t  if (isUndefined(handler))\n\t    return false;\n\n\t  if (isFunction(handler)) {\n\t    switch (arguments.length) {\n\t      // fast cases\n\t      case 1:\n\t        handler.call(this);\n\t        break;\n\t      case 2:\n\t        handler.call(this, arguments[1]);\n\t        break;\n\t      case 3:\n\t        handler.call(this, arguments[1], arguments[2]);\n\t        break;\n\t      // slower\n\t      default:\n\t        args = Array.prototype.slice.call(arguments, 1);\n\t        handler.apply(this, args);\n\t    }\n\t  } else if (isObject(handler)) {\n\t    args = Array.prototype.slice.call(arguments, 1);\n\t    listeners = handler.slice();\n\t    len = listeners.length;\n\t    for (i = 0; i < len; i++)\n\t      listeners[i].apply(this, args);\n\t  }\n\n\t  return true;\n\t};\n\n\tEventEmitter.prototype.addListener = function(type, listener) {\n\t  var m;\n\n\t  if (!isFunction(listener))\n\t    throw TypeError('listener must be a function');\n\n\t  if (!this._events)\n\t    this._events = {};\n\n\t  // To avoid recursion in the case that type === \"newListener\"! Before\n\t  // adding it to the listeners, first emit \"newListener\".\n\t  if (this._events.newListener)\n\t    this.emit('newListener', type,\n\t              isFunction(listener.listener) ?\n\t              listener.listener : listener);\n\n\t  if (!this._events[type])\n\t    // Optimize the case of one listener. Don't need the extra array object.\n\t    this._events[type] = listener;\n\t  else if (isObject(this._events[type]))\n\t    // If we've already got an array, just append.\n\t    this._events[type].push(listener);\n\t  else\n\t    // Adding the second element, need to change to array.\n\t    this._events[type] = [this._events[type], listener];\n\n\t  // Check for listener leak\n\t  if (isObject(this._events[type]) && !this._events[type].warned) {\n\t    if (!isUndefined(this._maxListeners)) {\n\t      m = this._maxListeners;\n\t    } else {\n\t      m = EventEmitter.defaultMaxListeners;\n\t    }\n\n\t    if (m && m > 0 && this._events[type].length > m) {\n\t      this._events[type].warned = true;\n\t      console.error('(node) warning: possible EventEmitter memory ' +\n\t                    'leak detected. %d listeners added. ' +\n\t                    'Use emitter.setMaxListeners() to increase limit.',\n\t                    this._events[type].length);\n\t      if (typeof console.trace === 'function') {\n\t        // not supported in IE 10\n\t        console.trace();\n\t      }\n\t    }\n\t  }\n\n\t  return this;\n\t};\n\n\tEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\n\tEventEmitter.prototype.once = function(type, listener) {\n\t  if (!isFunction(listener))\n\t    throw TypeError('listener must be a function');\n\n\t  var fired = false;\n\n\t  function g() {\n\t    this.removeListener(type, g);\n\n\t    if (!fired) {\n\t      fired = true;\n\t      listener.apply(this, arguments);\n\t    }\n\t  }\n\n\t  g.listener = listener;\n\t  this.on(type, g);\n\n\t  return this;\n\t};\n\n\t// emits a 'removeListener' event iff the listener was removed\n\tEventEmitter.prototype.removeListener = function(type, listener) {\n\t  var list, position, length, i;\n\n\t  if (!isFunction(listener))\n\t    throw TypeError('listener must be a function');\n\n\t  if (!this._events || !this._events[type])\n\t    return this;\n\n\t  list = this._events[type];\n\t  length = list.length;\n\t  position = -1;\n\n\t  if (list === listener ||\n\t      (isFunction(list.listener) && list.listener === listener)) {\n\t    delete this._events[type];\n\t    if (this._events.removeListener)\n\t      this.emit('removeListener', type, listener);\n\n\t  } else if (isObject(list)) {\n\t    for (i = length; i-- > 0;) {\n\t      if (list[i] === listener ||\n\t          (list[i].listener && list[i].listener === listener)) {\n\t        position = i;\n\t        break;\n\t      }\n\t    }\n\n\t    if (position < 0)\n\t      return this;\n\n\t    if (list.length === 1) {\n\t      list.length = 0;\n\t      delete this._events[type];\n\t    } else {\n\t      list.splice(position, 1);\n\t    }\n\n\t    if (this._events.removeListener)\n\t      this.emit('removeListener', type, listener);\n\t  }\n\n\t  return this;\n\t};\n\n\tEventEmitter.prototype.removeAllListeners = function(type) {\n\t  var key, listeners;\n\n\t  if (!this._events)\n\t    return this;\n\n\t  // not listening for removeListener, no need to emit\n\t  if (!this._events.removeListener) {\n\t    if (arguments.length === 0)\n\t      this._events = {};\n\t    else if (this._events[type])\n\t      delete this._events[type];\n\t    return this;\n\t  }\n\n\t  // emit removeListener for all listeners on all events\n\t  if (arguments.length === 0) {\n\t    for (key in this._events) {\n\t      if (key === 'removeListener') continue;\n\t      this.removeAllListeners(key);\n\t    }\n\t    this.removeAllListeners('removeListener');\n\t    this._events = {};\n\t    return this;\n\t  }\n\n\t  listeners = this._events[type];\n\n\t  if (isFunction(listeners)) {\n\t    this.removeListener(type, listeners);\n\t  } else if (listeners) {\n\t    // LIFO order\n\t    while (listeners.length)\n\t      this.removeListener(type, listeners[listeners.length - 1]);\n\t  }\n\t  delete this._events[type];\n\n\t  return this;\n\t};\n\n\tEventEmitter.prototype.listeners = function(type) {\n\t  var ret;\n\t  if (!this._events || !this._events[type])\n\t    ret = [];\n\t  else if (isFunction(this._events[type]))\n\t    ret = [this._events[type]];\n\t  else\n\t    ret = this._events[type].slice();\n\t  return ret;\n\t};\n\n\tEventEmitter.prototype.listenerCount = function(type) {\n\t  if (this._events) {\n\t    var evlistener = this._events[type];\n\n\t    if (isFunction(evlistener))\n\t      return 1;\n\t    else if (evlistener)\n\t      return evlistener.length;\n\t  }\n\t  return 0;\n\t};\n\n\tEventEmitter.listenerCount = function(emitter, type) {\n\t  return emitter.listenerCount(type);\n\t};\n\n\tfunction isFunction(arg) {\n\t  return typeof arg === 'function';\n\t}\n\n\tfunction isNumber(arg) {\n\t  return typeof arg === 'number';\n\t}\n\n\tfunction isObject(arg) {\n\t  return typeof arg === 'object' && arg !== null;\n\t}\n\n\tfunction isUndefined(arg) {\n\t  return arg === void 0;\n\t}\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar math = __webpack_require__(5);\n\n\t/**\n\t  Creates a steppable value with minimum, maximum, and step size. This is used in many interfaces to constrict their values to certain ranges.\n\t  @param {number} [min=0] minimum\n\t  @param {number} [max=1] maximum\n\t  @param {number} [step=0]\n\t  @param {number} [value=0] initial value\n\t  @returns {Object} Step\n\t*/\n\n\tvar Step = (function () {\n\t  function Step() {\n\t    var min = arguments[0] === undefined ? 0 : arguments[0];\n\t    var max = arguments[1] === undefined ? 1 : arguments[1];\n\t    var step = arguments[2] === undefined ? 0 : arguments[2];\n\t    var value = arguments[3] === undefined ? 0 : arguments[3];\n\n\t    _classCallCheck(this, Step);\n\n\t    //Object.assign(this,{min,max,step});\n\t    //Cannot use Object.assign because not supported in Safari.\n\t    //I would expect for Babel to take care of this but it is not.\n\t    this.min = min;\n\t    this.max = max;\n\t    this.step = step;\n\t    this.value = value;\n\t    this.changed = false;\n\t    this.oldValue = false;\n\t    this.update(this.value);\n\t  }\n\n\t  _createClass(Step, {\n\t    update: {\n\n\t      /**\n\t        Update with a new value. The value will be auto-adjusted to fit the min/max/step.\n\t        @param {number} value\n\t      */\n\n\t      value: function update(value) {\n\t        if (this.step) {\n\t          // this.value = math.clip(Math.round(value / (this.step)) * this.step, this.min,this.max);\n\t          this.value = math.clip(Math.round((value - this.min) / this.step) * this.step + this.min, this.min, this.max);\n\t        } else {\n\t          this.value = math.clip(value, this.min, this.max);\n\t        }\n\t        if (this.oldValue !== this.value) {\n\t          this.oldValue = this.value;\n\t          this.changed = true;\n\t        } else {\n\t          this.changed = false;\n\t        }\n\t        return this.value;\n\t      }\n\t    },\n\t    updateNormal: {\n\n\t      /**\n\t        Update with a normalized value 0-1.\n\t        @param {number} value\n\t      */\n\n\t      value: function updateNormal(value) {\n\t        this.value = math.scale(value, 0, 1, this.min, this.max);\n\t        return this.update(this.value);\n\t      }\n\t    },\n\t    normalized: {\n\n\t      /**\n\t        Get a normalized version of this.value . Not settable.\n\t      */\n\n\t      get: function () {\n\t        return math.normalize(this.value, this.min, this.max);\n\t      }\n\t    }\n\t  });\n\n\t  return Step;\n\t})();\n\n\tmodule.exports = Step;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\"use strict\";\n\n\tvar math = _interopRequire(__webpack_require__(5));\n\n\tvar ToggleModel = _interopRequire(__webpack_require__(13));\n\n\t/*\n\thow to use :\n\n\tdial.interaction = new Handle('radial','relative',this.width,this.height);\n\t// dial.interaction.mode = 'relative'\n\t// dial.interaction.direction = 'radial'\n\n\ton click:\n\tdial.interaction.anchor = this.mouse;\n\n\ton move:\n\tdial.interaction.update(this.mouse);\n\n\tconsole.log( dial.interaction.value ); should be a normalized value.\n\n\t*/\n\n\t/*\n\t  absolute/relative are property: mode\n\t  radial/vertical/horizontal/2d are property: direction\n\n\t  plan :\n\n\t  if relative --\n\t  NO on click, get value offset between current value and click value.\n\t  NO on move, use click value - offset\n\t  INSTEAD\n\t  use delta -- bc vertical motion on dial is impossible otherwise\n\t  also allow to set sensitivity\n\n\t*/\n\n\tvar Handle = exports.Handle = (function () {\n\t  function Handle() {\n\t    var mode = arguments[0] === undefined ? \"absolute\" : arguments[0];\n\t    var direction = arguments[1] === undefined ? \"vertical\" : arguments[1];\n\t    var xbound = arguments[2] === undefined ? [0, 100] : arguments[2];\n\t    var ybound = arguments[3] === undefined ? [0, 100] : arguments[3];\n\n\t    _classCallCheck(this, Handle);\n\n\t    this.mode = mode;\n\t    this.direction = direction;\n\t    this.previous = 0;\n\t    this.value = 0;\n\t    this.sensitivity = 1;\n\t    this.resize(xbound, ybound);\n\t  }\n\n\t  _createClass(Handle, {\n\t    resize: {\n\t      value: function resize(xbound, ybound) {\n\t        this.boundary = {\n\t          min: {\n\t            x: xbound[0],\n\t            y: ybound[0]\n\t          },\n\t          max: {\n\t            x: xbound[1],\n\t            y: ybound[1]\n\t          },\n\t          center: {\n\t            x: (xbound[1] - xbound[0]) / 2 + xbound[0],\n\t            y: (ybound[1] - ybound[0]) / 2 + ybound[0]\n\t          }\n\t        };\n\t      }\n\t    },\n\t    anchor: {\n\t      set: function (mouse) {\n\t        this._anchor = this.convertPositionToValue(mouse);\n\t      },\n\t      get: function () {\n\t        return this._anchor;\n\t      }\n\t    },\n\t    update: {\n\t      value: function update(mouse) {\n\t        if (this.mode === \"relative\") {\n\t          var increment = this.convertPositionToValue(mouse) - this.anchor;\n\t          if (Math.abs(increment) > 0.5) {\n\t            increment = 0;\n\t          }\n\t          this.anchor = mouse;\n\t          this.value = this.value + increment * this.sensitivity;\n\t        } else {\n\t          this.value = this.convertPositionToValue(mouse);\n\t        }\n\t        this.value = math.clip(this.value, 0, 1);\n\t      }\n\t    },\n\t    convertPositionToValue: {\n\t      value: function convertPositionToValue(current) {\n\t        switch (this.direction) {\n\t          case \"radial\":\n\t            var position = math.toPolar(current.x - this.boundary.center.x, current.y - this.boundary.center.y);\n\t            position = position.angle / (Math.PI * 2);\n\t            position = (position - 0.25 + 1) % 1;\n\t            return position;\n\t          case \"vertical\":\n\t            return math.scale(current.y, this.boundary.min.y, this.boundary.max.y, 0, 1);\n\t          case \"horizontal\":\n\t            return math.scale(current.x, this.boundary.min.x, this.boundary.max.x, 0, 1);\n\t        }\n\t      }\n\t    }\n\t  });\n\n\t  return Handle;\n\t})();\n\n\tvar Button = exports.Button = (function () {\n\t  function Button() {\n\t    var mode = arguments[0] === undefined ? \"button\" : arguments[0];\n\n\t    _classCallCheck(this, Button);\n\n\t    this.mode = mode;\n\t    this.state = new ToggleModel();\n\t    this.paintbrush = false;\n\t  }\n\n\t  _createClass(Button, {\n\t    click: {\n\t      value: function click() {\n\t        switch (this.mode) {\n\t          case \"impulse\":\n\t            this.state.on();\n\t            if (this.timeout) {\n\t              clearTimeout(this.timeout);\n\t            }\n\t            this.timeout = setTimeout(this.state.off.bind(this), 30);\n\t            this.emit(\"change\", this.state);\n\t            break;\n\t          case \"button\":\n\t            this.turnOn();\n\t            this.emit(\"change\", this.state);\n\t            break;\n\t          case \"aftertouch\":\n\t            this.position = {\n\t              x: math.clip(this.mouse.x / this.width, 0, 1),\n\t              y: math.clip(1 - this.mouse.y / this.height, 0, 1)\n\t            };\n\t            this.turnOn();\n\t            this.emit(\"change\", {\n\t              state: this.state,\n\t              x: this.position.x,\n\t              y: this.position.y });\n\t            break;\n\t          case \"toggle\":\n\t            this.flip();\n\t            this.emit(\"change\", this.state);\n\t            break;\n\t        }\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        if (this.mode === \"aftertouch\") {\n\t          this.position = {\n\t            x: math.clip(this.mouse.x / this.width, 0, 1),\n\t            y: math.clip(1 - this.mouse.y / this.height, 0, 1)\n\t          };\n\t          this.emit(\"change\", {\n\t            state: this.state,\n\t            x: this.position.x,\n\t            y: this.position.y });\n\t          this.render();\n\t        }\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {\n\t        switch (this.mode) {\n\t          case \"button\":\n\t            this.turnOff();\n\t            this.emit(\"change\", this.state);\n\t            break;\n\t          case \"aftertouch\":\n\t            this.turnOff();\n\t            this.position = {\n\t              x: this.mouse.x / this.width,\n\t              y: 1 - this.mouse.y / this.height\n\t            };\n\t            this.emit(\"change\", {\n\t              state: this.state,\n\t              x: this.position.x,\n\t              y: this.position.y });\n\t            break;\n\t        }\n\t      }\n\t    }\n\t  });\n\n\t  return Button;\n\t})();\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar Toggle = (function () {\n\t  function Toggle(state) {\n\t    _classCallCheck(this, Toggle);\n\n\t    this.state = state || false;\n\t  }\n\n\t  _createClass(Toggle, {\n\t    flip: {\n\t      value: function flip(state) {\n\t        if (state || state === false) {\n\t          this.state = state;\n\t        } else {\n\t          this.state = !this.state;\n\t        }\n\t      }\n\t    },\n\t    on: {\n\t      value: function on() {\n\t        this.state = true;\n\t      }\n\t    },\n\t    off: {\n\t      value: function off() {\n\t        this.state = false;\n\t      }\n\t    }\n\t  });\n\n\t  return Toggle;\n\t})();\n\n\tmodule.exports = Toggle;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar svg = __webpack_require__(4);\n\tvar Interface = __webpack_require__(6);\n\tvar Step = __webpack_require__(11);\n\n\tvar Interaction = _interopRequireWildcard(__webpack_require__(12));\n\n\t/**\n\t* Slider\n\t*\n\t* @description Horizontal or vertical slider with settable interaction modes.\n\t*\n\t* @demo <span nexus-ui=\"slider\" step=0.2></span>\n\t*\n\t* @example\n\t* var slider = new Nexus.Slider('#target')\n\t*\n\t* @example\n\t* var slider = new Nexus.Slider('#target',{\n\t*     'size': [120,20],\n\t*     'mode': 'relative',  // 'relative' or 'absolute'\n\t*     'min': 0,\n\t*     'max': 1,\n\t*     'step': 0,\n\t*     'value': 0\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires when the interface's value changes. <br>\n\t* Event data: <i>number</i> The number value of the interface.\n\t*\n\t* @outputexample\n\t* slider.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*\n\t*/\n\n\tvar Slider = (function (_Interface) {\n\t  function Slider() {\n\t    _classCallCheck(this, Slider);\n\n\t    var options = [\"min\", \"max\", \"value\"];\n\n\t    var defaults = {\n\t      size: [120, 20],\n\t      mode: \"relative\", // 'relative' or 'absolute'\n\t      min: 0,\n\t      max: 1,\n\t      step: 0,\n\t      value: 0\n\t    };\n\n\t    _get(Object.getPrototypeOf(Slider.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this.orientation = \"vertical\"; // This will change automatically to 'horizontal'if the interface is wider than it is tall.\n\n\t    this._value = new Step(this.settings.min, this.settings.max, this.settings.step, this.settings.value);\n\n\t    this.position = new Interaction.Handle(this.settings.mode, this.orientation, [0, this.width], [this.height, 0]);\n\t    this.position.value = this._value.normalized;\n\n\t    this.init();\n\n\t    this.position.direction = this.orientation;\n\n\t    this.emit(\"change\", this.value);\n\t  }\n\n\t  _inherits(Slider, _Interface);\n\n\t  _createClass(Slider, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\n\t        this.bar = svg.create(\"rect\");\n\t        this.fillbar = svg.create(\"rect\");\n\t        this.knob = svg.create(\"circle\");\n\n\t        this.element.appendChild(this.bar);\n\t        this.element.appendChild(this.fillbar);\n\t        this.element.appendChild(this.knob);\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        if (this.width < this.height) {\n\t          this.orientation = \"vertical\";\n\t        } else {\n\t          this.orientation = \"horizontal\";\n\t        }\n\n\t        if (this.position) {\n\t          this.position.resize([0, this.width], [this.height, 0]);\n\t        }\n\n\t        var x = undefined,\n\t            y = undefined,\n\t            w = undefined,\n\t            h = undefined,\n\t            barOffset = undefined,\n\t            cornerRadius = undefined;\n\t        this.knobData = {\n\t          level: 0,\n\t          r: 0\n\t        };\n\n\t        if (this.orientation === \"vertical\") {\n\t          this.thickness = this.width / 2;\n\t          x = this.width / 2;\n\t          y = 0;\n\t          w = this.thickness;\n\t          h = this.height;\n\t          this.knobData.r = this.thickness * 0.8;\n\t          this.knobData.level = h - this.knobData.r - this.normalized * (h - this.knobData.r * 2);\n\t          barOffset = \"translate(\" + this.thickness * -1 / 2 + \",0)\";\n\t          cornerRadius = w / 2;\n\t        } else {\n\t          this.thickness = this.height / 2;\n\t          x = 0;\n\t          y = this.height / 2;\n\t          w = this.width;\n\t          h = this.thickness;\n\t          this.knobData.r = this.thickness * 0.8;\n\t          this.knobData.level = this.normalized * (w - this.knobData.r * 2) + this.knobData.r;\n\t          barOffset = \"translate(0,\" + this.thickness * -1 / 2 + \")\";\n\t          cornerRadius = h / 2;\n\t        }\n\n\t        this.bar.setAttribute(\"x\", x);\n\t        this.bar.setAttribute(\"y\", y);\n\t        this.bar.setAttribute(\"transform\", barOffset);\n\t        this.bar.setAttribute(\"rx\", cornerRadius); // corner radius\n\t        this.bar.setAttribute(\"ry\", cornerRadius);\n\t        this.bar.setAttribute(\"width\", w);\n\t        this.bar.setAttribute(\"height\", h);\n\n\t        if (this.orientation === \"vertical\") {\n\t          this.fillbar.setAttribute(\"x\", x);\n\t          this.fillbar.setAttribute(\"y\", this.knobData.level);\n\t          this.fillbar.setAttribute(\"width\", w);\n\t          this.fillbar.setAttribute(\"height\", h - this.knobData.level);\n\t        } else {\n\t          this.fillbar.setAttribute(\"x\", 0);\n\t          this.fillbar.setAttribute(\"y\", y);\n\t          this.fillbar.setAttribute(\"width\", this.knobData.level);\n\t          this.fillbar.setAttribute(\"height\", h);\n\t        }\n\t        this.fillbar.setAttribute(\"transform\", barOffset);\n\t        this.fillbar.setAttribute(\"rx\", cornerRadius);\n\t        this.fillbar.setAttribute(\"ry\", cornerRadius);\n\n\t        if (this.orientation === \"vertical\") {\n\t          this.knob.setAttribute(\"cx\", x);\n\t          this.knob.setAttribute(\"cy\", this.knobData.level);\n\t        } else {\n\t          this.knob.setAttribute(\"cx\", this.knobData.level);\n\t          this.knob.setAttribute(\"cy\", y);\n\t        }\n\t        this.knob.setAttribute(\"r\", this.knobData.r);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.bar.setAttribute(\"fill\", this.colors.fill);\n\t        this.fillbar.setAttribute(\"fill\", this.colors.accent);\n\t        this.knob.setAttribute(\"fill\", this.colors.accent);\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (!this.clicked) {\n\t          this.knobData.r = this.thickness * 0.75;\n\t        }\n\t        this.knob.setAttribute(\"r\", this.knobData.r);\n\n\t        if (this.orientation === \"vertical\") {\n\t          this.knobData.level = this.knobData.r + this._value.normalized * (this.height - this.knobData.r * 2);\n\t          this.knob.setAttribute(\"cy\", this.height - this.knobData.level);\n\t          this.fillbar.setAttribute(\"y\", this.height - this.knobData.level);\n\t          this.fillbar.setAttribute(\"height\", this.knobData.level);\n\t        } else {\n\t          this.knobData.level = this._value.normalized * (this.width - this.knobData.r * 2) + this.knobData.r;\n\t          this.knob.setAttribute(\"cx\", this.knobData.level);\n\t          this.fillbar.setAttribute(\"x\", 0);\n\t          this.fillbar.setAttribute(\"width\", this.knobData.level);\n\t        }\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.knobData.r = this.thickness * 0.9;\n\t        this.position.anchor = this.mouse;\n\t        this.move();\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        if (this.clicked) {\n\t          this.position.update(this.mouse);\n\t          this._value.updateNormal(this.position.value);\n\t          this.emit(\"change\", this._value.value);\n\t          this.render();\n\t        }\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {\n\t        this.render();\n\t      }\n\t    },\n\t    normalized: {\n\t      get: function () {\n\t        return this._value.normalized;\n\t      }\n\t    },\n\t    value: {\n\n\t      /**\n\t      The slider's current value. If set manually, will update the interface and trigger the output event.\n\t      @type {number}\n\t      @example slider.value = 10;\n\t      */\n\n\t      get: function () {\n\t        return this._value.value;\n\t      },\n\t      set: function (v) {\n\t        this._value.update(v);\n\t        this.position.value = this._value.normalized;\n\t        this.emit(\"change\", this._value.value);\n\t        this.render();\n\t      }\n\t    },\n\t    min: {\n\n\t      /**\n\t      Lower limit of the sliders's output range\n\t      @type {number}\n\t      @example slider.min = 1000;\n\t      */\n\n\t      get: function () {\n\t        return this._value.min;\n\t      },\n\t      set: function (v) {\n\t        this._value.min = v;\n\t      }\n\t    },\n\t    max: {\n\n\t      /**\n\t      Upper limit of the slider's output range\n\t      @type {number}\n\t      @example slider.max = 1000;\n\t      */\n\n\t      get: function () {\n\t        return this._value.max;\n\t      },\n\t      set: function (v) {\n\t        this._value.max = v;\n\t      }\n\t    },\n\t    step: {\n\n\t      /**\n\t      The increment that the slider's value changes by.\n\t      @type {number}\n\t      @example slider.step = 5;\n\t      */\n\n\t      get: function () {\n\t        return this._value.step;\n\t      },\n\t      set: function (v) {\n\t        this._value.step = v;\n\t      }\n\t    },\n\t    mode: {\n\n\t      /**\n\t      Absolute mode (slider's value jumps to mouse click position) or relative mode (mouse drag changes value relative to its current position). Default: \"relative\".\n\t      @type {string}\n\t      @example slider.mode = \"relative\";\n\t      */\n\n\t      get: function () {\n\t        return this.position.mode;\n\t      },\n\t      set: function (v) {\n\t        this.position.mode = v;\n\t      }\n\t    }\n\t  });\n\n\t  return Slider;\n\t})(Interface);\n\n\tmodule.exports = Slider;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar svg = __webpack_require__(4);\n\tvar ToggleModel = __webpack_require__(13);\n\tvar Interface = __webpack_require__(6);\n\n\t/**\n\t* Toggle\n\t*\n\t* @description Binary switch\n\t*\n\t* @demo <span nexus-ui=\"toggle\"></span>\n\t*\n\t* @example\n\t* var toggle = new Nexus.Toggle('#target')\n\t*\n\t* @example\n\t* var toggle = new Nexus.Toggle('#target',{\n\t*     'size': [40,20],\n\t*     'state': false\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* Parameter: The boolean state of the interface.\n\t*\n\t* @outputexample\n\t* toggle.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*\n\t*/\n\n\tvar Toggle = (function (_Interface) {\n\t  function Toggle() {\n\t    _classCallCheck(this, Toggle);\n\n\t    var options = [\"value\"];\n\n\t    var defaults = {\n\t      size: [40, 20],\n\t      target: false,\n\t      state: false\n\t    };\n\n\t    _get(Object.getPrototypeOf(Toggle.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this._state = new ToggleModel(this.settings.state);\n\n\t    this.init();\n\t  }\n\n\t  _inherits(Toggle, _Interface);\n\n\t  _createClass(Toggle, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\n\t        this.bar = svg.create(\"rect\");\n\t        this.knob = svg.create(\"circle\");\n\t        this.element.appendChild(this.bar);\n\t        this.element.appendChild(this.knob);\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        if (this.height < this.width / 2) {\n\t          this.knobSize = this.height / 2;\n\t        } else {\n\t          this.knobSize = this.width / 4;\n\t        }\n\n\t        this.bar.setAttribute(\"x\", this.width / 2 - this.knobSize * 1.5);\n\t        this.bar.setAttribute(\"y\", this.height / 2 - this.knobSize / 2);\n\t        this.bar.setAttribute(\"rx\", this.knobSize / 2);\n\t        this.bar.setAttribute(\"ry\", this.knobSize / 2);\n\t        this.bar.setAttribute(\"width\", this.knobSize * 3);\n\t        this.bar.setAttribute(\"height\", this.knobSize);\n\n\t        this.knob.setAttribute(\"cx\", this.width / 2 - this.knobSize);\n\t        this.knob.setAttribute(\"cy\", this.height / 2);\n\t        this.knob.setAttribute(\"r\", this.knobSize);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.knob.setAttribute(\"fill\", this.colors.accent);\n\t        this.render();\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (!this.state) {\n\t          this.knob.setAttribute(\"cx\", this.width / 2 - this.knobSize);\n\t          this.bar.setAttribute(\"fill\", this.colors.fill);\n\t        } else {\n\t          this.knob.setAttribute(\"cx\", this.width / 2 + this.knobSize);\n\t          this.bar.setAttribute(\"fill\", this.colors.accent);\n\t        }\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.flip();\n\t        this.render();\n\t        this.emit(\"change\", this.state);\n\t      }\n\t    },\n\t    state: {\n\n\t      /**\n\t      Whether the toggle is currently on or off. Setting this property will update the toggle interface and trigger the output event.\n\t      @type {boolean}\n\t      @example toggle.state = false;\n\t      */\n\n\t      get: function () {\n\t        return this._state.state;\n\t      },\n\t      set: function (value) {\n\t        this._state.flip(value);\n\t        this.emit(\"change\", this.state);\n\t        this.render();\n\t      }\n\t    },\n\t    flip: {\n\n\t      /**\n\t      * Switch the toggle state to its opposite state\n\t      * @example\n\t      * toggle.flip();\n\t      */\n\n\t      value: function flip() {\n\t        this._state.flip();\n\t        this.render();\n\t      }\n\t    }\n\t  });\n\n\t  return Toggle;\n\t})(Interface);\n\n\tmodule.exports = Toggle;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar svg = __webpack_require__(4);\n\tvar ButtonTemplate = __webpack_require__(17);\n\n\t/**\n\t* Button\n\t*\n\t* @description Circular button with optional aftertouch.\n\t*\n\t* @demo <span nexus-ui=\"button\"></span>\n\t*\n\t* @example\n\t* var button = new Nexus.Button('#target')\n\t*\n\t* @example\n\t* var button = new Nexus.Button('#target',{\n\t*   'size': [80,80],\n\t*   'mode': 'aftertouch',\n\t*   'state': false\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* In <b>button mode</b>, <b>toggle mode</b>, and <b>impulse mode</b>, the output data is a boolean describing the state of the button.<br>\n\t* In <b>aftertouch mode</b>, the output data is an object containing x (0-1) and y (0-1) positions of aftertouch.\n\t*\n\t* @outputexample\n\t* button.on('change',function(v) {\n\t*   // v is the value of the button\n\t*   console.log(v);\n\t* })\n\t*\n\t*/\n\n\tvar Button = (function (_ButtonTemplate) {\n\t  function Button() {\n\t    _classCallCheck(this, Button);\n\n\t    var options = [\"mode\"];\n\n\t    var defaults = {\n\t      size: [80, 80],\n\t      mode: \"aftertouch\", // button, aftertouch, impulse, toggle\n\t      state: false\n\t    };\n\n\t    _get(Object.getPrototypeOf(Button.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    /**\n\t    Interaction mode\n\t    @type {string}\n\t    @example button.mode = 'toggle';\n\t    */\n\t    this.mode = this.settings.mode;\n\n\t    this.init();\n\t    this.render();\n\t  }\n\n\t  _inherits(Button, _ButtonTemplate);\n\n\t  _createClass(Button, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t        this.pad = svg.create(\"circle\");\n\t        this.element.appendChild(this.pad);\n\n\t        this.interactionTarget = this.pad;\n\n\t        // only used if in 'aftertouch' mode\n\t        this.defs = svg.create(\"defs\");\n\t        this.element.appendChild(this.defs);\n\n\t        this.gradient = svg.radialGradient(this.defs, 2);\n\n\t        this.gradient.stops[0].setAttribute(\"offset\", \"30%\");\n\n\t        this.gradient.stops[1].setAttribute(\"offset\", \"100%\");\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        this.pad.setAttribute(\"cx\", this.width / 2);\n\t        this.pad.setAttribute(\"cy\", this.height / 2);\n\t        this.pad.setAttribute(\"r\", Math.min(this.width, this.height) / 2 - this.width / 40);\n\t        this.pad.setAttribute(\"stroke-width\", this.width / 20);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\n\t        this.gradient.stops[0].setAttribute(\"stop-color\", this.colors.accent);\n\t        this.gradient.stops[1].setAttribute(\"stop-color\", this.colors.fill);\n\t        this.render();\n\t      }\n\t    },\n\t    render: {\n\n\t      /*\n\t      * Update the visual interface using its current state\n\t      *\n\t      * @example\n\t      * button.render();\n\t      */\n\n\t      value: function render() {\n\t        if (!this.state) {\n\t          this.pad.setAttribute(\"fill\", this.colors.fill);\n\t          this.pad.setAttribute(\"stroke\", this.colors.mediumLight);\n\t        } else {\n\t          if (this.mode === \"aftertouch\") {\n\t            this.pad.setAttribute(\"stroke\", \"url(#\" + this.gradient.id + \")\");\n\t            this.gradient.element.setAttribute(\"cx\", this.position.x * 100 + \"%\");\n\t            this.gradient.element.setAttribute(\"cy\", (1 - this.position.y) * 100 + \"%\");\n\t          } else {\n\t            this.pad.setAttribute(\"stroke\", this.colors.accent);\n\t          }\n\t          this.pad.setAttribute(\"fill\", this.colors.accent);\n\t        }\n\t      }\n\t    }\n\t  });\n\n\t  return Button;\n\t})(ButtonTemplate);\n\n\tmodule.exports = Button;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar svg = __webpack_require__(4);\n\tvar math = __webpack_require__(5);\n\tvar ToggleModel = __webpack_require__(13);\n\tvar Interface = __webpack_require__(6);\n\n\t/**\n\tButton Template\n\t*/\n\n\tvar ButtonTemplate = (function (_Interface) {\n\t  function ButtonTemplate(args, options, defaults) {\n\t    _classCallCheck(this, ButtonTemplate);\n\n\t    _get(Object.getPrototypeOf(ButtonTemplate.prototype), \"constructor\", this).call(this, args, options, defaults);\n\n\t    this.mode = this.settings.mode || \"button\";\n\n\t    this.position = {\n\t      x: 0,\n\t      y: 0\n\t    };\n\n\t    this._state = new ToggleModel(this.settings.state);\n\t  }\n\n\t  _inherits(ButtonTemplate, _Interface);\n\n\t  _createClass(ButtonTemplate, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t        this.pad = svg.create(\"circle\");\n\t        this.pad.setAttribute(\"fill\", \"#d18\");\n\t        this.pad.setAttribute(\"stroke\", \"#d18\");\n\t        this.pad.setAttribute(\"stroke-width\", 4);\n\n\t        this.element.appendChild(this.pad);\n\n\t        this.interactionTarget = this.pad;\n\n\t        this.sizeInterface();\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t        this.pad.setAttribute(\"cx\", this.width / 2);\n\t        this.pad.setAttribute(\"cy\", this.height / 2);\n\t        this.pad.setAttribute(\"r\", Math.min(this.width, this.height) / 2 - 2);\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (!this.state) {\n\t          this.pad.setAttribute(\"fill\", this.colors.fill);\n\t          this.pad.setAttribute(\"stroke\", this.colors.mediumLight);\n\t        } else {\n\t          this.pad.setAttribute(\"fill\", this.colors.accent);\n\t          this.pad.setAttribute(\"stroke\", this.colors.accent);\n\t        }\n\t      }\n\t    },\n\t    down: {\n\t      value: function down(paintbrush) {\n\t        switch (this.mode) {\n\t          case \"impulse\":\n\t            this.turnOn();\n\t            if (this.timeout) {\n\t              clearTimeout(this.timeout);\n\t            }\n\t            this.timeout = setTimeout(this.turnOff.bind(this), 30);\n\t            //    this.emit('change',this.state);\n\t            break;\n\t          case \"button\":\n\t            this.turnOn();\n\t            //    this.emit('change',this.state);\n\t            break;\n\t          case \"aftertouch\":\n\t            this.position = {\n\t              x: math.clip(this.mouse.x / this.width, 0, 1),\n\t              y: math.clip(1 - this.mouse.y / this.height, 0, 1)\n\t            };\n\t            this.turnOn();\n\t            //    this.emit('change',{\n\t            //      state: this.state,\n\t            //      x: this.position.x,\n\t            //      y: this.position.y,\n\t            //    });\n\t            break;\n\t          case \"toggle\":\n\t            this.flip(paintbrush);\n\t            //    this.emit('change',this.state);\n\t            break;\n\t        }\n\t      }\n\t    },\n\t    bend: {\n\t      value: function bend(mouse) {\n\t        if (this.mode === \"aftertouch\") {\n\t          this.mouse = mouse || this.mouse;\n\t          this.position = {\n\t            x: math.clip(this.mouse.x / this.width, 0, 1),\n\t            y: math.clip(1 - this.mouse.y / this.height, 0, 1)\n\t          };\n\t          this.emit(\"change\", {\n\t            state: this.state,\n\t            x: this.position.x,\n\t            y: this.position.y });\n\t          this.render();\n\t        }\n\t      }\n\t    },\n\t    up: {\n\t      value: function up() {\n\t        switch (this.mode) {\n\t          case \"button\":\n\t            this.turnOff();\n\t            //  this.emit('change',this.state);\n\t            break;\n\t          case \"aftertouch\":\n\t            this.turnOff();\n\t            this.position = {\n\t              x: math.clip(this.mouse.x / this.width, 0, 1),\n\t              y: math.clip(1 - this.mouse.y / this.height, 0, 1)\n\t            };\n\t            //  this.emit('change',{\n\t            //    state: this.state,\n\t            //    x: this.position.x,\n\t            //    y: this.position.y,\n\t            //  });\n\t            break;\n\t        }\n\t      }\n\t    },\n\t    click: {\n\n\t      /* overwritable interaction handlers */\n\n\t      value: function click() {\n\t        this.down();\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        this.bend();\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {\n\t        this.up();\n\t      }\n\t    },\n\t    state: {\n\n\t      /**\n\t      Whether the button is on (pressed) or off (not pressed)\n\t      @type {boolean}\n\t      @example button.state = true;\n\t      */\n\n\t      get: function () {\n\t        return this._state.state;\n\t      },\n\t      set: function (value) {\n\t        this._state.flip(value);\n\t        if (this.mode === \"aftertouch\") {\n\t          this.emit(\"change\", {\n\t            state: this.state,\n\t            x: this.position.x,\n\t            y: this.position.y });\n\t        } else {\n\t          this.emit(\"change\", this.state);\n\t        }\n\t        this.render();\n\t      }\n\t    },\n\t    flip: {\n\n\t      /**\n\t      Change the button to its alternate state (off=>on, on=>off), or flip it to a specified state.\n\t      @param value {boolean} (Optional) State to flip to.\n\t      @example button.flip();\n\t      */\n\n\t      value: function flip(value) {\n\t        this._state.flip(value);\n\t        if (this.mode === \"aftertouch\") {\n\t          this.emit(\"change\", {\n\t            state: this.state,\n\t            x: this.position.x,\n\t            y: this.position.y });\n\t        } else {\n\t          this.emit(\"change\", this.state);\n\t        }\n\t        this.render();\n\t      }\n\t    },\n\t    turnOn: {\n\n\t      /**\n\t      Turn the button's state to true.\n\t      @example button.turnOn();\n\t      */\n\n\t      value: function turnOn(emitting) {\n\t        this._state.on();\n\t        if (emitting !== false) {\n\t          if (this.mode === \"aftertouch\") {\n\t            this.emit(\"change\", {\n\t              state: this.state,\n\t              x: this.position.x,\n\t              y: this.position.y });\n\t          } else {\n\t            this.emit(\"change\", this.state);\n\t          }\n\t        }\n\t        this.render();\n\t      }\n\t    },\n\t    turnOff: {\n\n\t      /**\n\t      Turn the button's state to false.\n\t      @example button.turnOff();\n\t      */\n\n\t      value: function turnOff(emitting) {\n\t        this._state.off();\n\t        if (emitting !== false) {\n\t          if (this.mode === \"aftertouch\") {\n\t            this.emit(\"change\", {\n\t              state: this.state,\n\t              x: this.position.x,\n\t              y: this.position.y });\n\t          } else {\n\t            this.emit(\"change\", this.state);\n\t          }\n\t        }\n\t        this.render();\n\t      }\n\t    }\n\t  });\n\n\t  return ButtonTemplate;\n\t})(Interface);\n\n\tmodule.exports = ButtonTemplate;\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar ButtonTemplate = __webpack_require__(17);\n\n\t/**\n\t* TextButton\n\t*\n\t* @description Text button\n\t*\n\t* @demo <span nexus-ui=\"textButton\"></span>\n\t*\n\t* @example\n\t* var textbutton = new Nexus.TextButton('#target')\n\t*\n\t* @example\n\t* var textbutton = new Nexus.TextButton('#target',{\n\t*     'size': [150,50],\n\t*     'state': false,\n\t*     'text': 'Play',\n\t*     'alternate': false\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* The event data is a <i>string</i> of the text on the button at the moment it was clicked.\n\t*\n\t* @outputexample\n\t* textbutton.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*/\n\n\tvar TextButton = (function (_ButtonTemplate) {\n\t  function TextButton() {\n\t    _classCallCheck(this, TextButton);\n\n\t    var options = [\"value\"];\n\n\t    var defaults = {\n\t      size: [150, 50],\n\t      state: false,\n\t      text: \"Play\",\n\t      alternate: false\n\t    };\n\n\t    _get(Object.getPrototypeOf(TextButton.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this._text = this.settings.text;\n\t    this._alternateText = this.settings.alternate;\n\n\t    this.init();\n\t    this.render();\n\n\t    this.state = this.settings.state;\n\t  }\n\n\t  _inherits(TextButton, _ButtonTemplate);\n\n\t  _createClass(TextButton, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\n\t        this.element = document.createElement(\"div\");\n\t        this.parent.appendChild(this.element);\n\n\t        this.textElement = document.createElement(\"div\");\n\t        this.textElement.innerHTML = this._text;\n\t        this.element.appendChild(this.textElement);\n\t      }\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {}\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.element.style.color = this.colors.dark;\n\t        this.render();\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t        var textsize = this.height / 3;\n\t        var textsize2 = this.width / (this._text.length + 2);\n\t        textsize = Math.min(textsize, textsize2);\n\t        if (this.alternateText) {\n\t          var textsize3 = this.width / (this.alternateText.length + 2);\n\t          textsize = Math.min(textsize, textsize3);\n\t        }\n\t        var styles = \"width: \" + this.width + \"px;\";\n\t        styles += \"height: \" + this.height + \"px;\";\n\t        styles += \"padding: \" + (this.height - textsize) / 2 + \"px 0px;\";\n\t        styles += \"box-sizing: border-box;\";\n\t        styles += \"text-align: center;\";\n\t        styles += \"font-family: inherit;\";\n\t        styles += \"font-weight: 700;\";\n\t        styles += \"opacity: 1;\";\n\t        styles += \"font-size:\" + textsize + \"px;\";\n\t        this.textElement.style.cssText = styles;\n\t        this.render();\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (!this.state) {\n\t          this.element.style.backgroundColor = this.colors.fill;\n\t          this.textElement.style.color = this.colors.dark;\n\t          this.textElement.innerHTML = this._text;\n\t        } else {\n\t          this.element.style.backgroundColor = this.colors.accent;\n\t          this.textElement.style.color = this.colors.fill;\n\t          if (this.alternateText) {\n\t            this.textElement.innerHTML = this._alternateText;\n\t          } else {\n\t            this.textElement.innerHTML = this._text;\n\t          }\n\t        }\n\t      }\n\t    },\n\t    alternateText: {\n\n\t      /**\n\t      The text to display when the button is in its \"on\" state. If set, this puts the button in \"toggle\" mode.\n\t      @type {String}\n\t      */\n\n\t      get: function () {\n\t        return this._alternateText;\n\t      },\n\t      set: function (text) {\n\t        if (text) {\n\t          this.mode = \"toggle\";\n\t        } else {\n\t          this.mode = \"button\";\n\t        }\n\t        this._alternateText = text;\n\t        this.render();\n\t      }\n\t    },\n\t    text: {\n\n\t      /**\n\t      The text to display. (If .alternateText exists, then this .text will only be displayed when the button is in its \"off\" state.)\n\t      @type {String}\n\t      */\n\n\t      get: function () {\n\t        return this._text;\n\t      },\n\t      set: function (text) {\n\t        this._text = text;\n\t        this.sizeInterface();\n\t        this.render();\n\t      }\n\t    }\n\t  });\n\n\t  return TextButton;\n\t})(ButtonTemplate);\n\n\tmodule.exports = TextButton;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\t//let svg = require('../util/svg');\n\tvar Interface = __webpack_require__(6);\n\tvar Button = __webpack_require__(16);\n\n\t/**\n\t* RadioButton\n\t*\n\t* @description An array of buttons. By default, selecting one button will deselect all other buttons, but this can be customized using the API below.\n\t*\n\t* @demo <div nexus-ui=\"RadioButton\"></div>\n\t*\n\t* @example\n\t* var radiobutton = new Nexus.RadioButton('#target')\n\t*\n\t* @example\n\t* var radiobutton = new Nexus.RadioButton('#target',{\n\t*   'size': [120,25],\n\t*   'numberOfButtons': 4,\n\t*   'active': -1\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* The event data an <i>integer</i>, the index of the button that is currently on. If no button is selected, the value will be -1.\n\t*\n\t* @outputexample\n\t* radiobutton.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*/\n\n\tvar RadioButton = (function (_Interface) {\n\t  function RadioButton() {\n\t    _classCallCheck(this, RadioButton);\n\n\t    var options = [\"value\"];\n\n\t    var defaults = {\n\t      size: [120, 25],\n\t      numberOfButtons: 4,\n\t      active: -1\n\t    };\n\n\t    _get(Object.getPrototypeOf(RadioButton.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this.buttons = [];\n\t    this._numberOfButtons = this.settings.numberOfButtons;\n\t    this.active = this.settings.active;\n\n\t    this.init();\n\t    this.render();\n\t  }\n\n\t  _inherits(RadioButton, _Interface);\n\n\t  _createClass(RadioButton, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = document.createElement(\"div\");\n\t        this.parent.appendChild(this.element);\n\t      }\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\n\t        for (var i = 0; i < this._numberOfButtons; i++) {\n\t          var container = document.createElement(\"span\");\n\n\t          var button = new Button(container, {\n\t            mode: \"toggle\",\n\t            component: true }, this.update.bind(this, i));\n\n\t          this.buttons.push(button);\n\t          this.element.appendChild(container);\n\t        }\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        var buttonWidth = this.width / this._numberOfButtons;\n\t        var buttonHeight = this.height;\n\n\t        for (var i = 0; i < this._numberOfButtons; i++) {\n\t          this.buttons[i].resize(buttonWidth, buttonHeight);\n\t        }\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        for (var i = 0; i < this._numberOfButtons; i++) {\n\t          this.buttons[i].colors = this.colors;\n\t          this.buttons[i].render();\n\t        }\n\t      }\n\t    },\n\t    update: {\n\t      value: function update(index) {\n\t        if (this.buttons[index].state) {\n\t          this.select(index);\n\t        } else {\n\t          this.deselect();\n\t        }\n\t        //  this.render();\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        for (var i = 0; i < this.buttons.length; i++) {\n\t          if (i === this.active) {\n\t            this.buttons[i].turnOn(false);\n\t          } else {\n\t            this.buttons[i].turnOff(false);\n\t          }\n\t        }\n\t      }\n\t    },\n\t    select: {\n\n\t      /**\n\t      Select one button and deselect all other buttons.\n\t      @param index {number} The index of the button to select\n\t      */\n\n\t      value: function select(index) {\n\t        if (index >= 0 && index < this.buttons.length) {\n\t          this.active = index;\n\t          this.emit(\"change\", this.active);\n\t          this.render();\n\t        }\n\t      }\n\t    },\n\t    deselect: {\n\n\t      /**\n\t      Deselect all buttons.\n\t      */\n\n\t      value: function deselect() {\n\t        this.active = -1;\n\t        this.emit(\"change\", this.active);\n\t        this.render();\n\t      }\n\t    },\n\t    numberOfButtons: {\n\t      get: function () {\n\t        return this._numberOfButtons;\n\t      },\n\n\t      /**\n\t       * Update how many buttons are in the interface\n\t       * @param  {number} buttons How many buttons are in the interface\n\t       */\n\t      set: function (buttons) {\n\t        this._numberOfButtons = buttons;\n\t        for (var i = 0; i < this.buttons.length; i++) {\n\t          this.buttons[i].destroy();\n\t        }\n\t        this.buttons = [];\n\t        //  for (let i=0;i<this.buttons.length;i++) {\n\t        //    this.buttons[i].destroy();\n\t        //  }\n\t        this.empty();\n\t        this.buildInterface();\n\t      }\n\t    }\n\t  });\n\n\t  return RadioButton;\n\t})(Interface);\n\n\tmodule.exports = RadioButton;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar Interface = __webpack_require__(6);\n\tvar Step = __webpack_require__(11);\n\tvar math = __webpack_require__(5);\n\n\t/**\n\t* Number\n\t*\n\t* @description Number interface which is controllable by dragging or typing.\n\t*\n\t* @demo <span nexus-ui=\"number\"></span>\n\t*\n\t* @example\n\t* var number = new Nexus.Number('#target')\n\t*\n\t* @example\n\t* var number = new Nexus.Number('#target',{\n\t*   'size': [60,30],\n\t*   'value': 0,\n\t*   'min': 0,\n\t*   'max': 20000,\n\t*   'step': 1\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* The event data is the number value of the interface.\n\t*\n\t* @outputexample\n\t* number.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*\n\t*/\n\n\tvar Number = (function (_Interface) {\n\t  function Number() {\n\t    _classCallCheck(this, Number);\n\n\t    var options = [\"value\"];\n\n\t    var defaults = {\n\t      size: [60, 30],\n\t      value: 0,\n\t      min: 0,\n\t      max: 20000,\n\t      step: 1\n\t    };\n\n\t    _get(Object.getPrototypeOf(Number.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this._value = new Step(this.settings.min, this.settings.max, this.settings.step, this.settings.value);\n\n\t    /*\n\t    Default: 2. How many decimal places to clip the number's visual rendering to. This does not affect number's actual value output -- for that, set the step property to .01, .1, or 1.\n\t    @type {number}\n\t    @example number.decimalPlaces = 2;\n\t    */\n\t    this.decimalPlaces = 2;\n\t    this.actual = 0;\n\n\t    this.max = this._value.max;\n\n\t    this.min = this._value.min;\n\n\t    this.step = this._value.step;\n\n\t    this.init();\n\t    this.render();\n\t  }\n\n\t  _inherits(Number, _Interface);\n\n\t  _createClass(Number, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = document.createElement(\"input\");\n\t        this.element.type = \"text\";\n\n\t        this.element.addEventListener(\"blur\", (function () {\n\t          this.element.style.backgroundColor = this.colors.fill;\n\t          this.element.style.color = this.colors.dark;\n\t          if (this.element.value !== this.value) {\n\t            this.value = parseFloat(this.element.value);\n\t            this.render();\n\t          }\n\t        }).bind(this));\n\n\t        this.element.addEventListener(\"keydown\", (function (e) {\n\t          if (e.which < 48 || e.which > 57) {\n\t            if (e.which !== 189 && e.which !== 190 && e.which !== 8) {\n\t              e.preventDefault();\n\t            }\n\t          }\n\t          if (e.which === 13) {\n\t            this.element.blur();\n\t            this.value = this.element.value;\n\t            this.emit(\"change\", this.value);\n\t            this.render();\n\t          }\n\t        }).bind(this));\n\n\t        this.parent.appendChild(this.element);\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        this._minDimension = Math.min(this.width, this.height);\n\n\t        var styles = \"width: \" + this.width + \"px;\";\n\t        styles += \"height: \" + this.height + \"px;\";\n\t        styles += \"background-color: #e7e7e7;\";\n\t        styles += \"color: #333;\";\n\t        styles += \"font-family: arial;\";\n\t        styles += \"font-weight: 500;\";\n\t        styles += \"font-size:\" + this._minDimension / 2 + \"px;\";\n\t        //  styles += 'highlight: #d18;';\n\t        styles += \"border: none;\";\n\t        styles += \"outline: none;\";\n\t        styles += \"padding: \" + this._minDimension / 4 + \"px \" + this._minDimension / 4 + \"px;\";\n\t        styles += \"box-sizing: border-box;\";\n\t        styles += \"userSelect: text;\";\n\t        styles += \"mozUserSelect: text;\";\n\t        styles += \"webkitUserSelect: text;\";\n\t        this.element.style.cssText += styles;\n\n\t        // to add eventually\n\t        // var css = '#'+this.elementID+'::selection{ background-color: transparent }';\n\n\t        this.element.value = this.value;\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.element.style.backgroundColor = this.colors.fill;\n\t        this.element.style.color = this.colors.dark;\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\n\t        this.element.value = math.prune(this.value, this.decimalPlaces);\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.hasMoved = false;\n\t        this.element.readOnly = true;\n\t        this.actual = this.value;\n\t        this.initial = { y: this.mouse.y };\n\t        this.changeFactor = math.invert(this.mouse.x / this.width);\n\t        console.log(this.changeFactor);\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        this.hasMoved = true;\n\t        if (this.clicked) {\n\n\t          var newvalue = this.actual - (this.mouse.y - this.initial.y) * (math.clip(this.max - this.min, 0, 1000) / 200) * Math.pow(this.changeFactor, 2);\n\t          this.value = newvalue;\n\n\t          this.render();\n\t          if (this._value.changed) {\n\t            this.emit(\"change\", this.value);\n\t          }\n\t        }\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {\n\t        if (!this.hasMoved) {\n\t          this.element.readOnly = false;\n\t          this.element.focus();\n\t          this.element.setSelectionRange(0, this.element.value.length);\n\t          this.element.style.backgroundColor = this.colors.accent;\n\t          this.element.style.color = this.colors.light;\n\t        } else {\n\t          document.body.focus();\n\t        }\n\t      }\n\t    },\n\t    link: {\n\n\t      /**\n\t      Connect this number interface to a dial or slider\n\t      @param {Interface} element Element to connect to.\n\t      @example number.link(slider)\n\t      */\n\n\t      value: function link(destination) {\n\t        var _this = this;\n\n\t        this.min = destination.min;\n\t        this.max = destination.max;\n\t        this.step = destination.step;\n\t        destination.on(\"change\", function (v) {\n\t          _this.passiveUpdate(v);\n\t        });\n\t        this.on(\"change\", function (v) {\n\t          destination.value = v;\n\t        });\n\t        this.value = destination.value;\n\t        /*  return {\n\t            listener1: listener1,\n\t            listener2: listener2,\n\t            destroy: () => {\n\t              listener1.remove() (or similar)\n\t              listener2.remove() (or similar)\n\t            }\n\t          } */\n\t      }\n\t    },\n\t    passiveUpdate: {\n\t      value: function passiveUpdate(v) {\n\t        this._value.update(v);\n\t        this.render();\n\t      }\n\t    },\n\t    value: {\n\n\t      /**\n\t      The interface's current value. If set manually, will update the interface and trigger the output event.\n\t      @type {number}\n\t      @example number.value = 10;\n\t      */\n\n\t      get: function () {\n\t        return this._value.value;\n\t      },\n\t      set: function (v) {\n\t        this._value.update(v);\n\t        this.emit(\"change\", this.value);\n\t        this.render();\n\t      }\n\t    },\n\t    min: {\n\n\t      /**\n\t      Lower limit of the number's output range\n\t      @type {number}\n\t      @example number.min = 1000;\n\t      */\n\n\t      get: function () {\n\t        return this._value.min;\n\t      },\n\t      set: function (v) {\n\t        this._value.min = v;\n\t      }\n\t    },\n\t    max: {\n\n\t      /**\n\t      Upper limit of the number's output range\n\t      @type {number}\n\t      @example number.max = 1000;\n\t      */\n\n\t      get: function () {\n\t        return this._value.max;\n\t      },\n\t      set: function (v) {\n\t        this._value.max = v;\n\t      }\n\t    },\n\t    step: {\n\n\t      /**\n\t      The increment that the number's value changes by.\n\t      @type {number}\n\t      @example number.step = 5;\n\t      */\n\n\t      get: function () {\n\t        return this._value.step;\n\t      },\n\t      set: function (v) {\n\t        this._value.step = v;\n\t      }\n\t    }\n\t  });\n\n\t  return Number;\n\t})(Interface);\n\n\tmodule.exports = Number;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar Interface = __webpack_require__(6);\n\n\t/**\n\t* Select\n\t*\n\t* @description Dropdown menu\n\t*\n\t* @demo <span nexus-ui=\"select\"></span>\n\t*\n\t* @example\n\t* var select = new Nexus.Select('#target')\n\t*\n\t* @example\n\t* var select = new Nexus.Select('#target',{\n\t*   'size': [100,30],\n\t*   'options': ['default','options']\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* The event data is an object containing the text value of the selected option, as well as the numeric index of the selection.\n\t*\n\t* @outputexample\n\t* select.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*\n\t*/\n\n\tvar Select = (function (_Interface) {\n\t  function Select() {\n\t    _classCallCheck(this, Select);\n\n\t    var options = [\"value\"];\n\n\t    var defaults = {\n\t      size: [100, 30],\n\t      options: [\"default\", \"options\"]\n\t    };\n\n\t    _get(Object.getPrototypeOf(Select.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this._selectedIndex = -1;\n\t    this._value = false;\n\n\t    this._options = this.settings.options;\n\n\t    this.init();\n\t    this.render();\n\t  }\n\n\t  _inherits(Select, _Interface);\n\n\t  _createClass(Select, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = document.createElement(\"select\");\n\t        this.element.style.fontSize = this.height / 2 + \"px\";\n\t        this.element.style.outline = \"none\";\n\t        this.element.style.highlight = \"none\";\n\t        this.element.style.width = this.width + \"px\";\n\t        this.element.style.height = this.height + \"px\";\n\n\t        this.boundRender = this.render.bind(this);\n\n\t        this.element.addEventListener(\"change\", this.boundRender);\n\n\t        this.parent.appendChild(this.element);\n\t      }\n\t    },\n\t    attachListeners: {\n\t      value: function attachListeners() {}\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\n\t        this.defineOptions();\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.element.style.backgroundColor = this.colors.fill;\n\t        this.element.style.color = this.colors.dark;\n\t        this.element.style.border = \"solid 0px \" + this.colors.mediumLight;\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\n\t        this._value = this.element.options[this.element.selectedIndex].text;\n\t        this._selectedIndex = this.element.selectedIndex;\n\t        this.emit(\"change\", {\n\t          value: this._value,\n\t          index: this._selectedIndex\n\t        });\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {}\n\t    },\n\t    move: {\n\t      value: function move() {}\n\t    },\n\t    release: {\n\t      value: function release() {}\n\t    },\n\t    defineOptions: {\n\n\t      /**\n\t       * Update the list of options. This removes all existing options and creates a new list of options.\n\t       * @param  {array} options New array of options\n\t       */\n\n\t      value: function defineOptions(options) {\n\t        if (options) {\n\t          this._options = options;\n\t        }\n\n\t        for (var i = 0; i < this.element.options.length; i++) {\n\t          this.element.remove(i);\n\t        }\n\n\t        for (var i = 0; i < this._options.length; i++) {\n\t          this.element.options.add(new Option(this._options[i], i));\n\t        }\n\t      }\n\t    },\n\t    value: {\n\n\t      /**\n\t      The text of the option that is currently selected. If set, will update the interface and trigger the output event.\n\t      @type {String}\n\t      @example select.value = \"sawtooth\";\n\t      */\n\n\t      get: function () {\n\t        return this._value;\n\t      },\n\t      set: function (v) {\n\t        this._value = v;\n\t        for (var i = 0; i < this.element.options.length; i++) {\n\t          if (v === this.element.options[i].text) {\n\t            this.selectedIndex = i;\n\t            break;\n\t          }\n\t        }\n\t      }\n\t    },\n\t    selectedIndex: {\n\n\t      /**\n\t      The numeric index of the option that is currently selected. If set, will update the interface and trigger the output event.\n\t      @type {number}\n\t      @example select.selectedIndex = 2;\n\t      */\n\n\t      get: function () {\n\t        return this._selectedIndex;\n\t      },\n\t      set: function (v) {\n\t        this._selectedIndex = v;\n\t        this.element.selectedIndex = v;\n\t        this.render();\n\t      }\n\t    },\n\t    customDestroy: {\n\t      value: function customDestroy() {\n\t        this.element.removeEventListener(\"change\", this.boundRender);\n\t      }\n\t    }\n\t  });\n\n\t  return Select;\n\t})(Interface);\n\n\tmodule.exports = Select;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar svg = __webpack_require__(4);\n\tvar math = __webpack_require__(5);\n\tvar Interface = __webpack_require__(6);\n\tvar Step = __webpack_require__(11);\n\n\tvar Interaction = _interopRequireWildcard(__webpack_require__(12));\n\n\t/**\n\t* Dial\n\t*\n\t*\n\t* @description Dial with radial or linear interaction.\n\t*\n\t* @demo <span nexus-ui=\"dial\"></span>\n\t*\n\t* @example\n\t* var dial = new Nexus.Dial('#target')\n\t*\n\t* @example\n\t* var dial = new Nexus.Dial('#target',{\n\t*   'size': [75,75],\n\t*   'interaction': 'radial', // \"radial\", \"vertical\", or \"horizontal\"\n\t*   'mode': 'relative', // \"absolute\" or \"relative\"\n\t*   'min': 0,\n\t*   'max': 1,\n\t*   'step': 0,\n\t*   'value': 0\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* The event data is the number value of the interface.\n\t*\n\t* @outputexample\n\t* dial.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t* @tutorial\n\t* Dial\n\t* ygGMxq\n\t*\n\t*/\n\n\tvar Dial = (function (_Interface) {\n\t  function Dial() {\n\t    _classCallCheck(this, Dial);\n\n\t    var options = [\"min\", \"max\", \"value\"];\n\n\t    var defaults = {\n\t      size: [75, 75],\n\t      interaction: \"radial\", // radial, vertical, horizontal\n\t      mode: \"relative\", // absolute, relative\n\t      min: 0,\n\t      max: 1,\n\t      step: 0,\n\t      value: 0\n\t    };\n\n\t    _get(Object.getPrototypeOf(Dial.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this.interaction = this.settings.interaction;\n\n\t    this._value = new Step(this.settings.min, this.settings.max, this.settings.step, this.settings.value);\n\n\t    this.position = new Interaction.Handle(this.settings.mode, this.interaction, [0, this.width], [this.height, 0]);\n\n\t    this.init();\n\n\t    this.value = this._value.value;\n\n\t    this.position.value = this._value.normalized;\n\n\t    this.previousAngle = false;\n\n\t    this.emit(\"change\", this.value);\n\t  }\n\n\t  _inherits(Dial, _Interface);\n\n\t  _createClass(Dial, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\n\t        this.background = svg.create(\"circle\");\n\t        this.screw = svg.create(\"circle\");\n\t        this.handle = svg.create(\"path\");\n\t        this.handle2 = svg.create(\"path\");\n\t        this.handleFill = svg.create(\"path\");\n\t        this.handle2Fill = svg.create(\"path\");\n\t        this.handleLine = svg.create(\"path\");\n\n\t        this.element.appendChild(this.background);\n\t        this.element.appendChild(this.handle);\n\t        this.element.appendChild(this.handle2);\n\t        this.element.appendChild(this.handleFill);\n\t        this.element.appendChild(this.handle2Fill);\n\t        this.element.appendChild(this.handleLine);\n\t        this.element.appendChild(this.screw);\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        this.position.resize([0, this.width], [this.height, 0]);\n\n\t        var center = {\n\t          x: this.width / 2,\n\t          y: this.height / 2\n\t        };\n\n\t        var diameter = Math.min(this.width, this.height);\n\n\t        this.background.setAttribute(\"cx\", center.x);\n\t        this.background.setAttribute(\"cy\", center.y);\n\t        this.background.setAttribute(\"r\", diameter / 2 - diameter / 40);\n\n\t        this.screw.setAttribute(\"cx\", center.x);\n\t        this.screw.setAttribute(\"cy\", center.y);\n\t        this.screw.setAttribute(\"r\", diameter / 12);\n\n\t        var value = this.value;\n\n\t        var handlePoints = {\n\t          start: Math.PI * 1.5,\n\t          end: math.clip(math.scale(value, 0, 0.5, Math.PI * 1.5, Math.PI * 0.5), Math.PI * 0.5, Math.PI * 1.5)\n\t        };\n\t        var handle2Points = {\n\t          start: Math.PI * 2.5,\n\t          end: math.clip(math.scale(value, 0.5, 1, Math.PI * 2.5, Math.PI * 1.5), Math.PI * 1.5, Math.PI * 2.5)\n\t        };\n\n\t        var handlePath = svg.arc(center.x, center.y, diameter / 2 - diameter / 40, handlePoints.start, handlePoints.end);\n\t        var handle2Path = svg.arc(center.x, center.y, diameter / 2 - diameter / 40, handle2Points.start, handle2Points.end);\n\n\t        this.handle.setAttribute(\"d\", handlePath);\n\t        this.handle.setAttribute(\"stroke-width\", diameter / 20);\n\t        this.handle.setAttribute(\"fill\", \"none\");\n\n\t        this.handle2.setAttribute(\"d\", handle2Path);\n\t        this.handle2.setAttribute(\"stroke-width\", diameter / 20);\n\t        this.handle2.setAttribute(\"fill\", \"none\");\n\n\t        handlePath += \" L \" + center.x + \" \" + center.y;\n\n\t        this.handleFill.setAttribute(\"d\", handlePath);\n\t        this.handleFill.setAttribute(\"fill-opacity\", \"0.3\");\n\n\t        handle2Path += \" L \" + center.x + \" \" + center.y;\n\n\t        this.handle2Fill.setAttribute(\"d\", handle2Path);\n\t        this.handle2Fill.setAttribute(\"fill-opacity\", \"0.3\");\n\n\t        var arcEndingA = undefined;\n\t        if (value < 0.5) {\n\t          arcEndingA = handlePoints.end;\n\t        } else {\n\t          arcEndingA = handle2Points.end;\n\t        }\n\n\t        var arcEndingX = center.x + Math.cos(arcEndingA) * (diameter / 2);\n\t        var arcEndingY = center.y + Math.sin(arcEndingA) * (diameter / 2) * -1;\n\n\t        this.handleLine.setAttribute(\"d\", \"M \" + center.x + \" \" + center.y + \" L \" + arcEndingX + \" \" + arcEndingY);\n\t        this.handleLine.setAttribute(\"stroke-width\", diameter / 20);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.background.setAttribute(\"fill\", this.colors.fill);\n\t        this.screw.setAttribute(\"fill\", this.colors.accent);\n\t        this.handle.setAttribute(\"stroke\", this.colors.accent);\n\t        this.handle2.setAttribute(\"stroke\", this.colors.accent);\n\t        this.handleFill.setAttribute(\"fill\", this.colors.accent);\n\t        this.handle2Fill.setAttribute(\"fill\", this.colors.accent);\n\t        this.handleLine.setAttribute(\"stroke\", this.colors.accent);\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        var value = this._value.normalized;\n\n\t        var center = {\n\t          x: this.width / 2,\n\t          y: this.height / 2\n\t        };\n\n\t        var diameter = Math.min(this.width, this.height);\n\n\t        var handlePoints = {\n\t          start: Math.PI * 1.5,\n\t          end: math.clip(math.scale(value, 0, 0.5, Math.PI * 1.5, Math.PI * 0.5), Math.PI * 0.5, Math.PI * 1.5)\n\t        };\n\t        var handle2Points = {\n\t          start: Math.PI * 2.5,\n\t          end: math.clip(math.scale(value, 0.5, 1, Math.PI * 2.5, Math.PI * 1.5), Math.PI * 1.5, Math.PI * 2.5)\n\t        };\n\n\t        var handlePath = svg.arc(center.x, center.y, diameter / 2 - diameter / 40, handlePoints.start, handlePoints.end);\n\t        var handle2Path = svg.arc(center.x, center.y, diameter / 2 - diameter / 40, handle2Points.start, handle2Points.end);\n\n\t        this.handle.setAttribute(\"d\", handlePath);\n\t        this.handle2.setAttribute(\"d\", handle2Path);\n\n\t        handlePath += \" L \" + center.x + \" \" + center.y;\n\n\t        this.handleFill.setAttribute(\"d\", handlePath);\n\n\t        handle2Path += \" L \" + center.x + \" \" + center.y;\n\n\t        this.handle2Fill.setAttribute(\"d\", handle2Path);\n\n\t        var arcEndingA = undefined;\n\t        if (value <= 0.5) {\n\t          arcEndingA = handlePoints.end;\n\t        } else {\n\t          arcEndingA = handle2Points.end;\n\t        }\n\n\t        var arcEndingX = center.x + Math.cos(arcEndingA) * (diameter / 2);\n\t        var arcEndingY = center.y + Math.sin(arcEndingA) * (diameter / 2) * -1;\n\n\t        this.handleLine.setAttribute(\"d\", \"M \" + center.x + \" \" + center.y + \" L \" + arcEndingX + \" \" + arcEndingY);\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        if (this.mode === \"relative\") {\n\t          this.previousAngle = false;\n\t        }\n\t        this.position.anchor = this.mouse;\n\t        this.position.value = this._value.normalized;\n\t        this.move();\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        if (this.clicked) {\n\n\t          this.position.update(this.mouse);\n\n\t          var angle = this.position.value * Math.PI * 2;\n\n\t          if (angle < 0) {\n\t            angle += Math.PI * 2;\n\t          }\n\n\t          if (this.mode === \"relative\") {\n\t            if (this.previousAngle !== false && Math.abs(this.previousAngle - angle) > 2) {\n\t              if (this.previousAngle > 3) {\n\t                angle = Math.PI * 2;\n\t              } else {\n\t                angle = 0;\n\t              }\n\t            }\n\t          } /* else {\n\t            if (this.previousAngle !== false && Math.abs(this.previousAngle - angle) > 2) {\n\t              if (this.previousAngle > 3) {\n\t                angle = Math.PI*2;\n\t              } else {\n\t                angle = 0;\n\t              }\n\t            }\n\t            } */\n\t          this.previousAngle = angle;\n\n\t          var realValue = angle / (Math.PI * 2);\n\n\t          this.value = this._value.updateNormal(realValue);\n\n\t          if (this.mode === \"relative\") {\n\t            this.position.value = realValue;\n\t          }\n\n\t          this.emit(\"change\", this._value.value);\n\n\t          this.render();\n\t        }\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {}\n\t    },\n\t    value: {\n\n\t      /*\n\t      Dial's value. When set, it will automatically be adjust to fit min/max/step settings of the interface.\n\t      @type {number}\n\t      @example dial.value = 10;\n\t       get value() {\n\t        return this._value.value;\n\t      }\n\t       set value(value) {\n\t        this._value.update(value);\n\t        this.emit('change',this.value);\n\t        this.render();\n\t      }\n\t      */\n\n\t      /**\n\t      Dial's value. When set, it will automatically be adjust to fit min/max/step settings of the interface.\n\t      @type {number}\n\t      @example dial.value = 10;\n\t      */\n\n\t      get: function () {\n\t        return this._value.value;\n\t      },\n\t      set: function (v) {\n\t        this._value.update(v);\n\t        this.position.value = this._value.normalized;\n\t        this.emit(\"change\", this._value.value);\n\t        this.render();\n\t      }\n\t    },\n\t    min: {\n\n\t      /**\n\t      Lower limit of the dial's output range\n\t      @type {number}\n\t      @example dial.min = 1000;\n\t      */\n\n\t      get: function () {\n\t        return this._value.min;\n\t      },\n\t      set: function (v) {\n\t        this._value.min = v;\n\t      }\n\t    },\n\t    max: {\n\n\t      /**\n\t      Upper limit of the dial's output range\n\t      @type {number}\n\t      @example dial.max = 1000;\n\t      */\n\n\t      get: function () {\n\t        return this._value.max;\n\t      },\n\t      set: function (v) {\n\t        this._value.max = v;\n\t      }\n\t    },\n\t    step: {\n\n\t      /**\n\t      The increment that the dial's value changes by.\n\t      @type {number}\n\t      @example dial.step = 5;\n\t      */\n\n\t      get: function () {\n\t        return this._value.step;\n\t      },\n\t      set: function (v) {\n\t        this._value.step = v;\n\t      }\n\t    },\n\t    mode: {\n\n\t      /**\n\t      Absolute mode (dial's value jumps to mouse click position) or relative mode (mouse drag changes value relative to its current position). Default: \"relative\".\n\t      @type {string}\n\t      @example dial.mode = \"relative\";\n\t      */\n\n\t      get: function () {\n\t        return this.position.mode;\n\t      },\n\t      set: function (v) {\n\t        this.position.mode = v;\n\t      }\n\t    },\n\t    normalized: {\n\n\t      /**\n\t      Normalized value of the dial.\n\t      @type {number}\n\t      @example dial.normalized = 0.5;\n\t      */\n\n\t      get: function () {\n\t        return this._value.normalized;\n\t      },\n\t      set: function (v) {\n\t        this._value.updateNormal(v);\n\t        this.emit(\"change\", this.value);\n\t      }\n\t    }\n\t  });\n\n\t  return Dial;\n\t})(Interface);\n\n\tmodule.exports = Dial;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar svg = __webpack_require__(4);\n\tvar Interface = __webpack_require__(6);\n\tvar ButtonTemplate = __webpack_require__(17);\n\tvar touch = __webpack_require__(9);\n\n\tvar PianoKey = (function (_ButtonTemplate) {\n\t  function PianoKey() {\n\t    _classCallCheck(this, PianoKey);\n\n\t    var options = [\"value\", \"note\", \"color\"];\n\n\t    var defaults = {\n\t      size: [80, 80],\n\t      target: false,\n\t      mode: \"button\",\n\t      value: 0\n\t    };\n\n\t    _get(Object.getPrototypeOf(PianoKey.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this.note = this.settings.note;\n\t    this.color = this.settings.color;\n\n\t    this.colors = {\n\t      w: \"#fff\",\n\t      b: \"#666\" };\n\n\t    this.init();\n\t    this.render();\n\t  }\n\n\t  _inherits(PianoKey, _ButtonTemplate);\n\n\t  _createClass(PianoKey, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = svg.create(\"svg\");\n\t        this.element.setAttribute(\"width\", this.width);\n\t        this.element.setAttribute(\"height\", this.height);\n\t        this.parent.appendChild(this.element);\n\t      }\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t        var _this = this;\n\n\t        this.pad = svg.create(\"rect\");\n\n\t        this.element.appendChild(this.pad);\n\n\t        this.interactionTarget = this.pad;\n\n\t        /* events */\n\n\t        if (!touch.exists) {\n\n\t          this.click = function () {\n\t            //  console.log('click');\n\t            _this.piano.interacting = true;\n\t            _this.piano.paintbrush = !_this.state;\n\t            _this.down(_this.piano.paintbrush);\n\t          };\n\n\t          this.pad.addEventListener(\"mouseover\", function () {\n\t            if (_this.piano.interacting) {\n\t              //    console.log('mouseover');\n\t              _this.down(_this.piano.paintbrush);\n\t            }\n\t          });\n\n\t          this.move = function () {\n\t            if (_this.piano.interacting) {\n\t              //  console.log('move');\n\t              _this.bend();\n\t            }\n\t          };\n\n\t          this.release = function () {\n\t            _this.piano.interacting = false;\n\t            //  console.log('release');\n\t            //  this.up();\n\t          };\n\t          this.pad.addEventListener(\"mouseup\", function () {\n\t            if (_this.piano.interacting) {\n\t              //  console.log('mouseup');\n\t              _this.up();\n\t            }\n\t          });\n\t          this.pad.addEventListener(\"mouseout\", function () {\n\t            if (_this.piano.interacting) {\n\t              //  console.log('mouseout');\n\t              _this.up();\n\t            }\n\t          });\n\t        }\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        //let radius = Math.min(this.width,this.height) / 5;\n\t        var radius = 0;\n\n\t        this.pad.setAttribute(\"x\", 0.5);\n\t        this.pad.setAttribute(\"y\", 0.5);\n\t        if (this.width > 2) {\n\t          this.pad.setAttribute(\"width\", this.width - 1);\n\t        } else {\n\t          this.pad.setAttribute(\"width\", this.width);\n\t        }\n\t        if (this.height > 2) {\n\t          this.pad.setAttribute(\"height\", this.height);\n\t        } else {\n\t          this.pad.setAttribute(\"height\", this.height);\n\t        }\n\t        this.pad.setAttribute(\"rx\", radius);\n\t        this.pad.setAttribute(\"ry\", radius);\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (!this.state) {\n\t          this.pad.setAttribute(\"fill\", this.colors[this.color]);\n\t        } else {\n\t          this.pad.setAttribute(\"fill\", this.colors.accent);\n\t        }\n\t      }\n\t    }\n\t  });\n\n\t  return PianoKey;\n\t})(ButtonTemplate);\n\n\t/**\n\t* Piano\n\t*\n\t* @description Piano keyboard interface\n\t*\n\t* @demo <div nexus-ui=\"piano\"></div>\n\t*\n\t* @example\n\t* var piano = new Nexus.Piano('#target')\n\t*\n\t* @example\n\t* var piano = new Nexus.Piano('#target',{\n\t*     'size': [500,125],\n\t*     'mode': 'button',  // 'button', 'toggle', or 'impulse'\n\t*     'lowNote': 24,\n\t*     'highNote': 60\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time a new key is pressed or released <br>\n\t* The event data is an object containing <i>note</i> and <i>state</i> properties.\n\t*\n\t* @outputexample\n\t* piano.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*/\n\n\tvar Piano = (function (_Interface) {\n\t  function Piano() {\n\t    _classCallCheck(this, Piano);\n\n\t    var options = [\"value\"];\n\n\t    var defaults = {\n\t      size: [500, 125],\n\t      lowNote: 24,\n\t      highNote: 60,\n\t      mode: \"button\"\n\t    };\n\n\t    _get(Object.getPrototypeOf(Piano.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this.keyPattern = [\"w\", \"b\", \"w\", \"b\", \"w\", \"w\", \"b\", \"w\", \"b\", \"w\", \"b\", \"w\"];\n\n\t    this.paintbrush = false;\n\n\t    this.mode = this.settings.mode;\n\n\t    this.range = {\n\t      low: this.settings.lowNote,\n\t      high: this.settings.highNote\n\t    };\n\n\t    this.range.size = this.range.high - this.range.low;\n\n\t    this.keys = [];\n\n\t    this.toggleTo = false;\n\n\t    this.init();\n\t    this.render();\n\t  }\n\n\t  _inherits(Piano, _Interface);\n\n\t  _createClass(Piano, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = document.createElement(\"div\");\n\t        this.element.style.position = \"relative\";\n\t        this.element.style.borderRadius = \"0px\";\n\t        this.element.style.display = \"block\";\n\t        this.element.style.width = \"100%\";\n\t        this.element.style.height = \"100%\";\n\t        this.parent.appendChild(this.element);\n\t      }\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\n\t        this.keys = [];\n\n\t        for (var i = 0; i < this.range.high - this.range.low; i++) {\n\n\t          var container = document.createElement(\"span\");\n\t          var scaleIndex = (i + this.range.low) % this.keyPattern.length;\n\n\t          var key = new PianoKey(container, {\n\t            component: true,\n\t            note: i + this.range.low,\n\t            color: this.keyPattern[scaleIndex],\n\t            mode: this.mode\n\t          }, this.keyChange.bind(this, i + this.range.low));\n\n\t          key.piano = this;\n\n\t          if (touch.exists) {\n\t            key.pad.index = i;\n\t            key.preClick = key.preMove = key.preRelease = function () {};\n\t            key.click = key.move = key.release = function () {};\n\t            key.preTouch = key.preTouchMove = key.preTouchRelease = function () {};\n\t            key.touch = key.touchMove = key.touchRelease = function () {};\n\t          }\n\n\t          this.keys.push(key);\n\t          this.element.appendChild(container);\n\t        }\n\t        if (touch.exists) {\n\t          this.addTouchListeners();\n\t        }\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        var keyX = 0;\n\n\t        var keyPositions = [];\n\n\t        for (var i = 0; i < this.range.high - this.range.low; i++) {\n\n\t          keyPositions.push(keyX);\n\n\t          var scaleIndex = (i + this.range.low) % this.keyPattern.length;\n\t          var nextScaleIndex = (i + 1 + this.range.low) % this.keyPattern.length;\n\t          if (i + 1 + this.range.low >= this.range.high) {\n\t            keyX += 1;\n\t          } else if (this.keyPattern[scaleIndex] === \"w\" && this.keyPattern[nextScaleIndex] === \"w\") {\n\t            keyX += 1;\n\t          } else {\n\t            keyX += 0.5;\n\t          }\n\t        }\n\t        var keysWide = keyX;\n\n\t        //  let padding = this.width / 120;\n\t        var padding = 1;\n\t        var buttonWidth = (this.width - padding * 2) / keysWide;\n\t        var buttonHeight = (this.height - padding * 2) / 2;\n\n\t        for (var i = 0; i < this.keys.length; i++) {\n\n\t          var container = this.keys[i].parent;\n\t          container.style.position = \"absolute\";\n\t          container.style.left = keyPositions[i] * buttonWidth + padding + \"px\";\n\t          if (this.keys[i].color === \"w\") {\n\t            container.style.top = padding + \"px\";\n\t            this.keys[i].resize(buttonWidth, buttonHeight * 2);\n\t          } else {\n\t            container.style.zIndex = 1;\n\t            container.style.top = padding + \"px\";\n\t            this.keys[i].resize(buttonWidth, buttonHeight * 1.1);\n\t          }\n\t        }\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\n\t        // Piano keys don't actually have a stroke border\n\t        // They have space between them, which shows the Piano bg color\n\t        this.element.style.backgroundColor = this.colors.mediumLight;\n\n\t        for (var i = 0; i < this.keys.length; i++) {\n\t          this.keys[i].colors = {\n\t            w: this.colors.light,\n\t            b: this.colors.dark,\n\t            accent: this.colors.accent,\n\t            border: this.colors.mediumLight\n\t          };\n\t          this.keys[i].colorInterface();\n\t          this.keys[i].render();\n\t        }\n\t      }\n\t    },\n\t    keyChange: {\n\t      value: function keyChange(note, on) {\n\t        // emit data for any key turning on/off\n\t        // \"note\" is the note value\n\t        // \"on\" is a boolean whether it is on or off\n\t        // in aftertouch mode, \"on: is an object with state/x/y properties\n\t        var data = {\n\t          note: note\n\t        };\n\t        if (typeof on === \"object\") {\n\t          data.state = on.state;\n\t          //  data.x = on.x\n\t          //  data.y = on.y\n\t        } else {\n\t          data.state = on;\n\t        }\n\t        this.emit(\"change\", data);\n\t      }\n\t    },\n\t    render: {\n\n\t      /* drag(note,on) {\n\t        this.emit('change',{\n\t          note: note,\n\t          state: on\n\t        });\n\t      } */\n\n\t      value: function render() {}\n\t    },\n\t    addTouchListeners: {\n\t      value: function addTouchListeners() {\n\t        var _this = this;\n\n\t        this.preClick = this.preMove = this.preRelease = function () {};\n\t        this.click = this.move = this.release = function () {};\n\t        this.preTouch = this.preTouchMove = this.preTouchRelease = function () {};\n\t        this.touch = this.touchMove = this.touchRelease = function () {};\n\n\t        this.currentElement = false;\n\n\t        this.element.addEventListener(\"touchstart\", function (e) {\n\t          console.log(\"touchstart\");\n\t          var element = document.elementFromPoint(e.targetTouches[0].clientX, e.targetTouches[0].clientY);\n\t          var key = _this.keys[element.index];\n\t          _this.paintbrush = !key.state;\n\t          key.down(_this.paintbrush);\n\t          _this.currentElement = element.index;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\n\t        this.element.addEventListener(\"touchmove\", function (e) {\n\t          var element = document.elementFromPoint(e.targetTouches[0].clientX, e.targetTouches[0].clientY);\n\t          var key = _this.keys[element.index];\n\t          if (element.index !== _this.currentElement) {\n\t            if (_this.currentElement) {\n\t              var pastKey = _this.keys[_this.currentElement];\n\t              pastKey.up();\n\t            }\n\t            key.down(_this.paintbrush);\n\t          } else {\n\t            key.bend();\n\t          }\n\t          _this.currentElement = element.index;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\n\t        this.element.addEventListener(\"touchend\", function (e) {\n\t          // no touches to calculate because none remaining\n\t          var key = _this.keys[_this.currentElement];\n\t          key.up();\n\t          _this.interacting = false;\n\t          _this.currentElement = false;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\t      }\n\t    },\n\t    setRange: {\n\n\t      /**\n\t      Define the pitch range (lowest and highest note) of the piano keyboard.\n\t      @param low {number} MIDI note value of the lowest note on the keyboard\n\t      @param high {number} MIDI note value of the highest note on the keyboard\n\t      */\n\n\t      value: function setRange(low, high) {\n\t        this.range.low = low;\n\t        this.range.high = high;\n\t        this.empty();\n\t        this.buildInterface();\n\t      }\n\t    },\n\t    toggleKey: {\n\n\t      /**\n\t      Turn a key on or off using its MIDI note value;\n\t      @param note {number} MIDI note value of the key to change\n\t      @param on {boolean} Whether the note should turn on or off\n\t      */\n\n\t      value: function toggleKey(note, on) {\n\t        this.keys[note - this.range.low].flip(on);\n\t      }\n\t    },\n\t    toggleIndex: {\n\n\t      /**\n\t      Turn a key on or off using its key index on the piano interface.\n\t      @param index {number} Index of the key to change\n\t      @param on {boolean} Whether the note should turn on or off\n\t      */\n\n\t      value: function toggleIndex(index, on) {\n\t        this.keys[index].flip(on);\n\t      }\n\t    }\n\t  });\n\n\t  return Piano;\n\t})(Interface);\n\n\tmodule.exports = Piano;\n\n\t// loop through and render the keys?\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar svg = __webpack_require__(4);\n\tvar dom = __webpack_require__(7);\n\tvar Interface = __webpack_require__(6);\n\tvar ButtonTemplate = __webpack_require__(17);\n\tvar MatrixModel = __webpack_require__(25);\n\tvar CounterModel = __webpack_require__(28);\n\tvar touch = __webpack_require__(9);\n\n\tvar MatrixCell = (function (_ButtonTemplate) {\n\t  function MatrixCell() {\n\t    _classCallCheck(this, MatrixCell);\n\n\t    var options = [\"value\"];\n\n\t    var defaults = {\n\t      size: [80, 80],\n\t      target: false,\n\t      mode: \"toggle\",\n\t      value: 0\n\t    };\n\n\t    _get(Object.getPrototypeOf(MatrixCell.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this.index = this.settings.index;\n\t    this.row = this.settings.row;\n\t    this.column = this.settings.column;\n\n\t    this.matrix = this.settings.matrix;\n\n\t    this.interacting = false;\n\t    this.paintbrush = true;\n\n\t    this.init();\n\t    this.render();\n\t  }\n\n\t  _inherits(MatrixCell, _ButtonTemplate);\n\n\t  _createClass(MatrixCell, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = svg.create(\"svg\");\n\t        this.element.setAttribute(\"width\", this.width);\n\t        this.element.setAttribute(\"height\", this.height);\n\t        this.element.style.top = \"0px\";\n\t        this.element.style.left = \"0px\";\n\t        this.element.style.position = \"absolute\";\n\t        this.parent.appendChild(this.element);\n\t      }\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t        var _this = this;\n\n\t        this.pad = svg.create(\"rect\");\n\t        this.element.appendChild(this.pad);\n\n\t        this.interactionTarget = this.pad;\n\n\t        /* events */\n\n\t        if (!touch.exists) {\n\n\t          this.click = function () {\n\t            _this.matrix.interacting = true;\n\t            _this.matrix.paintbrush = !_this.state;\n\t            _this.down(_this.matrix.paintbrush);\n\t          };\n\t          this.pad.addEventListener(\"mouseover\", function () {\n\t            if (_this.matrix.interacting) {\n\t              _this.down(_this.matrix.paintbrush);\n\t            }\n\t          });\n\n\t          this.move = function () {};\n\t          this.pad.addEventListener(\"mousemove\", function (e) {\n\t            if (_this.matrix.interacting) {\n\t              if (!_this.offset) {\n\t                _this.offset = dom.findPosition(_this.element);\n\t              }\n\t              _this.mouse = dom.locateMouse(e, _this.offset);\n\t              _this.bend();\n\t            }\n\t          });\n\n\t          this.release = function () {\n\t            _this.matrix.interacting = false;\n\t          };\n\t          this.pad.addEventListener(\"mouseup\", function () {\n\t            if (_this.matrix.interacting) {\n\t              _this.up();\n\t            }\n\t          });\n\t          this.pad.addEventListener(\"mouseout\", function () {\n\t            if (_this.matrix.interacting) {\n\t              _this.up();\n\t            }\n\t          });\n\t        }\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        this.pad.setAttribute(\"x\", 1);\n\t        this.pad.setAttribute(\"y\", 1);\n\t        if (this.width > 2) {\n\t          this.pad.setAttribute(\"width\", this.width - 2);\n\t        } else {\n\t          this.pad.setAttribute(\"width\", this.width);\n\t        }\n\t        if (this.height > 2) {\n\t          this.pad.setAttribute(\"height\", this.height - 2);\n\t        } else {\n\t          this.pad.setAttribute(\"height\", this.height);\n\t        }\n\t        //this.pad.setAttribute('height', this.height - 2);\n\t        this.pad.setAttribute(\"fill\", this.matrix.colors.fill);\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (!this.state) {\n\t          this.pad.setAttribute(\"fill\", this.matrix.colors.fill);\n\t        } else {\n\t          this.pad.setAttribute(\"fill\", this.matrix.colors.accent);\n\t        }\n\t      }\n\t    }\n\t  });\n\n\t  return MatrixCell;\n\t})(ButtonTemplate);\n\n\t/**\n\t* Sequencer\n\t*\n\t* @description Grid of buttons with built-in step sequencer.\n\t*\n\t* @demo <div nexus-ui=\"sequencer\" style=\"width:400px;height:200px;\"></div>\n\t*\n\t* @example\n\t* var sequencer = new Nexus.Sequencer('#target')\n\t*\n\t* @example\n\t* var sequencer = new Nexus.Sequencer('#target',{\n\t*  'size': [400,200],\n\t*  'mode': 'toggle',\n\t*  'rows': 5,\n\t*  'columns': 10\n\t*})\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's matrix changes. <br>\n\t* The event data is an object containing <i>row</i> (number), <i>column</i> (number), and <i>state</i> (boolean) properties.\n\t*\n\t* @outputexample\n\t* sequencer.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t* @output\n\t* step\n\t* Fires any time the sequencer steps to the next column, in sequece mode. <br>\n\t* The event data is an <i>array</i> containing all values in the column, top first.\n\t*\n\t* @outputexample\n\t* sequencer.on('step',function(v) {\n\t*   console.log(v);\n\t* })\n\t*/\n\n\tvar Sequencer = (function (_Interface) {\n\t  function Sequencer() {\n\t    _classCallCheck(this, Sequencer);\n\n\t    var options = [\"value\"];\n\n\t    var defaults = {\n\t      size: [400, 200],\n\t      mode: \"toggle\",\n\t      rows: 5,\n\t      columns: 10\n\t    };\n\n\t    _get(Object.getPrototypeOf(Sequencer.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this.active = -1;\n\n\t    this.mode = this.settings.mode;\n\n\t    /**\n\t     * The interval object which controls timing and sequence scheduling.\n\t     * @type {interval}\n\t     */\n\t    this.interval = new Nexus.Interval(200, function () {}, false); // jshint ignore:line\n\n\t    /**\n\t    A Matrix model containing methods for manipulating the sequencer's array of values. To learn how to manipulate the matrix, read about the matrix model.\n\t    @type {matrix}\n\t    */\n\t    this.matrix = new MatrixModel(this.settings.rows, this.settings.columns);\n\t    this.matrix.ui = this;\n\n\t    /**\n\t    A Counter model which the sequencer steps through. For example, you could use this model to step through the sequencer in reverse, randomly, or in a drunk walk.\n\t    @type {counter}\n\t    */\n\t    this.stepper = new CounterModel(0, this.columns);\n\n\t    this.init();\n\t  }\n\n\t  _inherits(Sequencer, _Interface);\n\n\t  _createClass(Sequencer, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = document.createElement(\"div\");\n\t        this.element.style.position = \"relative\";\n\t        this.element.style.display = \"block\";\n\t        this.element.style.width = \"100%\";\n\t        this.element.style.height = \"100%\";\n\t        this.parent.appendChild(this.element);\n\t        if (touch.exists) {\n\t          this.addTouchListeners();\n\t        }\n\t      }\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\n\t        this.cells = [];\n\t        for (var i = 0; i < this.matrix.length; i++) {\n\n\t          var _location = this.matrix.locate(i);\n\t          // returns {row,col}\n\n\t          var container = document.createElement(\"span\");\n\t          container.style.position = \"absolute\";\n\n\t          var cell = new MatrixCell(container, {\n\t            component: true,\n\t            index: i,\n\t            row: _location.row,\n\t            column: _location.column,\n\t            mode: this.mode,\n\t            matrix: this\n\t          }, this.keyChange.bind(this, i));\n\n\t          //  cell.matrix = this;\n\t          if (touch.exists) {\n\t            cell.pad.index = i;\n\t            cell.preClick = cell.preMove = cell.preRelease = function () {};\n\t            cell.click = cell.move = cell.release = function () {};\n\t            cell.preTouch = cell.preTouchMove = cell.preTouchRelease = function () {};\n\t            cell.touch = cell.touchMove = cell.touchRelease = function () {};\n\t          }\n\n\t          this.cells.push(cell);\n\t          this.element.appendChild(container);\n\t        }\n\t        this.sizeInterface();\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        var cellWidth = this.width / this.columns;\n\t        var cellHeight = this.height / this.rows;\n\n\t        for (var i = 0; i < this.cells.length; i++) {\n\t          var container = this.cells[i].parent;\n\t          container.style.left = this.cells[i].column * cellWidth + \"px\";\n\t          container.style.top = this.cells[i].row * cellHeight + \"px\";\n\t          this.cells[i].resize(cellWidth, cellHeight);\n\t        }\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        for (var i = 0; i < this.cells.length; i++) {\n\t          this.cells[i].render();\n\t        }\n\t      }\n\t    },\n\t    update: {\n\t      value: function update() {\n\t        var _this = this;\n\n\t        //  console.log(\"updating...\")\n\t        //on = on || false;\n\t        this.matrix.iterate(function (r, c, i) {\n\t          //  console.log(this.matrix.pattern[r][c], this.cells[i].state);\n\t          if (_this.matrix.pattern[r][c] !== _this.cells[i].state) {\n\t            if (_this.matrix.pattern[r][c] > 0) {\n\t              _this.cells[i].turnOn();\n\t            } else {\n\t              _this.cells[i].turnOff();\n\t            }\n\t          }\n\t        });\n\t      }\n\t    },\n\t    keyChange: {\n\n\t      // update => cell.turnOn => cell.emit => keyChange (seq.emit) => matrix.set.cell => update\n\t      //\n\t      // interaction => keyChange => matrix.set.cell => update => cell.turnOn\n\t      //                                             => emit\n\t      //\n\t      // set.cell => update => needs to emit.\n\n\t      value: function keyChange(note, on) {\n\t        // emit data for any key turning on/off\n\t        // i is the note index\n\t        // v is whether it is on or off\n\t        var cell = this.matrix.locate(note);\n\t        //  this.matrix.set.cell(cell.column,cell.row,on);\n\t        this.matrix.pattern[cell.row][cell.column] = on;\n\t        var data = {\n\t          row: cell.row,\n\t          column: cell.column,\n\t          state: on\n\t        };\n\t        this.emit(\"change\", data);\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        var _this = this;\n\n\t        if (this.stepper.value >= 0) {\n\t          this.matrix.iterate(function (r, c, i) {\n\t            if (c === _this.stepper.value) {\n\t              _this.cells[i].pad.setAttribute(\"stroke\", _this.colors.mediumLight);\n\t              _this.cells[i].pad.setAttribute(\"stroke-width\", \"1\");\n\t              _this.cells[i].pad.setAttribute(\"stroke-opacity\", \"1\");\n\t            } else {\n\t              _this.cells[i].pad.setAttribute(\"stroke\", \"none\");\n\t            }\n\t          });\n\t        }\n\t      }\n\t    },\n\t    start: {\n\n\t      /**\n\t       * Start sequencing\n\t       * @param  {number} ms Beat tempo in milliseconds\n\t       */\n\n\t      value: function start(ms) {\n\t        this.interval.event = this.next.bind(this);\n\t        if (ms) {\n\t          this.interval.ms(ms);\n\t        }\n\t        this.interval.start();\n\t      }\n\t    },\n\t    stop: {\n\n\t      /**\n\t      Stop sequencing\n\t      */\n\n\t      value: function stop() {\n\t        this.interval.stop();\n\t      }\n\t    },\n\t    next: {\n\n\t      /**\n\t      Manually jump to the next column and trigger the 'change' event. The \"next\" column is determined by your mode of sequencing.\n\t      */\n\n\t      value: function next() {\n\t        this.stepper.next();\n\t        this.emit(\"step\", this.matrix.column(this.stepper.value).reverse());\n\t        this.render();\n\t      }\n\t    },\n\t    addTouchListeners: {\n\t      value: function addTouchListeners() {\n\t        var _this = this;\n\n\t        this.preClick = this.preMove = this.preRelease = function () {};\n\t        this.click = this.move = this.release = function () {};\n\t        this.preTouch = this.preTouchMove = this.preTouchRelease = function () {};\n\t        this.touch = this.touchMove = this.touchRelease = function () {};\n\n\t        this.currentElement = false;\n\n\t        this.element.addEventListener(\"touchstart\", function (e) {\n\t          var element = document.elementFromPoint(e.targetTouches[0].clientX, e.targetTouches[0].clientY);\n\t          var cell = _this.cells[element.index];\n\t          _this.paintbrush = !cell.state;\n\t          cell.down(_this.paintbrush);\n\t          _this.currentElement = element.index;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\n\t        this.element.addEventListener(\"touchmove\", function (e) {\n\t          var element = document.elementFromPoint(e.targetTouches[0].clientX, e.targetTouches[0].clientY);\n\t          var cell = _this.cells[element.index];\n\t          if (element.index !== _this.currentElement) {\n\t            if (_this.currentElement >= 0) {\n\t              var pastCell = _this.cells[_this.currentElement];\n\t              pastCell.up();\n\t            }\n\t            cell.down(_this.paintbrush);\n\t          } else {\n\t            cell.bend();\n\t          }\n\t          _this.currentElement = element.index;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\n\t        this.element.addEventListener(\"touchend\", function (e) {\n\t          // no touches to calculate because none remaining\n\t          var cell = _this.cells[_this.currentElement];\n\t          cell.up();\n\t          _this.interacting = false;\n\t          _this.currentElement = false;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\t      }\n\t    },\n\t    rows: {\n\n\t      /**\n\t      Number of rows in the sequencer\n\t      @type {number}\n\t      */\n\n\t      get: function () {\n\t        return this.matrix.rows;\n\t      },\n\t      set: function (v) {\n\t        this.matrix.rows = v;\n\t        this.empty();\n\t        this.buildInterface();\n\t        this.update();\n\t      }\n\t    },\n\t    columns: {\n\n\t      /**\n\t      Number of columns in the sequencer\n\t      @type {number}\n\t      */\n\n\t      get: function () {\n\t        return this.matrix.columns;\n\t      },\n\t      set: function (v) {\n\t        this.matrix.columns = v;\n\t        this.stepper.max = v;\n\t        this.empty();\n\t        this.buildInterface();\n\t        this.update();\n\t      }\n\t    }\n\t  });\n\n\t  return Sequencer;\n\t})(Interface);\n\n\tmodule.exports = Sequencer;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar math = _interopRequire(__webpack_require__(5));\n\n\tvar Sequence = _interopRequire(__webpack_require__(26));\n\n\t// For the tutorial, looking at\n\n\t//Pattern section:\n\t// .create(), .rows, .columns,\n\t// .pattern, .length, .formatAsText(), .log(),\n\t// .locate(i), .indexOf(c,r)\n\t// row(), column() (returns contents of row or colum)\n\n\t//Control section:\n\t// toggle x3\n\t// set x4\n\t// rotate x3\n\t// populate x3\n\t// erase x3\n\n\t// should some version of this have a float value for each cell?\n\t// could be like a mirror .pattern that has values. by default, everything is 1, but could be set...\n\t// not a good way to do that on interface, but as a model it would be nice...\n\t// for .formatAsText(), could multiply by 100 and floor, so each cell is an int from 0 to 9\n\n\tvar Matrix = (function () {\n\t  function Matrix(rows, columns) {\n\t    var _this = this;\n\n\t    _classCallCheck(this, Matrix);\n\n\t    // should also have ability to create using an existing matrix (2d array)\n\t    this.pattern = [];\n\t    this.create(rows, columns);\n\n\t    this.toggle = {\n\t      cell: function (column, row) {\n\t        _this.pattern[row][column] = !_this.pattern[row][column]; // math.invert(this.pattern[row][column]);\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t        return _this.pattern[row][column];\n\t      },\n\t      all: function () {\n\t        _this.iterate(function (r, c) {\n\t          _this.toggle.cell(c, r);\n\t        });\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      row: function (row) {\n\t        for (var i = 0; i < _this.columns; i++) {\n\t          _this.toggle.cell(i, row);\n\t        }\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      column: function (column) {\n\t        for (var i = 0; i < _this.rows; i++) {\n\t          _this.toggle.cell(column, i);\n\t        }\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      }\n\t    };\n\n\t    this.set = {\n\t      cell: function (column, row, value) {\n\t        _this.pattern[row][column] = value;\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      all: function (values) {\n\t        // set the whole matrix using a 2d array as input\n\t        // this should also resize the array?\n\t        _this.pattern = values;\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      row: function (row, values) {\n\t        // set a row using an array as input\n\t        _this.pattern[row] = values;\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      column: function (column, values) {\n\t        // set a column using an array as input\n\t        _this.pattern.forEach(function (row, i) {\n\t          _this.pattern[i][column] = values[i];\n\t        });\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      }\n\t    };\n\n\t    this.rotate = {\n\t      //should eventually do (amountX, amountY) here\n\t      // could just use a loop and this.rotate.row(i,amountX);\n\t      all: function (amount) {\n\t        if (!amount && amount !== 0) {\n\t          amount = 1;\n\t        }\n\t        amount %= _this.pattern[0].length;\n\t        if (amount < 0) {\n\t          amount = _this.pattern[0].length + amount;\n\t        }\n\t        for (var i = 0; i < _this.rows; i++) {\n\t          var cut = _this.pattern[i].splice(_this.pattern[i].length - amount, amount);\n\t          _this.pattern[i] = cut.concat(_this.pattern[i]);\n\t        }\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      row: function (row, amount) {\n\t        if (!amount && amount !== 0) {\n\t          amount = 1;\n\t        }\n\t        amount %= _this.pattern[0].length;\n\t        if (amount < 0) {\n\t          amount = _this.pattern[0].length + amount;\n\t        }\n\t        var cut = _this.pattern[row].splice(_this.pattern[row].length - amount, amount);\n\t        _this.pattern[row] = cut.concat(_this.pattern[row]);\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      column: function (column, amount) {\n\t        if (!amount && amount !== 0) {\n\t          amount = 1;\n\t        }\n\t        amount %= _this.pattern.length;\n\t        if (amount < 0) {\n\t          amount = _this.pattern.length + amount;\n\t        }\n\t        var proxy = [];\n\t        _this.pattern.forEach(function (row) {\n\t          proxy.push(row[column]);\n\t        });\n\t        var cut = proxy.splice(proxy.length - amount, amount);\n\t        proxy = cut.concat(proxy);\n\t        _this.pattern.forEach(function (row, i) {\n\t          row[column] = proxy[i];\n\t        });\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      }\n\t    };\n\n\t    // the idea behind populate is to be able to set a whole row or column to 0 or 1\n\t    // IF the value is a float, such as 0.7, then it would become a probability\n\t    // so populate(0.7) would give each cell a 70% chance of being 1\n\t    this.populate = {\n\t      all: function (odds) {\n\t        var oddsSequence = new Sequence(odds);\n\t        _this.iterate(function (r, c) {\n\t          _this.pattern[r][c] = math.coin(oddsSequence.next());\n\t        });\n\t        // This could be used so that each row has same odds pattern, even if row length is not divisibly by sequence length.\n\t        //,() => {\n\t        //  odds.pos = -1;\n\t        // }\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      row: function () {\n\t        var row = arguments[0] === undefined ? 0 : arguments[0];\n\t        var odds = arguments[1] === undefined ? 1 : arguments[1];\n\n\t        var oddsSequence = new Sequence(odds);\n\t        _this.pattern[row].forEach(function (cell, i) {\n\t          _this.pattern[row][i] = math.coin(oddsSequence.next());\n\t        });\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      column: function () {\n\t        var column = arguments[0] === undefined ? 0 : arguments[0];\n\t        var odds = arguments[1] === undefined ? 1 : arguments[1];\n\n\t        var oddsSequence = new Sequence(odds);\n\t        _this.pattern.forEach(function (row, i) {\n\t          _this.pattern[i][column] = math.coin(oddsSequence.next());\n\t        });\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      }\n\t    };\n\n\t    // essentiall populate(0) so i'm not sure if this is necessary but is nice\n\t    this.erase = {\n\t      all: function () {\n\t        _this.set.all(0);\n\t      },\n\t      row: function (row) {\n\t        _this.set.row(row, 0);\n\t      },\n\t      column: function (column) {\n\t        _this.set.column(column, 0);\n\t      }\n\t    };\n\n\t    // end constructor\n\t  }\n\n\t  _createClass(Matrix, {\n\t    create: {\n\t      value: function create(rows, columns) {\n\t        var _this = this;\n\n\t        this.pattern = [];\n\t        for (var row = 0; row < rows; row++) {\n\t          var arr = new Array(columns);\n\t          this.pattern.push(arr);\n\t        }\n\t        this.iterate(function (r, c) {\n\t          _this.pattern[r][c] = false;\n\t        });\n\t      }\n\t    },\n\t    iterate: {\n\t      value: function iterate(f, f2) {\n\t        var i = 0;\n\t        for (var row = 0; row < this.rows; row++) {\n\t          if (f2) {\n\t            f2(row);\n\t          }\n\t          for (var column = 0; column < this.columns; column++) {\n\t            f(row, column, i);\n\t            i++;\n\t          }\n\t        }\n\t      }\n\t    },\n\t    formatAsText: {\n\t      value: function formatAsText() {\n\t        var _this = this;\n\n\t        var patternString = \"\";\n\t        this.iterate(function (r, c) {\n\t          patternString += (_this.pattern[r][c] ? 1 : 0) + \" \";\n\t        }, function () {\n\t          patternString += \"\\n\";\n\t        });\n\t        return patternString;\n\t      }\n\t    },\n\t    log: {\n\t      value: function log() {\n\t        console.log(this.formatAsText());\n\t      }\n\t    },\n\t    update: {\n\t      value: function update(pattern) {\n\t        this.pattern = pattern || this.pattern;\n\t      }\n\t    },\n\t    length: {\n\t      get: function () {\n\t        return this.rows * this.columns;\n\t      }\n\t    },\n\t    locate: {\n\t      value: function locate(index) {\n\t        // returns row and column of cell by index\n\t        return {\n\t          row: ~ ~(index / this.columns),\n\t          column: index % this.columns\n\t        };\n\t      }\n\t    },\n\t    indexOf: {\n\t      value: function indexOf(row, column) {\n\t        return column + row * this.columns;\n\t        // returns index of cell by row and column\n\t      }\n\t    },\n\t    row: {\n\t      value: (function (_row) {\n\t        var _rowWrapper = function row(_x) {\n\t          return _row.apply(this, arguments);\n\t        };\n\n\t        _rowWrapper.toString = function () {\n\t          return _row.toString();\n\t        };\n\n\t        return _rowWrapper;\n\t      })(function (row) {\n\t        var data = [];\n\t        for (var i = 0; i < this.columns; i++) {\n\t          data.push(this.pattern[row] ? 1 : 0);\n\t        }\n\t        return data;\n\t      })\n\t    },\n\t    column: {\n\t      value: (function (_column) {\n\t        var _columnWrapper = function column(_x2) {\n\t          return _column.apply(this, arguments);\n\t        };\n\n\t        _columnWrapper.toString = function () {\n\t          return _column.toString();\n\t        };\n\n\t        return _columnWrapper;\n\t      })(function (column) {\n\t        var data = [];\n\t        for (var i = 0; i < this.rows; i++) {\n\t          data.push(this.pattern[i][column] ? 1 : 0);\n\t        }\n\t        return data;\n\t      })\n\t    },\n\t    rows: {\n\t      get: function () {\n\t        return this.pattern.length;\n\t      },\n\t      set: function (v) {\n\t        var _this = this;\n\n\t        var previous = this.pattern.slice(0);\n\t        this.create(v, this.columns);\n\t        this.iterate(function (r, c) {\n\t          if (previous[r] && previous[r][c]) {\n\t            _this.pattern[r][c] = previous[r][c];\n\t          }\n\t        });\n\t      }\n\t    },\n\t    columns: {\n\t      get: function () {\n\t        return this.pattern[0].length;\n\t      },\n\t      set: function (v) {\n\t        var _this = this;\n\n\t        var previous = this.pattern.slice(0);\n\t        this.create(this.rows, v);\n\t        this.iterate(function (r, c) {\n\t          if (previous[r] && previous[r][c]) {\n\t            _this.pattern[r][c] = previous[r][c];\n\t          }\n\t        });\n\t      }\n\t    }\n\t  });\n\n\t  return Matrix;\n\t})();\n\n\tmodule.exports = Matrix;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar math = _interopRequire(__webpack_require__(5));\n\n\tvar Drunk = _interopRequire(__webpack_require__(27));\n\n\tvar Sequence = (function () {\n\t  function Sequence() {\n\t    var sequence = arguments[0] === undefined ? [0, 10, 20, 30] : arguments[0];\n\t    var mode = arguments[1] === undefined ? \"up\" : arguments[1];\n\t    var position = arguments[2] === undefined ? false : arguments[2];\n\n\t    _classCallCheck(this, Sequence);\n\n\t    this.values = sequence;\n\t    if (!Array.isArray(this.values)) {\n\t      this.values = [this.values];\n\t    }\n\t    this._mode = mode;\n\t    this.position = position;\n\n\t    this.drunkWalk = new Drunk(0, this.values.length - 1);\n\n\t    this.startValues = {\n\t      up: 0,\n\t      down: this.values.length - 1,\n\t      drunk: ~ ~(this.values.length / 2),\n\t      random: math.ri(this.values.length)\n\t    };\n\n\t    if (this.position !== false) {\n\t      this.next = this[this._mode];\n\t    } else {\n\t      this.next = this.first;\n\t    }\n\t  }\n\n\t  _createClass(Sequence, {\n\t    mode: {\n\t      get: function () {\n\t        return this._mode;\n\t      },\n\t      set: function (mode) {\n\t        if (!(mode === \"up\" || mode === \"down\" || mode === \"random\" || mode === \"drunk\")) {\n\t          console.error(\"The only modes currently allowed are: up, down, random, drunk\");\n\t          return;\n\t        }\n\t        this._mode = mode;\n\t        if (this.position) {\n\t          this.next = this[this._mode];\n\t        }\n\t      }\n\t    },\n\t    value: {\n\t      get: function () {\n\t        return this.values[this.position];\n\t      },\n\t      set: function (v) {\n\t        this.position = this.values.indexOf(v);\n\t      }\n\t    },\n\t    first: {\n\t      value: function first() {\n\t        if (this.position !== false) {\n\t          this.next = this[this._mode];\n\t          return this.next();\n\t        }\n\t        this.position = this.startValues[this._mode];\n\t        this.next = this[this._mode];\n\t        return this.value;\n\t      }\n\t    },\n\t    up: {\n\t      value: function up() {\n\t        this.position++;\n\t        this.position %= this.values.length;\n\t        return this.value;\n\t      }\n\t    },\n\t    down: {\n\t      value: function down() {\n\t        this.position--;\n\t        if (this.position < 0) {\n\t          this.position = (this.position + this.values.length) % this.values.length;\n\t        }\n\t        return this.value;\n\t      }\n\t    },\n\t    random: {\n\t      value: function random() {\n\t        this.position = math.ri(0, this.values.length);\n\t        return this.value;\n\t      }\n\t    },\n\t    drunk: {\n\t      value: function drunk() {\n\t        this.drunkWalk.max = this.values.length;\n\t        this.drunkWalk.value = this.position;\n\t        this.position = this.drunkWalk.next();\n\t        return this.value;\n\t      }\n\n\t      /* future methods\r\n\t      .group(start,stop) -- outputs a group of n items from the list, with wrapping\r\n\t      .loop(start,stop) -- confines sequencing to a subset of the values\r\n\t          (could even have a distinction between .originalValues and the array of values being used)\r\n\t      */\n\n\t    }\n\t  });\n\n\t  return Sequence;\n\t})();\n\n\tmodule.exports = Sequence;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar math = _interopRequire(__webpack_require__(5));\n\n\tvar Drunk = (function () {\n\t    function Drunk() {\n\t        var min = arguments[0] === undefined ? 0 : arguments[0];\n\t        var max = arguments[1] === undefined ? 9 : arguments[1];\n\t        var value = arguments[2] === undefined ? 0 : arguments[2];\n\t        var increment = arguments[3] === undefined ? 1 : arguments[3];\n\t        var loop = arguments[4] === undefined ? false : arguments[4];\n\n\t        _classCallCheck(this, Drunk);\n\n\t        this.min = min;\n\t        this.max = max;\n\t        this.value = value;\n\t        this.increment = increment;\n\t        this.loop = loop;\n\t    }\n\n\t    _createClass(Drunk, {\n\t        next: {\n\t            value: function next() {\n\t                this.value += math.pick(-1 * this.increment, this.increment);\n\t                if (this.value > this.max) {\n\t                    if (this.loop) {\n\t                        this.value = this.min;\n\t                    } else {\n\t                        this.value = this.max - this.increment;\n\t                    }\n\t                }\n\n\t                if (this.value < this.min) {\n\t                    if (this.loop) {\n\t                        this.value = this.max;\n\t                    } else {\n\t                        this.value = this.min + this.increment;\n\t                    }\n\t                }\n\t                return this.value;\n\t            }\n\t        }\n\t    });\n\n\t    return Drunk;\n\t})();\n\n\tmodule.exports = Drunk;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar math = _interopRequire(__webpack_require__(5));\n\n\tvar Drunk = _interopRequire(__webpack_require__(27));\n\n\tvar Counter = (function () {\n\t    function Counter() {\n\t        var min = arguments[0] === undefined ? 0 : arguments[0];\n\t        var max = arguments[1] === undefined ? 10 : arguments[1];\n\t        var mode = arguments[2] === undefined ? \"up\" : arguments[2];\n\t        var value = arguments[3] === undefined ? false : arguments[3];\n\n\t        _classCallCheck(this, Counter);\n\n\t        this.min = min;\n\t        this.max = max;\n\t        this.value = value;\n\t        this.mode = mode;\n\t        this.drunkWalk = new Drunk(this.min, this.max);\n\t        if (this.value !== false) {\n\t            this.next = this[this._mode];\n\t        } else {\n\t            this.next = this.first;\n\t        }\n\t    }\n\n\t    _createClass(Counter, {\n\t        mode: {\n\t            set: function (mode) {\n\t                if (!(mode === \"up\" || mode === \"down\" || mode === \"random\" || mode === \"drunk\")) {\n\t                    console.error(\"The only modes currently allowed are: up, down, random, drunk\");\n\t                    return;\n\t                }\n\t                this._mode = mode;\n\t                if (this.value) {\n\t                    this.next = this[this._mode];\n\t                }\n\t            },\n\t            get: function () {\n\t                return this._mode;\n\t            }\n\t        },\n\t        first: {\n\t            value: function first() {\n\t                if (this.value !== false) {\n\t                    this.next = this[this._mode];\n\t                    return this.next();\n\t                }\n\t                this.startValues = {\n\t                    up: this.min,\n\t                    down: this.max,\n\t                    drunk: ~ ~math.average(this.min, this.max),\n\t                    random: math.ri(this.min, this.max)\n\t                };\n\t                this.value = this.startValues[this._mode];\n\t                this.next = this[this._mode];\n\t                return this.value;\n\t            }\n\t        },\n\t        up: {\n\t            value: function up() {\n\t                this.value++;\n\t                if (this.value >= this.max) {\n\t                    this.value = this.min;\n\t                }\n\t                return this.value;\n\t            }\n\t        },\n\t        down: {\n\t            value: function down() {\n\t                this.value--;\n\t                if (this.value < this.min) {\n\t                    this.value = this.max;\n\t                }\n\t                return this.value;\n\t            }\n\t        },\n\t        random: {\n\t            value: function random() {\n\t                this.value = math.ri(this.min, this.max);\n\t                return this.value;\n\t            }\n\t        },\n\t        drunk: {\n\t            value: function drunk() {\n\t                this.drunkWalk.min = this.min;\n\t                this.drunkWalk.max = this.max;\n\t                this.drunkWalk.value = this.value;\n\t                this.value = this.drunkWalk.next();\n\t                return this.value;\n\t            }\n\t        }\n\t    });\n\n\t    return Counter;\n\t})();\n\n\tmodule.exports = Counter;\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar svg = __webpack_require__(4);\n\tvar math = __webpack_require__(5);\n\tvar Interface = __webpack_require__(6);\n\tvar Step = __webpack_require__(11);\n\n\tvar Interaction = _interopRequireWildcard(__webpack_require__(12));\n\n\t/**\n\t* Pan2D\n\t*\n\t* @description Interface for moving a sound around an array of speakers. Speaker locations can be customized. The interface calculates the closeness of the sound source to each speaker and returns that distance as a numeric value.\n\t*\n\t* @demo <span nexus-ui=\"pan2D\"></span>\n\t*\n\t* @example\n\t* var pan2d = new Nexus.Pan2d('#target')\n\t*\n\t* @example\n\t* var pan2d = new Nexus.Pan2D('#target',{\n\t*   'size': [200,200],\n\t*   'range': 0.5,  // detection radius of each speaker\n\t*   'mode': 'absolute',   // 'absolute' or 'relative' sound movement\n\t*   'speakers': [  // the speaker [x,y] positions\n\t*       [0.5,0.2],\n\t*       [0.75,0.25],\n\t*       [0.8,0.5],\n\t*       [0.75,0.75],\n\t*       [0.5,0.8],\n\t*       [0.25,0.75]\n\t*       [0.2,0.5],\n\t*       [0.25,0.25]\n\t*   ]\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the \"source\" node's position changes. <br>\n\t* The event data is an array of the amplitudes (0-1), representing the level of each speaker (as calculated by its distance to the audio source).\n\t*\n\t* @outputexample\n\t* pan2d.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*/\n\n\tvar Pan2D = (function (_Interface) {\n\t  function Pan2D() {\n\t    _classCallCheck(this, Pan2D);\n\n\t    var options = [\"range\"];\n\n\t    var defaults = {\n\t      size: [200, 200],\n\t      range: 0.5,\n\t      mode: \"absolute\",\n\t      speakers: [[0.5, 0.2], [0.75, 0.25], [0.8, 0.5], [0.75, 0.75], [0.5, 0.8], [0.25, 0.75], [0.2, 0.5], [0.25, 0.25]]\n\t    };\n\n\t    _get(Object.getPrototypeOf(Pan2D.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this.value = {\n\t      x: new Step(0, 1, 0, 0.5),\n\t      y: new Step(0, 1, 0, 0.5)\n\t    };\n\n\t    /**\n\t    Absolute or relative mouse interaction. In \"absolute\" mode, the source node will jump to your mouse position on mouse click. In \"relative\" mode, it does not.\n\t    */\n\t    this.mode = this.settings.mode;\n\n\t    this.position = {\n\t      x: new Interaction.Handle(this.mode, \"horizontal\", [0, this.width], [this.height, 0]),\n\t      y: new Interaction.Handle(this.mode, \"vertical\", [0, this.width], [this.height, 0])\n\t    };\n\t    this.position.x.value = this.value.x.normalized;\n\t    this.position.y.value = this.value.y.normalized;\n\n\t    /**\n\t    An array of speaker locations. Update this with .moveSpeaker() or .moveAllSpeakers()\n\t    */\n\t    this.speakers = this.settings.speakers;\n\n\t    /**\n\t    Rewrite: The maximum distance from a speaker that the source node can be for it to be heard from that speaker. A low range (0.1) will result in speakers only playing when the sound is very close it. Default is 0.5 (half of the interface).\n\t    */\n\t    this.range = this.settings.range;\n\n\t    /**\n\t    The current levels for each speaker. This is calculated when a source node or speaker node is moved through interaction or programatically.\n\t    */\n\t    this.levels = [];\n\n\t    this.init();\n\n\t    this.calculateLevels();\n\t    this.render();\n\t  }\n\n\t  _inherits(Pan2D, _Interface);\n\n\t  _createClass(Pan2D, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\n\t        this.knob = svg.create(\"circle\");\n\n\t        this.element.appendChild(this.knob);\n\n\t        // add speakers\n\t        this.speakerElements = [];\n\n\t        for (var i = 0; i < this.speakers.length; i++) {\n\t          var speakerElement = svg.create(\"circle\");\n\n\t          this.element.appendChild(speakerElement);\n\n\t          this.speakerElements.push(speakerElement);\n\t        }\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        this._minDimension = Math.min(this.width, this.height);\n\n\t        this.knobRadius = {\n\t          off: ~ ~(this._minDimension / 100) * 3 + 5 };\n\t        this.knobRadius.on = this.knobRadius.off * 2;\n\n\t        this.knob.setAttribute(\"cx\", this.width / 2);\n\t        this.knob.setAttribute(\"cy\", this.height / 2);\n\t        this.knob.setAttribute(\"r\", this.knobRadius.off);\n\n\t        for (var i = 0; i < this.speakers.length; i++) {\n\t          var speakerElement = this.speakerElements[i];\n\t          var speaker = this.speakers[i];\n\t          speakerElement.setAttribute(\"cx\", speaker[0] * this.width);\n\t          speakerElement.setAttribute(\"cy\", speaker[1] * this.height);\n\t          speakerElement.setAttribute(\"r\", this._minDimension / 20 + 5);\n\t          speakerElement.setAttribute(\"fill-opacity\", \"0\");\n\t        }\n\n\t        this.position.x.resize([0, this.width], [this.height, 0]);\n\t        this.position.y.resize([0, this.width], [this.height, 0]);\n\n\t        // next, need to\n\t        // resize positions\n\t        // calculate speaker distances\n\t        this.calculateLevels();\n\t        this.render();\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\n\t        this.element.style.backgroundColor = this.colors.fill;\n\t        this.knob.setAttribute(\"fill\", this.colors.mediumLight);\n\n\t        for (var i = 0; i < this.speakers.length; i++) {\n\t          var speakerElement = this.speakerElements[i];\n\t          speakerElement.setAttribute(\"fill\", this.colors.accent);\n\t          speakerElement.setAttribute(\"stroke\", this.colors.accent);\n\t        }\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        this.knobCoordinates = {\n\t          x: this.value.x.normalized * this.width,\n\t          y: this.height - this.value.y.normalized * this.height\n\t        };\n\n\t        this.knob.setAttribute(\"cx\", this.knobCoordinates.x);\n\t        this.knob.setAttribute(\"cy\", this.knobCoordinates.y);\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.position.x.anchor = this.mouse;\n\t        this.position.y.anchor = this.mouse;\n\t        this.move();\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        if (this.clicked) {\n\t          this.position.x.update(this.mouse);\n\t          this.position.y.update(this.mouse);\n\t          // position.x and position.y are normalized\n\t          // so are the levels\n\t          // likely don't need this.value at all -- only used for drawing\n\t          // not going to be a 'step' or 'min' and 'max' in this one.\n\t          this.calculateLevels();\n\t          this.emit(\"change\", this.levels);\n\t          this.render();\n\t        }\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {\n\t        this.render();\n\t      }\n\t    },\n\t    normalized: {\n\t      get: function () {\n\t        return {\n\t          x: this.value.x.normalized,\n\t          y: this.value.y.normalized\n\t        };\n\t      }\n\t    },\n\t    calculateLevels: {\n\t      value: function calculateLevels() {\n\t        var _this = this;\n\n\t        this.value.x.updateNormal(this.position.x.value);\n\t        this.value.y.updateNormal(this.position.y.value);\n\t        this.levels = [];\n\t        this.speakers.forEach(function (s, i) {\n\t          var distance = math.distance(s[0] * _this.width, s[1] * _this.height, _this.position.x.value * _this.width, (1 - _this.position.y.value) * _this.height);\n\t          var level = math.clip(1 - distance / (_this.range * _this.width), 0, 1);\n\t          _this.levels.push(level);\n\t          _this.speakerElements[i].setAttribute(\"fill-opacity\", level);\n\t        });\n\t      }\n\t    },\n\t    moveSource: {\n\n\t      /**\n\t      Move the audio source node and trigger the output event.\n\t      @param x {number} New x location, normalized 0-1\n\t      @param y {number} New y location, normalized 0-1\n\t      */\n\n\t      value: function moveSource(x, y) {\n\t        var location = {\n\t          x: x * this.width,\n\t          y: y * this.height\n\t        };\n\t        this.position.x.update(location);\n\t        this.position.y.update(location);\n\t        this.calculateLevels();\n\t        this.emit(\"change\", this.levels);\n\t        this.render();\n\t      }\n\t    },\n\t    moveSpeaker: {\n\n\t      /**\n\t      Move a speaker node and trigger the output event.\n\t      @param index {number} Index of the speaker to move\n\t      @param x {number} New x location, normalized 0-1\n\t      @param y {number} New y location, normalized 0-1\n\t      */\n\n\t      value: function moveSpeaker(index, x, y) {\n\n\t        this.speakers[index] = [x, y];\n\t        this.speakerElements[index].setAttribute(\"cx\", x * this.width);\n\t        this.speakerElements[index].setAttribute(\"cy\", y * this.height);\n\t        this.calculateLevels();\n\t        this.emit(\"change\", this.levels);\n\t        this.render();\n\t      }\n\n\t      /**\n\t      Set all speaker locations\n\t      @param locations {Array} Array of speaker locations. Each item in the array should be an array of normalized x and y coordinates.\n\t       setSpeakers(locations) {\n\t       }\n\t      */\n\n\t    }\n\t  });\n\n\t  return Pan2D;\n\t})(Interface);\n\n\tmodule.exports = Pan2D;\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar math = __webpack_require__(5);\n\tvar svg = __webpack_require__(4);\n\tvar Interface = __webpack_require__(6);\n\n\t/**\n\t* Tilt\n\t*\n\t* @description Device tilt sensor with 2 or 3 axes (depending on your device and browser).\n\t*\n\t* @demo <span nexus-ui='tilt'></span>\n\t*\n\t* @example\n\t* var tilt = new Nexus.Tilt('#target')\n\t*\n\t* @output\n\t* change\n\t* Fires at a regular interval, as long as this interface is active (see the interface's <i>.active</i> property)<br>\n\t* The event data is an <i>object</i> containing x (number) and y (number) properties which represent the current tilt state of the device.\n\t*\n\t* @outputexample\n\t* tilt.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*\n\t*/\n\n\tvar Tilt = (function (_Interface) {\n\t  function Tilt() {\n\t    _classCallCheck(this, Tilt);\n\n\t    var options = [\"value\"];\n\n\t    var defaults = {\n\t      size: [80, 80]\n\t    };\n\n\t    _get(Object.getPrototypeOf(Tilt.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this._active = true;\n\n\t    this.init();\n\n\t    // add event listener for device orientation\n\n\t    this.boundUpdate = this.update.bind(this);\n\t    //\tthis.boundMozTilt = this.mozTilt.bind(this)\n\n\t    if (window.DeviceOrientationEvent) {\n\t      this.orientationListener = window.addEventListener(\"deviceorientation\", this.boundUpdate, false);\n\t    } else {\n\t      this._active = false;\n\t      this.colorInterface();\n\t    }\n\n\t    /*else if (window.OrientationEvent) {\n\t    //\t  \twindow.addEventListener('MozOrientation', this.boundMozTilt, false);\n\t    } else {\n\t    console.log('Not supported on your device or browser.');\n\t    } */\n\t  }\n\n\t  _inherits(Tilt, _Interface);\n\n\t  _createClass(Tilt, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\n\t        this.title = svg.create(\"text\");\n\t        this.circleX = svg.create(\"circle\");\n\t        this.circleY = svg.create(\"circle\");\n\t        this.circleZ = svg.create(\"circle\");\n\n\t        this.barX = svg.create(\"path\");\n\t        this.barY = svg.create(\"path\");\n\t        this.barZ = svg.create(\"path\");\n\n\t        this.barX2 = svg.create(\"path\");\n\t        this.barY2 = svg.create(\"path\");\n\t        this.barZ2 = svg.create(\"path\");\n\n\t        this.barX.setAttribute(\"opacity\", \"0.8\");\n\t        this.barY.setAttribute(\"opacity\", \"0.8\");\n\t        this.barZ.setAttribute(\"opacity\", \"0.8\");\n\t        this.barX2.setAttribute(\"opacity\", \"0.8\");\n\t        this.barY2.setAttribute(\"opacity\", \"0.8\");\n\t        this.barZ2.setAttribute(\"opacity\", \"0.8\");\n\n\t        this.circleX.setAttribute(\"cx\", this.width * 3 / 12);\n\t        this.circleX.setAttribute(\"cy\", this.height * 3 / 4);\n\t        this.circleX.setAttribute(\"r\", this.height / 10);\n\t        this.circleX.setAttribute(\"opacity\", \"0.4\");\n\n\t        this.circleY.setAttribute(\"cx\", this.width * 6 / 12);\n\t        this.circleY.setAttribute(\"cy\", this.height * 3 / 4);\n\t        this.circleY.setAttribute(\"r\", this.height / 10);\n\t        this.circleY.setAttribute(\"opacity\", \"0.4\");\n\n\t        this.circleZ.setAttribute(\"cx\", this.width * 9 / 12);\n\t        this.circleZ.setAttribute(\"cy\", this.height * 3 / 4);\n\t        this.circleZ.setAttribute(\"r\", this.height / 10);\n\t        this.circleZ.setAttribute(\"opacity\", \"0.4\");\n\n\t        this.barX.setAttribute(\"stroke-width\", Math.round(this.height / 30));\n\t        this.barY.setAttribute(\"stroke-width\", Math.round(this.height / 30));\n\t        this.barZ.setAttribute(\"stroke-width\", Math.round(this.height / 30));\n\n\t        this.barX.setAttribute(\"fill\", \"none\");\n\t        this.barY.setAttribute(\"fill\", \"none\");\n\t        this.barZ.setAttribute(\"fill\", \"none\");\n\n\t        this.barX2.setAttribute(\"stroke-width\", Math.round(this.height / 30));\n\t        this.barY2.setAttribute(\"stroke-width\", Math.round(this.height / 30));\n\t        this.barZ2.setAttribute(\"stroke-width\", Math.round(this.height / 30));\n\n\t        this.barX2.setAttribute(\"fill\", \"none\");\n\t        this.barY2.setAttribute(\"fill\", \"none\");\n\t        this.barZ2.setAttribute(\"fill\", \"none\");\n\n\t        this.title.setAttribute(\"x\", this.width / 2);\n\t        this.title.setAttribute(\"y\", this.height / 3 + 7);\n\t        this.title.setAttribute(\"font-size\", \"15px\");\n\t        this.title.setAttribute(\"font-weight\", \"bold\");\n\t        this.title.setAttribute(\"letter-spacing\", \"2px\");\n\t        this.title.setAttribute(\"opacity\", \"0.7\");\n\t        this.title.setAttribute(\"text-anchor\", \"middle\");\n\t        this.title.textContent = \"TILT\";\n\n\t        this.element.appendChild(this.circleX);\n\t        this.element.appendChild(this.circleY);\n\t        this.element.appendChild(this.circleZ);\n\n\t        this.element.appendChild(this.barX);\n\t        this.element.appendChild(this.barY);\n\t        this.element.appendChild(this.barZ);\n\n\t        this.element.appendChild(this.barX2);\n\t        this.element.appendChild(this.barY2);\n\t        this.element.appendChild(this.barZ2);\n\n\t        this.element.appendChild(this.title);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\n\t        if (this._active) {\n\t          this.element.style.backgroundColor = this.colors.accent;\n\t          this.circleX.setAttribute(\"fill\", this.colors.light);\n\t          this.circleY.setAttribute(\"fill\", this.colors.light);\n\t          this.circleZ.setAttribute(\"fill\", this.colors.light);\n\t          this.circleX.setAttribute(\"stroke\", this.colors.light);\n\t          this.circleY.setAttribute(\"stroke\", this.colors.light);\n\t          this.circleZ.setAttribute(\"stroke\", this.colors.light);\n\t          this.barX.setAttribute(\"stroke\", this.colors.light);\n\t          this.barY.setAttribute(\"stroke\", this.colors.light);\n\t          this.barZ.setAttribute(\"stroke\", this.colors.light);\n\t          this.barX2.setAttribute(\"stroke\", this.colors.light);\n\t          this.barY2.setAttribute(\"stroke\", this.colors.light);\n\t          this.barZ2.setAttribute(\"stroke\", this.colors.light);\n\t          this.title.setAttribute(\"fill\", this.colors.light);\n\t        } else {\n\t          this.element.style.backgroundColor = this.colors.fill;\n\t          this.circleX.setAttribute(\"fill\", this.colors.mediumLight);\n\t          this.circleY.setAttribute(\"fill\", this.colors.mediumLight);\n\t          this.circleZ.setAttribute(\"fill\", this.colors.mediumLight);\n\t          this.circleX.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.circleY.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.circleZ.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.barX.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.barY.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.barZ.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.barX2.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.barY2.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.barZ2.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.title.setAttribute(\"fill\", this.colors.mediumLight);\n\t        }\n\t      }\n\t    },\n\t    update: {\n\t      value: function update(v) {\n\t        if (this._active) {\n\n\t          var y = v.beta;\n\t          var x = v.gamma;\n\t          var z = v.alpha;\n\n\t          // take the original -90 to 90 scale and normalize it 0-1\n\t          x = math.scale(x, -90, 90, 0, 1);\n\t          y = math.scale(y, -90, 90, 0, 1);\n\t          z = math.scale(z, 0, 360, 0, 1);\n\n\t          var handlePoints = {\n\t            start: Math.PI * 1.5,\n\t            end: math.clip(math.scale(x, 0, 0.5, Math.PI * 1.5, Math.PI * 0.5), Math.PI * 0.5, Math.PI * 1.5)\n\t          };\n\t          var handle2Points = {\n\t            start: Math.PI * 2.5,\n\t            end: math.clip(math.scale(x, 0.5, 1, Math.PI * 2.5, Math.PI * 1.5), Math.PI * 1.5, Math.PI * 2.5)\n\t          };\n\n\t          var handlePath = svg.arc(this.circleX.cx.baseVal.value, this.circleX.cy.baseVal.value, this.circleX.r.baseVal.value, handlePoints.start, handlePoints.end);\n\t          var handle2Path = svg.arc(this.circleX.cx.baseVal.value, this.circleX.cy.baseVal.value, this.circleX.r.baseVal.value, handle2Points.start, handle2Points.end);\n\n\t          this.barX.setAttribute(\"d\", handlePath);\n\t          this.barX2.setAttribute(\"d\", handle2Path);\n\n\t          handlePoints = {\n\t            start: Math.PI * 1.5,\n\t            end: math.clip(math.scale(y, 0, 0.5, Math.PI * 1.5, Math.PI * 0.5), Math.PI * 0.5, Math.PI * 1.5)\n\t          };\n\t          handle2Points = {\n\t            start: Math.PI * 2.5,\n\t            end: math.clip(math.scale(y, 0.5, 1, Math.PI * 2.5, Math.PI * 1.5), Math.PI * 1.5, Math.PI * 2.5)\n\t          };\n\n\t          handlePath = svg.arc(this.circleY.cx.baseVal.value, this.circleY.cy.baseVal.value, this.circleY.r.baseVal.value, handlePoints.start, handlePoints.end);\n\t          handle2Path = svg.arc(this.circleY.cx.baseVal.value, this.circleY.cy.baseVal.value, this.circleY.r.baseVal.value, handle2Points.start, handle2Points.end);\n\n\t          this.barY.setAttribute(\"d\", handlePath);\n\t          this.barY2.setAttribute(\"d\", handle2Path);\n\n\t          handlePoints = {\n\t            start: Math.PI * 1.5,\n\t            end: math.clip(math.scale(z, 0, 0.5, Math.PI * 1.5, Math.PI * 0.5), Math.PI * 0.5, Math.PI * 1.5)\n\t          };\n\t          handle2Points = {\n\t            start: Math.PI * 2.5,\n\t            end: math.clip(math.scale(z, 0.5, 1, Math.PI * 2.5, Math.PI * 1.5), Math.PI * 1.5, Math.PI * 2.5)\n\t          };\n\n\t          handlePath = svg.arc(this.circleZ.cx.baseVal.value, this.circleZ.cy.baseVal.value, this.circleZ.r.baseVal.value, handlePoints.start, handlePoints.end);\n\t          handle2Path = svg.arc(this.circleZ.cx.baseVal.value, this.circleZ.cy.baseVal.value, this.circleZ.r.baseVal.value, handle2Points.start, handle2Points.end);\n\n\t          this.barZ.setAttribute(\"d\", handlePath);\n\t          this.barZ2.setAttribute(\"d\", handle2Path);\n\n\t          /*\n\t           let pointsX = {\n\t            start: 0,\n\t            end: math.scale( x, 0, 1, 0, Math.PI*2 )\n\t          };\n\t          //  console.log(this.circleX.cx.baseVal.value);\n\t           let pathX = svg.arc(this.circleX.cx.baseVal.value, this.circleX.cy.baseVal.value, this.circleX.r.baseVal.value*2, pointsX.start, pointsX.end);\n\t           this.barX.setAttribute('d',pathX); */\n\n\t          //this.textH.textContent = math.prune(x,2);\n\t          //this.textV.textContent = math.prune(y,2);\n\t          //\n\t          //  this.circleX.setAttribute('opacity',x);\n\t          //  this.circleY.setAttribute('opacity',y);\n\t          //  this.circleZ.setAttribute('opacity',z);\n\n\t          this.emit(\"change\", {\n\t            x: x,\n\t            y: y,\n\t            z: z\n\t          });\n\t        }\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        if (window.DeviceOrientationEvent) {\n\t          this.active = !this.active;\n\t        }\n\t      }\n\t    },\n\t    active: {\n\n\t      /**\n\t      Whether the interface is on (emitting values) or off (paused & not emitting values). Setting this property will update it.\n\t      @type {boolean}\n\t      */\n\n\t      get: function () {\n\t        return this._active;\n\t      },\n\t      set: function (on) {\n\t        this._active = on;\n\t        this.colorInterface();\n\t      }\n\t    },\n\t    customDestroy: {\n\t      value: function customDestroy() {\n\t        window.removeEventListener(\"deviceorientation\", this.boundUpdate, false);\n\t      }\n\t    }\n\t  });\n\n\t  return Tilt;\n\t})(Interface);\n\n\tmodule.exports = Tilt;\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar dom = __webpack_require__(7);\n\tvar math = __webpack_require__(5);\n\tvar Interface = __webpack_require__(6);\n\tvar SliderTemplate = __webpack_require__(32);\n\tvar touch = __webpack_require__(9);\n\n\tvar SingleSlider = (function (_SliderTemplate) {\n\t  function SingleSlider() {\n\t    var _this = this;\n\n\t    _classCallCheck(this, SingleSlider);\n\n\t    var options = [\"scale\", \"value\"];\n\n\t    var defaults = {\n\t      size: [120, 20],\n\t      orientation: \"vertical\",\n\t      mode: \"absolute\",\n\t      scale: [0, 1],\n\t      step: 0,\n\t      value: 0,\n\t      hasKnob: true\n\t    };\n\n\t    _get(Object.getPrototypeOf(SingleSlider.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    /* events */\n\n\t    if (!touch.exists) {\n\n\t      this.click = function () {\n\t        _this.multislider.interacting = true;\n\t        _this.multislider.interpolation = {\n\t          index: _this.index,\n\t          value: _this.value\n\t        };\n\t        _this.down();\n\t        _this.multislider.values[_this.index] = _this.value;\n\t      };\n\t      this.element.addEventListener(\"mouseover\", function (e) {\n\t        if (_this.multislider.interacting) {\n\t          if (!_this.offset) {\n\t            _this.offset = dom.findPosition(_this.element);\n\t          }\n\t          _this.mouse = dom.locateMouse(e, _this.offset);\n\t          _this.down();\n\t          _this.multislider.values[_this.index] = _this.value;\n\t          if (_this.multislider.interpolation) {\n\t            var distance = Math.abs(_this.multislider.interpolation.index - _this.index);\n\t            if (distance > 1) {\n\t              var low = Math.min(_this.multislider.interpolation.index, _this.index);\n\t              var high = Math.max(_this.multislider.interpolation.index, _this.index);\n\t              var lowValue = _this.multislider.sliders[low].value;\n\t              var highValue = _this.multislider.sliders[high].value;\n\t              for (var i = low; i < high; i++) {\n\t                _this.multislider.sliders[i].value = math.interp((i - low) / distance, lowValue, highValue);\n\t              }\n\t            }\n\t          }\n\n\t          _this.multislider.interpolation = {\n\t            index: _this.index,\n\t            value: _this.value\n\t          };\n\t        }\n\t      });\n\n\t      this.move = function () {};\n\t      this.element.addEventListener(\"mousemove\", function (e) {\n\t        if (_this.multislider.interacting) {\n\t          if (!_this.offset) {\n\t            _this.offset = dom.findPosition(_this.element);\n\t          }\n\t          _this.mouse = dom.locateMouse(e, _this.offset);\n\t          _this.slide();\n\t          _this.multislider.values[_this.index] = _this.value;\n\t        }\n\t      });\n\n\t      this.release = function () {\n\t        _this.multislider.interacting = false;\n\t        _this.multislider.interpolation = false;\n\t      };\n\t      this.element.addEventListener(\"mouseup\", function () {\n\t        if (_this.multislider.interacting) {\n\t          _this.up();\n\t          _this.multislider.interpolation = false;\n\t          _this.multislider.values[_this.index] = _this.value;\n\t        }\n\t      });\n\t      this.element.addEventListener(\"mouseout\", function () {\n\t        if (_this.multislider.interacting) {\n\t          _this.up();\n\t          _this.multislider.values[_this.index] = _this.value;\n\t        }\n\t      });\n\t    }\n\n\t    this.customStyle();\n\t  }\n\n\t  _inherits(SingleSlider, _SliderTemplate);\n\n\t  _createClass(SingleSlider, {\n\t    customStyle: {\n\t      value: function customStyle() {\n\n\t        /* style changes */\n\n\t        this.bar.setAttribute(\"x\", 0);\n\t        this.bar.setAttribute(\"transform\", \"translate(0,0)\");\n\t        this.bar.setAttribute(\"rx\", 0); // corner radius\n\t        this.bar.setAttribute(\"ry\", 0);\n\t        this.bar.setAttribute(\"width\", this.width);\n\t        this.bar.setAttribute(\"height\", this.height);\n\n\t        this.fillbar.setAttribute(\"x\", 0);\n\t        this.fillbar.setAttribute(\"transform\", \"translate(0,0)\");\n\t        this.fillbar.setAttribute(\"rx\", 0); // corner radius\n\t        this.fillbar.setAttribute(\"ry\", 0);\n\t        this.fillbar.setAttribute(\"width\", this.width);\n\t        this.fillbar.setAttribute(\"height\", this.height);\n\t      }\n\t    }\n\t  });\n\n\t  return SingleSlider;\n\t})(SliderTemplate);\n\n\t/**\n\t* Multislider\n\t*\n\t* @description Multislider\n\t*\n\t* @demo <span nexus-ui=\"multislider\"></span>\n\t*\n\t* @example\n\t* var multislider = new Nexus.Multislider('#target')\n\t*\n\t* @example\n\t* var multislider = new Nexus.Multislider('#target',{\n\t*  'size': [200,100],\n\t*  'numberOfSliders': 5,\n\t*  'min': 0,\n\t*  'max': 1,\n\t*  'step': 0,\n\t*  'values': [0.7,0.7,0.7,0.7,0.7]\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* The event data an object containing <i>index</i> and <i>value</i> properties\n\t*\n\t* @outputexample\n\t* multislider.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*/\n\n\t/*\n\tProperties\n\t.values\n\n\t*/\n\n\tvar Multislider = (function (_Interface) {\n\t  function Multislider() {\n\t    _classCallCheck(this, Multislider);\n\n\t    var options = [\"value\"];\n\n\t    var defaults = {\n\t      size: [200, 100],\n\t      numberOfSliders: 5,\n\t      min: 0,\n\t      max: 1,\n\t      step: 0,\n\t      values: [0.7, 0.7, 0.7, 0.7, 0.7]\n\t    };\n\n\t    _get(Object.getPrototypeOf(Multislider.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this._numberOfSliders = this.settings.numberOfSliders;\n\t    this.values = this.settings.values;\n\n\t    this.sliders = [];\n\n\t    this.interacting = false;\n\n\t    this.init();\n\t  }\n\n\t  _inherits(Multislider, _Interface);\n\n\t  _createClass(Multislider, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = document.createElement(\"div\");\n\t        this.parent.appendChild(this.element);\n\t      }\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\n\t        var min = this.settings.min;\n\t        var max = this.settings.max;\n\t        var step = this.settings.step;\n\n\t        if (this.sliders.length) {\n\t          min = this.sliders[0].min;\n\t          max = this.sliders[0].max;\n\t          step = this.sliders[0].step;\n\t        }\n\n\t        this.sliders = [];\n\n\t        for (var i = 0; i < this._numberOfSliders; i++) {\n\t          var container = document.createElement(\"span\");\n\n\t          var slider = new SingleSlider(container, {\n\t            scale: [min, max],\n\t            step: step,\n\t            mode: \"absolute\",\n\t            orientation: \"vertical\",\n\t            value: this.values[i],\n\t            hasKnob: false,\n\t            component: true }, this.update.bind(this, i));\n\t          slider.multislider = this;\n\n\t          slider.index = i;\n\t          if (touch.exists) {\n\t            slider.bar.index = i;\n\t            slider.fillbar.index = i;\n\t            slider.preClick = slider.preMove = slider.preRelease = function () {};\n\t            slider.click = slider.move = slider.release = function () {};\n\t            slider.preTouch = slider.preTouchMove = slider.preTouchRelease = function () {};\n\t            slider.touch = slider.touchMove = slider.touchRelease = function () {};\n\t          }\n\n\t          this.sliders.push(slider);\n\t          this.element.appendChild(container);\n\t        }\n\t        if (touch.exists) {\n\t          this.addTouchListeners();\n\t        }\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        for (var i = 0; i < this.sliders.length; i++) {\n\t          this.sliders[i].colors = this.colors;\n\t          this.sliders[i].colorInterface();\n\t        }\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        var sliderWidth = this.width / this.sliders.length;\n\t        var sliderHeight = this.height;\n\n\t        for (var i = 0; i < this.sliders.length; i++) {\n\t          this.sliders[i].resize(sliderWidth, sliderHeight);\n\t          this.sliders[i].customStyle();\n\t        }\n\t      }\n\t    },\n\t    update: {\n\t      value: function update(index, value) {\n\t        this.emit(\"change\", {\n\t          index: index,\n\t          value: value\n\t        });\n\t      }\n\t    },\n\t    addTouchListeners: {\n\t      value: function addTouchListeners() {\n\t        var _this = this;\n\n\t        this.preClick = this.preMove = this.preRelease = function () {};\n\t        this.click = this.move = this.release = function () {};\n\t        this.preTouch = this.preTouchMove = this.preTouchRelease = function () {};\n\t        this.touch = this.touchMove = this.touchRelease = function () {};\n\n\t        this.currentElement = false;\n\n\t        this.element.addEventListener(\"touchstart\", function (e) {\n\t          var element = document.elementFromPoint(e.targetTouches[0].clientX, e.targetTouches[0].clientY);\n\t          var slider = _this.sliders[element.index];\n\t          if (!slider.offset) {\n\t            slider.offset = dom.findPosition(slider.element);\n\t          }\n\t          slider.mouse = dom.locateMouse(e, slider.offset);\n\t          slider.down();\n\t          _this.currentElement = element.index;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\n\t        this.element.addEventListener(\"touchmove\", function (e) {\n\t          var element = document.elementFromPoint(e.targetTouches[0].clientX, e.targetTouches[0].clientY);\n\t          var slider = _this.sliders[element.index];\n\t          if (!slider.offset) {\n\t            slider.offset = dom.findPosition(slider.element);\n\t          }\n\t          slider.mouse = dom.locateMouse(e, slider.offset);\n\t          if (element.index !== _this.currentElement) {\n\t            if (_this.currentElement >= 0) {\n\t              var pastslider = _this.sliders[_this.currentElement];\n\t              pastslider.up();\n\t            }\n\t            slider.down();\n\t          } else {\n\t            slider.slide();\n\t          }\n\t          _this.currentElement = element.index;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\n\t        this.element.addEventListener(\"touchend\", function (e) {\n\t          // no touches to calculate because none remaining\n\t          var slider = _this.sliders[_this.currentElement];\n\t          slider.up();\n\t          _this.interacting = false;\n\t          _this.currentElement = false;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\t      }\n\t    },\n\t    numberOfSliders: {\n\n\t      /**\n\t      Get or set the number of sliders\n\t      @type {Number}\n\t      */\n\n\t      get: function () {\n\t        return this.sliders.length;\n\t      },\n\t      set: function (v) {\n\t        if (v === this.sliders.length) {\n\t          return;\n\t        }\n\t        this.sliders.forEach(function (slider) {\n\t          slider.destroy();\n\t        });\n\t        this.empty();\n\t        this._numberOfSliders = v;\n\t        this.buildInterface();\n\t      }\n\t    },\n\t    min: {\n\n\t      /**\n\t      Lower limit of the multislider's output range\n\t      @type {number}\n\t      @example multislider.min = 1000;\n\t      */\n\n\t      get: function () {\n\t        return this.sliders[0].min;\n\t      },\n\t      set: function (v) {\n\t        this.sliders.forEach(function (slider) {\n\t          slider.min = v;\n\t        });\n\t      }\n\t    },\n\t    max: {\n\n\t      /**\n\t      Upper limit of the multislider's output range\n\t      @type {number}\n\t      @example multislider.max = 1000;\n\t      */\n\n\t      get: function () {\n\t        return this.sliders[0].max;\n\t      },\n\t      set: function (v) {\n\t        this.sliders.forEach(function (slider) {\n\t          slider.max = v;\n\t        });\n\t      }\n\t    },\n\t    step: {\n\n\t      /**\n\t      The increment that the multislider's value changes by.\n\t      @type {number}\n\t      @example multislider.step = 5;\n\t      */\n\n\t      get: function () {\n\t        return this.sliders[0].step;\n\t      },\n\t      set: function (v) {\n\t        this.sliders.forEach(function (slider) {\n\t          slider.step = v;\n\t        });\n\t      }\n\t    },\n\t    setSlider: {\n\n\t      /**\n\t      Set the value of an individual slider\n\t      @param index {number} Slider index\n\t      @param value {number} New slider value\n\t      @example\n\t      // Set the first slider to value 0.5\n\t      multislider.setSlider(0,0.5)\n\t      */\n\n\t      value: function setSlider(index, value) {\n\t        this.sliders[index].value = value;\n\t        this.emit(\"change\", {\n\t          index: index,\n\t          value: value\n\t        });\n\t      }\n\t    },\n\t    setAllSliders: {\n\n\t      /**\n\t      Set the value of all sliders at once. If the size of the input array does not match the current number of sliders, the value array will repeat until all sliders have been set. I.e. an input array of length 1 will set all sliders to that value.\n\t      @param values {Array} All slider values\n\t      @example\n\t      multislider.setAllSliders([0.2,0.3,0.4,0.5,0.6])\n\t      */\n\n\t      value: function setAllSliders(values) {\n\t        var _this = this;\n\n\t        this.values = values;\n\t        this.sliders.forEach(function (slider, i) {\n\t          slider.value = values[i % values.length];\n\t          _this.emit(\"change\", {\n\t            index: i,\n\t            value: slider.value\n\t          });\n\t        });\n\t      }\n\t    }\n\t  });\n\n\t  return Multislider;\n\t})(Interface);\n\n\tmodule.exports = Multislider;\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar svg = __webpack_require__(4);\n\tvar Interface = __webpack_require__(6);\n\tvar Step = __webpack_require__(11);\n\n\tvar Interaction = _interopRequireWildcard(__webpack_require__(12));\n\n\tvar SliderTemplate = (function (_Interface) {\n\t  function SliderTemplate(args, options, defaults) {\n\t    _classCallCheck(this, SliderTemplate);\n\n\t    _get(Object.getPrototypeOf(SliderTemplate.prototype), \"constructor\", this).call(this, args, options, defaults);\n\n\t    this.orientation = this.settings.orientation;\n\n\t    //  this.mode = this.settings.mode;\n\n\t    this.hasKnob = this.settings.hasKnob;\n\n\t    // this.step should eventually be get/set\n\t    // updating it will update the _value step model\n\t    //  this.step = this.settings.step; // float\n\n\t    this._value = new Step(this.settings.scale[0], this.settings.scale[1], this.settings.step, this.settings.value);\n\n\t    this.init();\n\n\t    this.position = new Interaction.Handle(this.settings.mode, this.orientation, [0, this.width], [this.height, 0]);\n\t    this.position.value = this._value.normalized;\n\n\t    this.value = this._value.value;\n\n\t    this.emit(\"change\", this.value);\n\t  }\n\n\t  _inherits(SliderTemplate, _Interface);\n\n\t  _createClass(SliderTemplate, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\n\t        this.bar = svg.create(\"rect\");\n\t        this.fillbar = svg.create(\"rect\");\n\t        this.knob = svg.create(\"circle\");\n\n\t        this.element.appendChild(this.bar);\n\t        this.element.appendChild(this.fillbar);\n\t        this.element.appendChild(this.knob);\n\n\t        this.sizeInterface();\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        if (!this.settings.orientation) {\n\t          if (this.width < this.height) {\n\t            this.orientation = \"vertical\";\n\t          } else {\n\t            this.orientation = \"horizontal\";\n\t          }\n\t        }\n\n\t        var x = undefined,\n\t            y = undefined,\n\t            w = undefined,\n\t            h = undefined,\n\t            barOffset = undefined,\n\t            cornerRadius = undefined;\n\t        this.knobData = {\n\t          level: 0,\n\t          r: 0\n\t        };\n\n\t        if (this.orientation === \"vertical\") {\n\t          this.thickness = this.width / 2;\n\t          x = this.width / 2;\n\t          y = 0;\n\t          w = this.thickness;\n\t          h = this.height;\n\t          this.knobData.r = this.thickness * 0.8;\n\t          this.knobData.level = h - this.normalized * h;\n\t          barOffset = \"translate(\" + this.thickness * -1 / 2 + \",0)\";\n\t          cornerRadius = w / 2;\n\t        } else {\n\t          this.thickness = this.height / 2;\n\t          x = 0;\n\t          y = this.height / 2;\n\t          w = this.width;\n\t          h = this.thickness;\n\t          this.knobData.r = this.thickness * 0.8;\n\t          this.knobData.level = this.normalized * w;\n\t          barOffset = \"translate(0,\" + this.thickness * -1 / 2 + \")\";\n\t          cornerRadius = h / 2;\n\t        }\n\n\t        this.bar.setAttribute(\"x\", x);\n\t        this.bar.setAttribute(\"y\", y);\n\t        this.bar.setAttribute(\"transform\", barOffset);\n\t        this.bar.setAttribute(\"rx\", cornerRadius); // corner radius\n\t        this.bar.setAttribute(\"ry\", cornerRadius);\n\t        this.bar.setAttribute(\"width\", w);\n\t        this.bar.setAttribute(\"height\", h);\n\n\t        if (this.orientation === \"vertical\") {\n\t          this.fillbar.setAttribute(\"x\", x);\n\t          this.fillbar.setAttribute(\"y\", this.knobData.level);\n\t          this.fillbar.setAttribute(\"width\", w);\n\t          this.fillbar.setAttribute(\"height\", h - this.knobData.level);\n\t        } else {\n\t          this.fillbar.setAttribute(\"x\", 0);\n\t          this.fillbar.setAttribute(\"y\", y);\n\t          this.fillbar.setAttribute(\"width\", this.knobData.level);\n\t          this.fillbar.setAttribute(\"height\", h);\n\t        }\n\t        this.fillbar.setAttribute(\"transform\", barOffset);\n\t        this.fillbar.setAttribute(\"rx\", cornerRadius);\n\t        this.fillbar.setAttribute(\"ry\", cornerRadius);\n\n\t        if (this.orientation === \"vertical\") {\n\t          this.knob.setAttribute(\"cx\", x);\n\t          this.knob.setAttribute(\"cy\", this.knobData.level);\n\t        } else {\n\t          this.knob.setAttribute(\"cx\", this.knobData.level);\n\t          this.knob.setAttribute(\"cy\", y);\n\t        }\n\t        this.knob.setAttribute(\"r\", this.knobData.r);\n\n\t        if (this.position) {\n\t          this.position.resize([0, this.width], [this.height, 0]);\n\t        }\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\n\t        this.bar.setAttribute(\"fill\", this.colors.fill);\n\t        this.fillbar.setAttribute(\"fill\", this.colors.accent);\n\t        this.knob.setAttribute(\"fill\", this.colors.accent);\n\t        if (!this.hasKnob) {\n\t          this.knob.setAttribute(\"fill\", \"none\");\n\t        }\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (!this.clicked) {\n\t          this.knobData.r = this.thickness * 0.75;\n\t        }\n\t        this.knob.setAttribute(\"r\", this.knobData.r);\n\n\t        if (this.orientation === \"vertical\") {\n\t          this.knobData.level = this._value.normalized * this.height;\n\t          this.knob.setAttribute(\"cy\", this.height - this.knobData.level);\n\t          this.fillbar.setAttribute(\"y\", this.height - this.knobData.level);\n\t          this.fillbar.setAttribute(\"height\", this.knobData.level);\n\t        } else {\n\t          this.knobData.level = this._value.normalized * this.width;\n\t          this.knob.setAttribute(\"cx\", this.knobData.level);\n\t          this.fillbar.setAttribute(\"x\", 0);\n\t          this.fillbar.setAttribute(\"width\", this.knobData.level);\n\t        }\n\t      }\n\t    },\n\t    down: {\n\t      value: function down() {\n\t        this.clicked = true;\n\t        this.knobData.r = this.thickness * 0.9;\n\t        this.position.anchor = this.mouse;\n\t        this.slide();\n\t      }\n\t    },\n\t    slide: {\n\t      value: function slide() {\n\t        if (this.clicked) {\n\t          this.position.update(this.mouse);\n\t          this.value = this._value.updateNormal(this.position.value);\n\t          this.emit(\"change\", this.value);\n\t        }\n\t      }\n\t    },\n\t    up: {\n\t      value: function up() {\n\t        this.clicked = false;\n\t        this.render();\n\t      }\n\t    },\n\t    normalized: {\n\t      get: function () {\n\t        return this._value.normalized;\n\t      }\n\t    },\n\t    value: {\n\n\t      /**\n\t      The slider's current value. If set manually, will update the interface and trigger the output event.\n\t      @type {number}\n\t      @example slider.value = 10;\n\t      */\n\n\t      get: function () {\n\t        return this._value.value;\n\t      },\n\t      set: function (v) {\n\t        this._value.update(v);\n\t        this.position.value = this._value.normalized;\n\t        this.render();\n\t      }\n\t    },\n\t    min: {\n\n\t      /**\n\t      Lower limit of the sliders's output range\n\t      @type {number}\n\t      @example slider.min = 1000;\n\t      */\n\n\t      get: function () {\n\t        return this._value.min;\n\t      },\n\t      set: function (v) {\n\t        this._value.min = v;\n\t      }\n\t    },\n\t    max: {\n\n\t      /**\n\t      Upper limit of the slider's output range\n\t      @type {number}\n\t      @example slider.max = 1000;\n\t      */\n\n\t      get: function () {\n\t        return this._value.max;\n\t      },\n\t      set: function (v) {\n\t        this._value.max = v;\n\t      }\n\t    },\n\t    step: {\n\n\t      /**\n\t      The increment that the slider's value changes by.\n\t      @type {number}\n\t      @example slider.step = 5;\n\t      */\n\n\t      get: function () {\n\t        return this._value.step;\n\t      },\n\t      set: function (v) {\n\t        this._value.step = v;\n\t      }\n\t    },\n\t    mode: {\n\n\t      /**\n\t      Absolute mode (slider's value jumps to mouse click position) or relative mode (mouse drag changes value relative to its current position). Default: \"relative\".\n\t      @type {string}\n\t      @example slider.mode = \"relative\";\n\t      */\n\n\t      get: function () {\n\t        return this.position.mode;\n\t      },\n\t      set: function (v) {\n\t        this.position.mode = v;\n\t      }\n\t    }\n\t  });\n\n\t  return SliderTemplate;\n\t})(Interface);\n\n\tmodule.exports = SliderTemplate;\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar svg = __webpack_require__(4);\n\tvar math = __webpack_require__(5);\n\tvar Interface = __webpack_require__(6);\n\tvar Step = __webpack_require__(11);\n\n\tvar Interaction = _interopRequireWildcard(__webpack_require__(12));\n\n\t/**\n\t* Pan\n\t*\n\t* @description Stereo crossfader.\n\t*\n\t* @demo <span nexus-ui=\"pan\"></span>\n\t*\n\t* @example\n\t* var pan = new Nexus.Pan('#target')\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* The event data is an object containing the interface's <i>value</i> (-1 to 1), as well as <i>L</i> and <i>R</i> amplitude values (0-1) for left and right speakers, calculated by a square-root crossfade algorithm.\n\t*\n\t* @outputexample\n\t* pan.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*\n\t*/\n\n\tvar Pan = (function (_Interface) {\n\t  function Pan() {\n\t    _classCallCheck(this, Pan);\n\n\t    var options = [\"scale\", \"value\"];\n\n\t    var defaults = {\n\t      size: [120, 20],\n\t      orientation: \"horizontal\",\n\t      mode: \"relative\",\n\t      scale: [-1, 1],\n\t      step: 0,\n\t      value: 0,\n\t      hasKnob: true\n\t    };\n\n\t    _get(Object.getPrototypeOf(Pan.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this.orientation = this.settings.orientation;\n\n\t    this.mode = this.settings.mode;\n\n\t    this.hasKnob = this.settings.hasKnob;\n\n\t    // this.step should eventually be get/set\n\t    // updating it will update the _value step model\n\t    this.step = this.settings.step; // float\n\n\t    this._value = new Step(this.settings.scale[0], this.settings.scale[1], this.settings.step, this.settings.value);\n\n\t    this.init();\n\n\t    this.position = new Interaction.Handle(this.mode, this.orientation, [0, this.width], [this.height, 0]);\n\t    this.position.value = this._value.normalized;\n\n\t    this.value = this._value.value;\n\n\t    this.emit(\"change\", this.value);\n\t  }\n\n\t  _inherits(Pan, _Interface);\n\n\t  _createClass(Pan, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\n\t        this.bar = svg.create(\"rect\");\n\t        this.knob = svg.create(\"circle\");\n\n\t        this.element.appendChild(this.bar);\n\t        this.element.appendChild(this.knob);\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        if (this.position) {\n\t          this.position.resize([0, this.width], [this.height, 0]);\n\t        }\n\n\t        if (this.width < this.height) {\n\t          this.orientation = \"vertical\";\n\t        } else {\n\t          this.orientation = \"horizontal\";\n\t        }\n\n\t        var x = undefined,\n\t            y = undefined,\n\t            w = undefined,\n\t            h = undefined,\n\t            barOffset = undefined,\n\t            cornerRadius = undefined;\n\t        this.knobData = {\n\t          level: 0,\n\t          r: 0\n\t        };\n\n\t        if (this.orientation === \"vertical\") {\n\t          this.thickness = this.width / 2;\n\t          x = this.width / 2;\n\t          y = 0;\n\t          w = this.thickness;\n\t          h = this.height;\n\t          this.knobData.r = this.thickness * 0.8;\n\t          this.knobData.level = h - this.knobData.r - this.normalized * (h - this.knobData.r * 2);\n\t          barOffset = \"translate(\" + this.thickness * -1 / 2 + \",0)\";\n\t          cornerRadius = w / 2;\n\t        } else {\n\t          this.thickness = this.height / 2;\n\t          x = 0;\n\t          y = this.height / 2;\n\t          w = this.width;\n\t          h = this.thickness;\n\t          this.knobData.r = this.thickness * 0.8;\n\t          this.knobData.level = this.normalized * (w - this.knobData.r * 2) + this.knobData.r;\n\t          barOffset = \"translate(0,\" + this.thickness * -1 / 2 + \")\";\n\t          cornerRadius = h / 2;\n\t        }\n\n\t        this.bar.setAttribute(\"x\", x);\n\t        this.bar.setAttribute(\"y\", y);\n\t        this.bar.setAttribute(\"transform\", barOffset);\n\t        this.bar.setAttribute(\"rx\", cornerRadius); // corner radius\n\t        this.bar.setAttribute(\"ry\", cornerRadius);\n\t        this.bar.setAttribute(\"width\", w);\n\t        this.bar.setAttribute(\"height\", h);\n\n\t        if (this.orientation === \"vertical\") {\n\t          this.knob.setAttribute(\"cx\", x);\n\t          this.knob.setAttribute(\"cy\", this.knobData.level);\n\t        } else {\n\t          this.knob.setAttribute(\"cx\", this.knobData.level);\n\t          this.knob.setAttribute(\"cy\", y);\n\t        }\n\t        this.knob.setAttribute(\"r\", this.knobData.r);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\n\t        this.bar.setAttribute(\"fill\", this.colors.fill);\n\t        this.knob.setAttribute(\"fill\", this.colors.accent);\n\n\t        if (!this.hasKnob) {\n\t          this.knob.setAttribute(\"fill\", \"transparent\");\n\t        }\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (!this.clicked) {\n\t          this.knobData.r = this.thickness * 0.75;\n\t        }\n\t        this.knob.setAttribute(\"r\", this.knobData.r);\n\n\t        if (this.orientation === \"vertical\") {\n\t          this.knobData.level = this.knobData.r + this._value.normalized * (this.height - this.knobData.r * 2);\n\t          this.knob.setAttribute(\"cy\", this.height - this.knobData.level);\n\t        } else {\n\t          this.knobData.level = this._value.normalized * (this.width - this.knobData.r * 2) + this.knobData.r;\n\t          this.knob.setAttribute(\"cx\", this.knobData.level);\n\t        }\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.knobData.r = this.thickness * 0.9;\n\t        this.position.anchor = this.mouse;\n\t        this.move();\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        if (this.clicked) {\n\t          this.position.update(this.mouse);\n\n\t          this.value = this._value.updateNormal(this.position.value);\n\n\t          this.emit(\"change\", {\n\t            value: this.value,\n\t            L: Math.pow(math.scale(this.value, -1, 1, 1, 0), 2),\n\t            R: Math.pow(math.scale(this.value, -1, 1, 0, 1), 2)\n\t          });\n\t        }\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {\n\t        this.render();\n\t      }\n\t    },\n\t    value: {\n\n\t      /**\n\t      The position of crossfader, from -1 (left) to 1 (right). Setting this value updates the interface and triggers the output event.\n\t      @type {number}\n\t      */\n\n\t      get: function () {\n\t        return this._value.value;\n\t      },\n\t      set: function (value) {\n\t        this._value.update(value);\n\t        this.position.value = this._value.normalized;\n\t        this.emit(\"change\", {\n\t          value: this.value,\n\t          L: Math.pow(math.scale(this.value, -1, 1, 1, 0), 2),\n\t          R: Math.pow(math.scale(this.value, -1, 1, 0, 1), 2)\n\t        });\n\t        this.render();\n\t      }\n\t    },\n\t    normalized: {\n\t      get: function () {\n\t        return this._value.normalized;\n\t      }\n\t    }\n\t  });\n\n\t  return Pan;\n\t})(Interface);\n\n\tmodule.exports = Pan;\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar math = __webpack_require__(5);\n\tvar svg = __webpack_require__(4);\n\tvar Interface = __webpack_require__(6);\n\n\tvar Point = function Point(point, envelope) {\n\n\t  this.x = point.x;\n\t  this.y = point.y;\n\t  this.envelope = envelope;\n\n\t  this.element = svg.create(\"circle\");\n\t  this.element.setAttribute(\"fill\", this.envelope.colors.accent);\n\n\t  this.envelope.element.appendChild(this.element);\n\n\t  this.resize = function () {\n\t    var r = ~ ~(Math.min(this.envelope.width, this.envelope.height) / 50) + 2;\n\t    this.element.setAttribute(\"r\", r);\n\t  };\n\n\t  this.move = function (x, y) {\n\n\t    this.x = x || x === 0 ? x : this.x;\n\t    this.y = y || y === 0 ? y : this.y;\n\n\t    if (this.envelope.nodes.indexOf(this) >= 0) {\n\n\t      var prevIndex = this.envelope.nodes.indexOf(this) - 1;\n\t      var nextIndex = this.envelope.nodes.indexOf(this) + 1;\n\n\t      var prevNode = this.envelope.nodes[prevIndex];\n\t      var nextNode = this.envelope.nodes[nextIndex];\n\n\t      var lowX = prevIndex >= 0 ? prevNode.x : 0;\n\t      var highX = nextIndex < this.envelope.nodes.length ? nextNode.x : 1;\n\n\t      if (this.x < lowX) {\n\t        this.x = lowX;\n\t      }\n\t      if (this.x > highX) {\n\t        this.x = highX;\n\t      }\n\t    }\n\n\t    this.location = this.getCoordinates();\n\t    this.element.setAttribute(\"cx\", this.location.x);\n\t    this.element.setAttribute(\"cy\", this.location.y);\n\t  };\n\n\t  this.getCoordinates = function () {\n\t    return {\n\t      x: this.x * this.envelope.width,\n\t      y: (1 - this.y) * this.envelope.height\n\t    };\n\t  };\n\n\t  this.move(this.x, this.y);\n\t  this.resize();\n\n\t  this.destroy = function () {\n\t    this.envelope.element.removeChild(this.element);\n\t  };\n\t};\n\n\t/**\n\t* Envelope\n\t*\n\t* @description Interactive linear ramp visualization.\n\t*\n\t* @demo <span nexus-ui=\"envelope\"></span>\n\t*\n\t* @example\n\t* var envelope = new Nexus.Envelope('#target')\n\t*\n\t* @example\n\t* var envelope = new Nexus.Envelope('#target',{\n\t*   'size': [300,150],\n\t*   'points': [\n\t*     {\n\t*       x: 0.1,\n\t*       y: 0.4\n\t*     },\n\t*     {\n\t*       x: 0.35,\n\t*       y: 0.6\n\t*     },\n\t*     {\n\t*       x: 0.65,\n\t*       y: 0.2\n\t*     },\n\t*     {\n\t*       x: 0.9,\n\t*       y: 0.4\n\t*     },\n\t*   ]\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time a node is moved. <br>\n\t* The event data is an array of point locations. Each item in the array is an object containing <i>x</i> and <i>y</i> properties describing the location of a point on the envelope.\n\t*\n\t* @outputexample\n\t* envelope.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*/\n\n\tvar Envelope = (function (_Interface) {\n\t  function Envelope() {\n\t    _classCallCheck(this, Envelope);\n\n\t    var options = [\"value\"];\n\n\t    var defaults = {\n\t      size: [300, 150],\n\t      points: [{\n\t        x: 0.1,\n\t        y: 0.4\n\t      }, {\n\t        x: 0.35,\n\t        y: 0.6\n\t      }, {\n\t        x: 0.65,\n\t        y: 0.2\n\t      }, {\n\t        x: 0.9,\n\t        y: 0.4\n\t      }]\n\t    };\n\n\t    _get(Object.getPrototypeOf(Envelope.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this.points = this.settings.points;\n\n\t    this.nodes = [];\n\n\t    this.selected = false;\n\n\t    this.init();\n\t  }\n\n\t  _inherits(Envelope, _Interface);\n\n\t  _createClass(Envelope, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t        var _this = this;\n\n\t        this.points.forEach(function (point) {\n\t          var node = new Point(point, _this);\n\t          _this.nodes.push(node);\n\t        });\n\n\t        this.sortPoints();\n\n\t        this.line = svg.create(\"polyline\");\n\t        this.line.setAttribute(\"stroke-width\", 2);\n\t        this.line.setAttribute(\"fill\", \"none\");\n\n\t        this.element.appendChild(this.line);\n\n\t        this.fill = svg.create(\"polyline\");\n\t        this.fill.setAttribute(\"fill-opacity\", \"0.2\");\n\n\t        this.element.appendChild(this.fill);\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        for (var i = 0; i < this.nodes.length; i++) {\n\t          this.nodes[i].resize();\n\t          this.nodes[i].move();\n\t        }\n\n\t        this.render();\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        var _this = this;\n\n\t        this.element.style.backgroundColor = this.colors.fill;\n\t        this.line.setAttribute(\"stroke\", this.colors.accent);\n\t        this.fill.setAttribute(\"fill\", this.colors.accent);\n\t        this.nodes.forEach(function (node) {\n\t          node.element.setAttribute(\"fill\", _this.colors.accent);\n\t        });\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        //  this.nodes[this.selected].move( this.points )\n\t        this.calculatePath();\n\t      }\n\t    },\n\t    calculatePoints: {\n\t      value: function calculatePoints() {\n\t        var _this = this;\n\n\t        this.points = [];\n\t        this.nodes.forEach(function (node) {\n\t          _this.points.push({ x: node.x, y: node.y });\n\t        });\n\t      }\n\t    },\n\t    calculatePath: {\n\t      value: function calculatePath() {\n\n\t        //stroke data\n\t        var data = \"0 \" + this.nodes[0].location.y + \", \";\n\n\t        // data should be re-ordered based on x location.\n\t        // whatever function adds a node should add it at the right index\n\n\t        this.nodes.forEach(function (node) {\n\t          //  let location = node.getCoordinates();\n\t          data += node.location.x + \" \" + node.location.y + \", \";\n\t        });\n\n\t        //  data += point.x*this.width+' '+ point.y*this.height+', ';\n\t        data += this.width + \" \" + this.nodes[this.nodes.length - 1].location.y;\n\n\t        this.line.setAttribute(\"points\", data);\n\n\t        // fill data\n\t        // add bottom corners\n\n\t        data += \", \" + this.width + \" \" + this.height + \", \";\n\t        data += \"0 \" + this.height;\n\n\t        this.fill.setAttribute(\"points\", data);\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        // find nearest node and set this.selected (index)\n\t        this.hasMoved = false;\n\t        this.selected = this.findNearestNode();\n\n\t        this.nodes[this.selected].move(this.mouse.x / this.width, 1 - this.mouse.y / this.height);\n\t        this.scaleNode(this.selected);\n\n\t        // must do this b/c new node may have been created\n\t        this.calculatePoints();\n\t        this.emit(\"change\", this.points);\n\t        this.render();\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        if (this.clicked) {\n\t          this.mouse.x = math.clip(this.mouse.x, 0, this.width);\n\t          this.hasMoved = true;\n\n\t          this.nodes[this.selected].move(this.mouse.x / this.width, 1 - this.mouse.y / this.height);\n\t          this.scaleNode(this.selected);\n\n\t          this.calculatePoints();\n\t          this.emit(\"change\", this.points);\n\t          this.render();\n\t        }\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {\n\n\t        if (!this.hasMoved) {\n\t          this.nodes[this.selected].destroy();\n\t          this.nodes.splice(this.selected, 1);\n\t        }\n\n\t        this.calculatePoints();\n\t        this.emit(\"change\", this.points);\n\t        this.render();\n\n\t        // reset this.selected\n\t        this.selected = null;\n\t      }\n\t    },\n\t    findNearestNode: {\n\t      value: function findNearestNode() {\n\t        var nearestIndex = null;\n\t        // set this unreasonably high so that every distance will be lower than it.\n\t        var nearestDist = 10000;\n\t        var before = false;\n\t        var x = this.mouse.x / this.width;\n\t        var y = 1 - this.mouse.y / this.height;\n\t        var nodes = this.nodes;\n\t        for (var i = 0; i < nodes.length; i++) {\n\n\t          // calculate the distance from mouse to this node using pythagorean theorem\n\t          var distance = Math.sqrt(Math.pow(nodes[i].x - x, 2) + Math.pow(nodes[i].y - y, 2));\n\n\t          // if this distance is less than the previous shortest distance, use this index\n\t          if (distance < nearestDist) {\n\t            nearestDist = distance;\n\t            nearestIndex = i;\n\t            before = x > nodes[i].x;\n\t          }\n\t        }\n\n\t        // if not very close to any node, create a node\n\t        if (nearestDist > 0.07) {\n\n\t          nearestIndex = this.getIndexFromX(this.mouse.x / this.width);\n\n\t          this.nodes.splice(nearestIndex, 0, new Point({\n\t            x: this.mouse.x / this.width,\n\t            y: 1 - this.mouse.y / this.height\n\t          }, this));\n\t          this.hasMoved = true;\n\t        }\n\n\t        return nearestIndex;\n\t      }\n\t    },\n\t    getIndexFromX: {\n\t      value: function getIndexFromX(x) {\n\t        var _this = this;\n\n\t        var index = 0;\n\t        this.nodes.forEach(function (node, i) {\n\t          if (_this.nodes[i].x <= x) {\n\t            index = i + 1;\n\t          }\n\t        });\n\t        return index;\n\t      }\n\t    },\n\t    scaleNode: {\n\t      value: function scaleNode(i) {\n\n\t        var clippedX = math.clip(this.nodes[i].x, 0, 1);\n\t        var clippedY = math.clip(this.nodes[i].y, 0, 1);\n\n\t        this.nodes[i].move(clippedX, clippedY);\n\t      }\n\t    },\n\t    sortPoints: {\n\n\t      /**\n\t      Sort the this.points array from left-most point to right-most point. You should not regularly need to use this, however it may be useful if the points get unordered.\n\t      */\n\n\t      value: function sortPoints() {\n\t        this.nodes.sort(function (a, b) {\n\t          return a.x > b.x;\n\t        });\n\t      }\n\t    },\n\t    addPoint: {\n\n\t      /**\n\t      Add a breakpoint on the envelope.\n\t      @param x {number} x location of the point, normalized (0-1)\n\t      @param y {number} y location of the point, normalized (0-1)\n\t      */\n\n\t      value: function addPoint(x, y) {\n\t        var index = 0;\n\n\t        this.sortPoints();\n\n\t        for (var i = 0; i < this.nodes.length; i++) {\n\t          if (x < this.nodes[i].x) {\n\t            index = i;\n\t            break;\n\t          }\n\t        }\n\n\t        this.nodes.splice(index, 0, new Point({\n\t          x: x,\n\t          y: y\n\t        }, this));\n\n\t        this.scaleNode(index);\n\n\t        this.calculatePoints();\n\t        this.emit(\"change\", this.points);\n\n\t        this.render();\n\t      }\n\t    },\n\t    scan: {\n\n\t      /**\n\t      Find the level at a certain x location on the envelope.\n\t      @param x {number} The x location to find the level of, normalized 0-1\n\t      */\n\n\t      value: function scan(x) {\n\t        // find surrounding points\n\t        var nextIndex = this.getIndexFromX(x);\n\t        var priorIndex = nextIndex - 1;\n\t        if (priorIndex < 0) {\n\t          priorIndex = 0;\n\t        }\n\t        if (nextIndex >= this.nodes.length) {\n\t          nextIndex = this.nodes.length - 1;\n\t        }\n\t        var priorPoint = this.nodes[priorIndex];\n\t        var nextPoint = this.nodes[nextIndex];\n\t        var loc = math.scale(x, priorPoint.x, nextPoint.x, 0, 1);\n\t        var value = math.interp(loc, priorPoint.y, nextPoint.y);\n\t        this.emit(\"scan\", value);\n\t        return value;\n\t      }\n\t    },\n\t    movePoint: {\n\n\t      /**\n\t      Move a breakpoint on the envelope.\n\t      @param index {number} The index of the breakpoint to move\n\t      @param x {number} New x location, normalized 0-1\n\t      @param y {number} New y location, normalized 0-1\n\t      */\n\n\t      value: function movePoint(index, x, y) {\n\t        this.nodes[index].move(x, y);\n\t        this.scaleNode(index);\n\t        this.calculatePoints();\n\t        this.emit(\"change\", this.points);\n\t        this.render();\n\t      }\n\t    },\n\t    adjustPoint: {\n\n\t      /**\n\t      Move a breakpoint on the envelope by a certain amount.\n\t      @param index {number} The index of the breakpoint to move\n\t      @param xOffset {number} X displacement, normalized 0-1\n\t      @param yOffset {number} Y displacement, normalized 0-1\n\t      */\n\n\t      value: function adjustPoint(index, xOffset, yOffset) {\n\t        this.nodes[index].move(this.nodes[index].x + xOffset, this.nodes[index].y + yOffset);\n\t        this.scaleNode(index);\n\t        this.calculatePoints();\n\t        this.emit(\"change\", this.points);\n\t        this.render();\n\t      }\n\t    },\n\t    destroyPoint: {\n\n\t      /**\n\t      Remove a breakpoint from the envelope.\n\t      @param index {number} Index of the breakpoint to remove\n\t      */\n\n\t      value: function destroyPoint(index) {\n\t        this.nodes[index].destroy();\n\t        this.calculatePoints();\n\t        this.emit(\"change\", this.points);\n\t        this.render();\n\t      }\n\t    },\n\t    setPoints: {\n\n\t      /**\n\t      Remove all existing breakpoints and add an entirely new set of breakpoints.\n\t      @param allPoints {array} An array of objects with x/y properties (normalized 0-1). Each object in the array specifices the x/y location of a new breakpoint to be added.\n\t      */\n\n\t      value: function setPoints(allPoints) {\n\t        var _this = this;\n\n\t        this.nodes.forEach(function (point) {\n\t          point.destroy();\n\t        });\n\t        allPoints.forEach(function (point) {\n\t          _this.addPoint(point.x, point.y);\n\t        });\n\t        this.calculatePoints();\n\t        this.emit(\"change\", this.points);\n\t        this.render();\n\t      }\n\t    }\n\t  });\n\n\t  return Envelope;\n\t})(Interface);\n\n\tmodule.exports = Envelope;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar dom = __webpack_require__(7);\n\t//let math = require('../util/math');\n\tvar Interface = __webpack_require__(6);\n\n\t/**\n\t* Spectrogram\n\t*\n\t* @description Audio spectrum visualization\n\t*\n\t* @demo <span nexus-ui=\"spectrogram\"></span>\n\t*\n\t* @example\n\t* var spectrogram = new Nexus.Spectrogram('#target')\n\t*\n\t* @example\n\t* var spectrogram = new Nexus.Spectrogram('#target',{\n\t*   'size': [300,150]\n\t* })\n\t*\n\t* @output\n\t* &nbsp;\n\t* No events\n\t*\n\t*/\n\n\tvar Spectrogram = (function (_Interface) {\n\t  function Spectrogram() {\n\t    _classCallCheck(this, Spectrogram);\n\n\t    var options = [\"scale\", \"value\"];\n\n\t    var defaults = {\n\t      size: [300, 150]\n\t    };\n\n\t    _get(Object.getPrototypeOf(Spectrogram.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this.context = Nexus.context; // jshint ignore:line\n\n\t    this.analyser = this.context.createAnalyser();\n\t    this.analyser.fftSize = 2048;\n\t    this.bufferLength = this.analyser.frequencyBinCount;\n\t    this.dataArray = new Uint8Array(this.bufferLength);\n\n\t    this.active = true;\n\n\t    this.source = false;\n\n\t    this.init();\n\t  }\n\n\t  _inherits(Spectrogram, _Interface);\n\n\t  _createClass(Spectrogram, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.canvas = new dom.SmartCanvas(this.parent);\n\t        this.element = this.canvas.element;\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t        this.canvas.resize(this.width, this.height);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.canvas.element.style.backgroundColor = this.colors.fill;\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\n\t        if (this.active) {\n\t          requestAnimationFrame(this.render.bind(this));\n\t        }\n\n\t        this.analyser.getByteFrequencyData(this.dataArray);\n\n\t        this.canvas.context.fillStyle = this.colors.fill;\n\t        this.canvas.context.fillRect(0, 0, this.canvas.element.width, this.canvas.element.height);\n\n\t        if (this.source && this.dataArray) {\n\n\t          //console.log(this.dataArray);\n\n\t          var barWidth = this.canvas.element.width / this.bufferLength;\n\t          var barHeight = undefined;\n\t          var x = 0;\n\n\t          var definition = this.canvas.element.width / 50;\n\n\t          for (var i = 0; i < this.bufferLength; i = i + definition) {\n\t            barHeight = Math.max.apply(null, this.dataArray.subarray(i, i + definition));\n\t            barHeight /= 255;\n\t            barHeight *= this.canvas.element.height;\n\n\t            this.canvas.context.fillStyle = this.colors.accent;\n\t            this.canvas.context.fillRect(x, this.canvas.element.height - barHeight, barWidth * definition, barHeight);\n\n\t            x += barWidth * definition;\n\t          }\n\t        }\n\t      }\n\t    },\n\t    connect: {\n\n\t      /**\n\t      Equivalent to \"patching in\" an audio node to visualize.\n\t      @param node {AudioNode} The audio node to visualize\n\t      */\n\n\t      value: function connect(node) {\n\t        if (this.source) {\n\t          this.disconnect();\n\t        }\n\t        this.source = node;\n\t        this.source.connect(this.analyser);\n\t        this.render();\n\t      }\n\t    },\n\t    disconnect: {\n\n\t      /**\n\t      Stop visualizing the source node and disconnect it.\n\t      */\n\n\t      value: function disconnect() {\n\t        this.source.disconnect(this.analyser);\n\t        this.source = null;\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.active = !this.active;\n\t        this.render();\n\t      }\n\t    },\n\t    customDestroy: {\n\t      value: function customDestroy() {\n\t        this.active = false;\n\t      }\n\t    }\n\t  });\n\n\t  return Spectrogram;\n\t})(Interface);\n\n\tmodule.exports = Spectrogram;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar dom = __webpack_require__(7);\n\tvar math = __webpack_require__(5);\n\tvar Interface = __webpack_require__(6);\n\n\t/**\n\t* Meter\n\t*\n\t* @description Stereo decibel meter\n\t*\n\t* @demo <span nexus-ui=\"meter\"></span>\n\t*\n\t* @example\n\t* var meter = new Nexus.Meter('#target')\n\t*\n\t* @example\n\t* var meter = new Nexus.Meter('#target',{\n\t*   size: [75,75]\n\t* })\n\t*\n\t* @output\n\t* &nbsp;\n\t* No events\n\t*\n\t*/\n\n\tvar Meter = (function (_Interface) {\n\t  function Meter() {\n\t    _classCallCheck(this, Meter);\n\n\t    var options = [\"scale\", \"value\"];\n\n\t    var defaults = {\n\t      size: [30, 100]\n\t    };\n\n\t    _get(Object.getPrototypeOf(Meter.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this.context = Nexus.context; // jshint ignore:line\n\n\t    this.channels = 2;\n\n\t    this.splitter = this.context.createChannelSplitter(this.channels);\n\n\t    this.analysers = [];\n\n\t    for (var i = 0; i < this.channels; i++) {\n\t      var analyser = this.context.createAnalyser();\n\t      this.splitter.connect(analyser, i);\n\t      analyser.fftSize = 1024;\n\t      analyser.smoothingTimeConstant = 1;\n\t      this.analysers.push(analyser);\n\t    }\n\t    this.bufferLength = this.analysers[0].frequencyBinCount;\n\t    this.dataArray = new Float32Array(this.bufferLength);\n\n\t    /*\n\t        // add linear gradient\n\t        var grd = canvasCtx.createLinearGradient(0, 0, 0, canvas.height);\n\t        // light blue\n\t        grd.addColorStop(0, '#000');\n\t        grd.addColorStop(0.2, '#bbb');\n\t        grd.addColorStop(0.4, '#d18');\n\t        // dark blue\n\t        grd.addColorStop(1, '#d18');\n\t        canvasCtx.fillStyle = grd; */\n\n\t    this.active = true;\n\n\t    this.db = -Infinity;\n\n\t    this.init();\n\n\t    this.meterWidth = this.canvas.element.width / this.channels;\n\n\t    this.render();\n\t  }\n\n\t  _inherits(Meter, _Interface);\n\n\t  _createClass(Meter, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.canvas = new dom.SmartCanvas(this.parent);\n\t        this.element = this.canvas.element;\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t        this.canvas.resize(this.width, this.height);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.canvas.element.style.backgroundColor = this.colors.fill;\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\n\t        if (this.active) {\n\t          requestAnimationFrame(this.render.bind(this));\n\t        }\n\n\t        this.canvas.context.fillStyle = this.colors.fill;\n\t        this.canvas.context.fillRect(0, 0, this.canvas.element.width, this.canvas.element.height);\n\n\t        for (var i = 0; i < this.analysers.length; i++) {\n\n\t          if (this.source) {\n\n\t            this.analysers[i].getFloatTimeDomainData(this.dataArray);\n\n\t            var rms = 0;\n\n\t            for (var _i = 0; _i < this.dataArray.length; _i++) {\n\t              rms += this.dataArray[_i] * this.dataArray[_i];\n\t            }\n\n\t            rms = Math.sqrt(rms / this.dataArray.length);\n\n\t            this.db = 20 * Math.log10(rms);\n\t          } else if (this.db > -200 && this.db !== -Infinity) {\n\t            this.db -= 1;\n\t          } else {\n\t            this.db = -Infinity;\n\t          }\n\n\t          //console.log(db)\n\n\t          if (this.db > -70) {\n\n\t            var linear = math.normalize(this.db, -70, 5);\n\t            var exp = linear * linear;\n\t            var y = math.scale(exp, 0, 1, this.element.height, 0);\n\n\t            this.canvas.context.fillStyle = this.colors.accent;\n\t            this.canvas.context.fillRect(this.meterWidth * i, y, this.meterWidth, this.canvas.element.height - y);\n\n\t            //console.log(\"rendering...\")\n\t          }\n\t        }\n\t      }\n\t    },\n\t    connect: {\n\n\t      /**\n\t      Equivalent to \"patching in\" an audio node to visualize.\n\t      @param node {AudioNode} The audio node to visualize\n\t      @param channels {number} (optional) The number of channels in the source node to watch. If not specified, the interface will look for a .channelCount property on the input node. If it does not exist, the interface will default to 1 channel.\n\t      */\n\n\t      value: function connect(node, channels) {\n\t        if (this.source) {\n\t          this.disconnect();\n\t        }\n\t        //this.dummy.disconnect(this.splitter);\n\n\t        if (channels) {\n\t          this.channels = channels;\n\t        } else if (node.channelCount) {\n\t          this.channels = node.channelCount;\n\t        } else {\n\t          this.channels = 2;\n\t        }\n\t        this.meterWidth = this.canvas.element.width / this.channels;\n\n\t        this.source = node;\n\t        this.source.connect(this.splitter);\n\n\t        //  this.render();\n\t      }\n\t    },\n\t    disconnect: {\n\n\t      /**\n\t      Stop visualizing the source node and disconnect it.\n\t      */\n\n\t      value: function disconnect() {\n\n\t        this.source.disconnect(this.splitter);\n\t        this.source = false;\n\t        //  this.dummy.connect(this.splitter);\n\t        this.meterWidth = this.canvas.element.width / this.channels;\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.active = !this.active;\n\t        this.render();\n\t      }\n\t    },\n\t    customDestroy: {\n\t      value: function customDestroy() {\n\t        this.active = false;\n\t      }\n\t    }\n\t  });\n\n\t  return Meter;\n\t})(Interface);\n\n\tmodule.exports = Meter;\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar dom = __webpack_require__(7);\n\tvar Interface = __webpack_require__(6);\n\n\t/**\n\t* Oscilloscope\n\t*\n\t* @description Visualizes a waveform's stream of values.\n\t*\n\t* @demo <span nexus-ui=\"oscilloscope\"></span>\n\t*\n\t* @example\n\t* var oscilloscope = new Nexus.Oscilloscope('#target')\n\t*\n\t* @example\n\t* var oscilloscope = new Nexus.Oscilloscope('#target',{\n\t*   'size': [300,150]\n\t* })\n\t*\n\t* @output\n\t* &nbsp;\n\t* No events\n\t*\n\t*/\n\n\tvar Oscilloscope = (function (_Interface) {\n\t  function Oscilloscope() {\n\t    _classCallCheck(this, Oscilloscope);\n\n\t    var options = [\"scale\", \"value\"];\n\n\t    var defaults = {\n\t      size: [300, 150]\n\t    };\n\n\t    _get(Object.getPrototypeOf(Oscilloscope.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this.context = Nexus.context; // jshint ignore:line\n\n\t    this.analyser = this.context.createAnalyser();\n\t    this.analyser.fftSize = 2048;\n\t    this.bufferLength = this.analyser.frequencyBinCount;\n\t    this.dataArray = new Uint8Array(this.bufferLength);\n\t    this.analyser.getByteTimeDomainData(this.dataArray);\n\n\t    this.active = true;\n\n\t    this.source = false;\n\n\t    this.init();\n\n\t    this.render();\n\t  }\n\n\t  _inherits(Oscilloscope, _Interface);\n\n\t  _createClass(Oscilloscope, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.canvas = new dom.SmartCanvas(this.parent);\n\t        this.element = this.canvas.element;\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t        this.canvas.resize(this.width, this.height);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.canvas.element.style.backgroundColor = this.colors.fill;\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\n\t        if (this.active) {\n\t          requestAnimationFrame(this.render.bind(this));\n\t        }\n\n\t        this.analyser.getByteTimeDomainData(this.dataArray);\n\n\t        this.canvas.context.fillStyle = this.colors.fill;\n\t        this.canvas.context.fillRect(0, 0, this.canvas.element.width, this.canvas.element.height);\n\n\t        this.canvas.context.lineWidth = ~ ~(this.height / 100 + 2);\n\t        this.canvas.context.strokeStyle = this.colors.accent;\n\n\t        this.canvas.context.beginPath();\n\n\t        if (this.source) {\n\n\t          var sliceWidth = this.canvas.element.width * 1 / this.bufferLength;\n\t          var x = 0;\n\n\t          for (var i = 0; i < this.bufferLength; i++) {\n\n\t            var v = this.dataArray[i] / 128;\n\t            var y = v * this.canvas.element.height / 2;\n\n\t            if (i === 0) {\n\t              this.canvas.context.moveTo(x, y);\n\t            } else {\n\t              this.canvas.context.lineTo(x, y);\n\t            }\n\n\t            x += sliceWidth;\n\t          }\n\t        } else {\n\t          this.canvas.context.moveTo(0, this.canvas.element.height / 2);\n\t          this.canvas.context.lineTo(this.canvas.element.width, this.canvas.element.height / 2);\n\t        }\n\n\t        this.canvas.context.stroke();\n\t      }\n\t    },\n\t    connect: {\n\n\t      /**\n\t      Equivalent to \"patching in\" an audio node to visualize.\n\t      @param node {AudioNode} The audio node to visualize\n\t      */\n\n\t      value: function connect(node) {\n\n\t        if (this.source) {\n\t          this.disconnect();\n\t        }\n\n\t        this.source = node;\n\t        this.source.connect(this.analyser);\n\n\t        this.render();\n\t      }\n\t    },\n\t    disconnect: {\n\n\t      /**\n\t      Stop visualizing the source node and disconnect it.\n\t      */\n\n\t      value: function disconnect() {\n\t        if (this.source) {\n\t          this.source.disconnect(this.analyser);\n\t          this.source = null;\n\t        }\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.active = !this.active;\n\t        this.render();\n\t      }\n\t    },\n\t    customDestroy: {\n\t      value: function customDestroy() {\n\t        this.active = false;\n\t      }\n\t    }\n\t  });\n\n\t  return Oscilloscope;\n\t})(Interface);\n\n\tmodule.exports = Oscilloscope;\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\t/*\n\tMain concept:\n\tsynth = new Nexus.Rack('elementID');\n\n\tTransform all elements inside the div\n\tsynth.elementID will hold the first slider interface\n\n\t2) In future, potentially writing a rack that is re-usable?\n\tCould also take JSON\n\n\tnew Nexus.Rack('#target',{\n\t  pre: () => {\n\t    create some divs here, or some audio code\n\t  },\n\t  interface: {\n\t    slider1: Nexus.add.slider({\n\t      top:10,\n\t      left:10,\n\t      width:50,\n\t      height:100,\n\t      min: 0,\n\t      max: 100,\n\t      step: 1\n\t    }),\n\t    wave1: Nexus.add.waveform({\n\t      file: './path/to/file.mp3',\n\t      width:500,\n\t      height:100,\n\t      mode: 'range'\n\t    })\n\t  },\n\t  init: () => {\n\t    // some audio init code goes here...\n\t  }\n\t});\n\n\t*/\n\n\tvar transform = _interopRequireWildcard(__webpack_require__(39));\n\n\tvar dom = _interopRequire(__webpack_require__(7));\n\n\tvar Rack = (function () {\n\t  function Rack(target, settings) {\n\t    _classCallCheck(this, Rack);\n\n\t    this.meta = {};\n\t    this.meta.target = target;\n\t    this.meta.parent = dom.parseElement(target); // should be a generic function for parsing a 'target' argument that checks for string/DOM/jQUERY\n\t    this.meta.colors = {};\n\n\t    if (settings) {\n\t      this.meta.attribute = settings.attribute || \"nexus-ui\";\n\t      this.meta.title = settings.name || false;\n\t      this.meta.open = settings.open || false;\n\t    } else {\n\t      this.meta.attribute = \"nexus-ui\";\n\t      this.meta.title = false;\n\t      this.meta.open = false;\n\t    }\n\n\t    var defaultColors = Nexus.colors; // jshint ignore:line\n\t    this.meta.colors.accent = defaultColors.accent;\n\t    this.meta.colors.fill = defaultColors.fill;\n\t    this.meta.colors.light = defaultColors.light;\n\t    this.meta.colors.dark = defaultColors.dark;\n\t    this.meta.colors.mediumLight = defaultColors.mediumLight;\n\t    this.meta.colors.mediumDark = defaultColors.mediumDark;\n\t    this.buildInterface();\n\t    this.colorInterface();\n\t  }\n\n\t  _createClass(Rack, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t        var _this = this;\n\n\t        this.meta.parent.style.boxSizing = \"border-box\";\n\t        this.meta.parent.style.userSelect = \"none\";\n\t        this.meta.parent.style.mozUserSelect = \"none\";\n\t        this.meta.parent.style.webkitUserSelect = \"none\";\n\n\t        this.meta.contents = document.createElement(\"div\");\n\n\t        while (this.meta.parent.childNodes.length > 0) {\n\t          this.meta.contents.appendChild(this.meta.parent.childNodes[0]);\n\t        }\n\n\t        this.meta.contents.style.padding = \"0px\";\n\t        this.meta.contents.style.boxSizing = \"border-box\";\n\n\t        if (this.meta.title) {\n\t          this.meta.titleBar = document.createElement(\"div\");\n\t          this.meta.titleBar.innerHTML = this.meta.title;\n\t          this.meta.titleBar.style.fontFamily = \"arial\";\n\t          this.meta.titleBar.style.position = \"relative\";\n\t          this.meta.titleBar.style.color = \"#888\";\n\t          this.meta.titleBar.style.padding = \"7px\";\n\t          this.meta.titleBar.style.fontSize = \"12px\";\n\n\t          this.meta.button = document.createElement(\"div\");\n\t          this.meta.button.style.position = \"absolute\";\n\t          this.meta.button.style.top = \"5px\";\n\t          this.meta.button.style.right = \"5px\";\n\t          this.meta.button.innerHTML = \"-\";\n\t          this.meta.button.style.padding = \"0px 5px 2px\";\n\t          this.meta.button.style.lineHeight = \"12px\";\n\t          this.meta.button.style.fontSize = \"15px\";\n\n\t          this.meta.button.style.cursor = \"pointer\";\n\n\t          this.meta.button.addEventListener(\"mouseover\", function () {\n\t            _this.meta.button.style.backgroundColor = _this.meta.colors.mediumDark;\n\t          });\n\t          this.meta.button.addEventListener(\"mouseleave\", function () {\n\t            _this.meta.button.style.backgroundColor = _this.meta.colors.mediumLight;\n\t          });\n\t          this.meta.button.addEventListener(\"click\", function () {\n\t            if (_this.meta.open) {\n\t              _this.hide();\n\t            } else {\n\t              _this.show();\n\t            }\n\t          });\n\n\t          this.meta.titleBar.appendChild(this.meta.button);\n\n\t          this.meta.parent.appendChild(this.meta.titleBar);\n\t        }\n\t        this.meta.parent.appendChild(this.meta.contents);\n\n\t        //  var width = this.meta.parent.style.width = getComputedStyle(this.meta.parent).getPropertyValue('width');\n\t        //    this.meta.parent.style.width = width;\n\n\t        var ui = transform.section(this.meta.target, this.meta.attribute);\n\t        for (var key in ui) {\n\t          this[key] = ui[key];\n\t        }\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        if (this.meta.title) {\n\t          this.meta.button.style.backgroundColor = this.meta.colors.mediumLight;\n\t          this.meta.button.style.border = \"solid 0px \" + this.meta.colors.fill;\n\t          this.meta.parent.style.border = \"solid 1px \" + this.meta.colors.mediumLight;\n\t          this.meta.parent.style.backgroundColor = this.meta.colors.light;\n\t          this.meta.titleBar.style.backgroundColor = this.meta.colors.fill;\n\t        }\n\t      }\n\t    },\n\t    show: {\n\t      value: function show() {\n\t        this.meta.contents.style.display = \"block\";\n\t        this.meta.open = true;\n\t      }\n\t    },\n\t    hide: {\n\t      value: function hide() {\n\t        this.meta.contents.style.display = \"none\";\n\t        this.meta.open = false;\n\t      }\n\t    },\n\t    colorize: {\n\t      value: function colorize(type, color) {\n\t        for (var key in this) {\n\t          if (this[key].colorize) {\n\t            this[key].colorize(type, color);\n\t          }\n\t        }\n\t        this.meta.colors[type] = color;\n\t        this.colorInterface();\n\t      }\n\t    },\n\t    empty: {\n\t      value: function empty() {\n\t        for (var key in this) {\n\t          if (this[key].destroy) {\n\t            this[key].destroy();\n\t          }\n\t        }\n\t      }\n\t    }\n\t  });\n\n\t  return Rack;\n\t})();\n\n\tmodule.exports = Rack;\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\"use strict\";\n\n\tvar dom = _interopRequire(__webpack_require__(7));\n\n\tvar Interfaces = _interopRequire(__webpack_require__(2));\n\n\tvar createInterfaceID = function (widget, interfaceIDs) {\n\t  var type = widget.type;\n\t  if (interfaceIDs[type]) {\n\t    interfaceIDs[type]++;\n\t  } else {\n\t    interfaceIDs[type] = 1;\n\t  }\n\t  return type + interfaceIDs[type];\n\t};\n\n\tvar element = function (element, type, options) {\n\t  options = options || {};\n\t  for (var i = 0; i < element.attributes.length; i++) {\n\t    var att = element.attributes[i];\n\t    //  try {\n\t    //    options[att.nodeName] = eval(att.nodeValue);\n\t    //  } catch(e) {\n\t    options[att.nodeName] = att.nodeValue;\n\t    //  }\n\t  }\n\t  type = type[0].toUpperCase() + type.slice(1);\n\t  var widget = new Interfaces[type](element, options);\n\t  widget.id = element.id;\n\t  return widget;\n\t};\n\n\tvar section = function (parent, keyword) {\n\n\t  keyword = keyword || \"nexus-ui\";\n\n\t  var interfaceIDs = {};\n\n\t  var container = dom.parseElement(parent);\n\n\t  var ui = {};\n\n\t  var htmlElements = container.getElementsByTagName(\"*\");\n\t  var elements = [];\n\t  for (var i = 0; i < htmlElements.length; i++) {\n\t    elements.push(htmlElements[i]);\n\t  }\n\t  for (var i = 0; i < elements.length; i++) {\n\t    var type = elements[i].getAttribute(keyword);\n\t    if (type) {\n\t      var formattedType = false;\n\t      for (var key in Interfaces) {\n\t        if (type.toLowerCase() === key.toLowerCase()) {\n\t          formattedType = key;\n\t        }\n\t      }\n\t      console.log(formattedType);\n\t      var widget = element(elements[i], formattedType);\n\t      if (widget.id) {\n\t        ui[widget.id] = widget;\n\t      } else {\n\t        var id = createInterfaceID(widget, interfaceIDs);\n\t        ui[id] = widget;\n\t      }\n\t    }\n\t  }\n\n\t  return ui;\n\t};\n\n\tvar add = function (type, options) {\n\t  var target = document.createElement(\"div\");\n\t  var parent = document.body;\n\t  if (options) {\n\t    parent = options.parent;\n\t  } else {\n\t    options = {};\n\t  }\n\t  parent = dom.parseElement(parent);\n\t  parent.appendChild(target);\n\t  options.target = target;\n\t  if (options.size) {\n\t    target.style.width = options.size[0] + \"px\";\n\t    target.style.height = options.size[1] + \"px\";\n\t  }\n\t  return element(target, type, options);\n\t};\n\n\texports.element = element;\n\texports.section = section;\n\texports.add = add;\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar math = _interopRequire(__webpack_require__(5));\n\n\tvar Tune = (function () {\n\t  function Tune() {\n\t    _classCallCheck(this, Tune);\n\n\t    // the scale as ratios\n\t    this.scale = [];\n\n\t    // i/o modes\n\t    this.mode = {\n\t      output: \"frequency\",\n\t      input: \"step\"\n\t    };\n\n\t    // ET major\n\t    this.etmajor = [261.62558, 293.664764, 329.627563, 349.228241, 391.995422, 440, 493.883301, 523.25116];\n\n\t    // Root frequency.\n\t    this.root = math.mtof(60); // * Math.pow(2,(60-69)/12);\n\n\t    // default is a major scale\n\t    this.createScale(0, 2, 4, 5, 7, 9, 11);\n\t  }\n\n\t  _createClass(Tune, {\n\t    note: {\n\n\t      /* Return data in the mode you are in (freq, ratio, or midi) */\n\n\t      value: function note(input, octave) {\n\n\t        var newvalue = undefined;\n\n\t        if (this.mode.output === \"frequency\") {\n\t          newvalue = this.frequency(input, octave);\n\t        } else if (this.mode.output === \"ratio\") {\n\t          newvalue = this.ratio(input, octave);\n\t        } else if (this.mode.output === \"MIDI\") {\n\t          newvalue = this.MIDI(input, octave);\n\t        } else {\n\t          newvalue = this.frequency(input, octave);\n\t        }\n\n\t        return newvalue;\n\t      }\n\t    },\n\t    frequency: {\n\n\t      /* Return freq data */\n\n\t      value: function frequency(stepIn, octaveIn) {\n\n\t        if (this.mode.input === \"midi\" || this.mode.input === \"MIDI\") {\n\t          this.stepIn += 60;\n\t        }\n\n\t        // what octave is our input\n\t        var octave = Math.floor(stepIn / this.scale.length);\n\n\t        if (octaveIn) {\n\t          octave += octaveIn;\n\t        }\n\n\t        // which scale degree (0 - scale length) is our input\n\t        var scaleDegree = stepIn % this.scale.length;\n\n\t        while (scaleDegree < 0) {\n\t          scaleDegree += this.scale.length;\n\t        }\n\n\t        var ratio = this.scale[scaleDegree];\n\n\t        var freq = this.root * ratio;\n\n\t        freq = freq * Math.pow(2, octave);\n\n\t        // truncate irrational numbers\n\t        freq = Math.floor(freq * 100000000000) / 100000000000;\n\n\t        return freq;\n\t      }\n\t    },\n\t    ratio: {\n\n\t      /* Force return ratio data */\n\n\t      value: function ratio(stepIn, octaveIn) {\n\n\t        if (this.mode.input === \"midi\" || this.mode.input === \"MIDI\") {\n\t          this.stepIn += 60;\n\t        }\n\n\t        // what octave is our input\n\t        var octave = Math.floor(stepIn / this.scale.length);\n\n\t        if (octaveIn) {\n\t          octave += octaveIn;\n\t        }\n\n\t        // which scale degree (0 - scale length) is our input\n\t        var scaleDegree = stepIn % this.scale.length;\n\n\t        // what ratio is our input to our key\n\t        var ratio = Math.pow(2, octave) * this.scale[scaleDegree];\n\n\t        ratio = Math.floor(ratio * 100000000000) / 100000000000;\n\n\t        return ratio;\n\t      }\n\t    },\n\t    MIDI: {\n\n\t      /* Force return adjusted MIDI data */\n\n\t      value: function MIDI(stepIn, octaveIn) {\n\n\t        var newvalue = this.frequency(stepIn, octaveIn);\n\n\t        var n = 69 + 12 * Math.log(newvalue / 440) / Math.log(2);\n\n\t        n = Math.floor(n * 1000000000) / 1000000000;\n\n\t        return n;\n\t      }\n\t    },\n\t    createScale: {\n\t      value: function createScale() {\n\t        var newScale = [];\n\t        for (var i = 0; i < arguments.length; i++) {\n\t          newScale.push(math.mtof(60 + arguments[i]));\n\t        }\n\t        this.loadScaleFromFrequencies(newScale);\n\t      }\n\t    },\n\t    createJIScale: {\n\t      value: function createJIScale() {\n\t        this.scale = [];\n\t        for (var i = 0; i < arguments.length; i++) {\n\t          this.scale.push(arguments[i]);\n\t        }\n\t      }\n\t    },\n\t    loadScaleFromFrequencies: {\n\t      value: function loadScaleFromFrequencies(freqs) {\n\t        this.scale = [];\n\t        for (var i = 0; i < freqs.length - 1; i++) {\n\t          this.scale.push(freqs[i] / freqs[0]);\n\t        }\n\t      }\n\t    },\n\t    loadScale: {\n\n\t      /* Load a new scale */\n\n\t      value: function loadScale(name) {\n\n\t        /* load the scale */\n\t        var freqs = this.scales[name].frequencies;\n\t        this.loadScaleFromFrequencies(freqs);\n\t      }\n\t    },\n\t    search: {\n\n\t      /* Search the names of tunings\n\t      \t Returns an array of names of tunings */\n\n\t      value: function search(letters) {\n\t        var possible = [];\n\t        for (var key in this.scales) {\n\t          if (key.toLowerCase().indexOf(letters.toLowerCase()) !== -1) {\n\t            possible.push(key);\n\t          }\n\t        }\n\t        return possible;\n\t      }\n\t    },\n\t    chord: {\n\n\t      /* Return a collection of notes as an array */\n\n\t      value: function chord(midis) {\n\t        var output = [];\n\t        for (var i = 0; i < midis.length; i++) {\n\t          output.push(this.note(midis[i]));\n\t        }\n\t        return output;\n\t      }\n\t    }\n\t  });\n\n\t  return Tune;\n\t})();\n\n\tmodule.exports = Tune;\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\t//Disable jshint warning concerning trailing regular params\n\t/*jshint -W138 */\n\n\tvar Radio = (function () {\n\t    //if non-existent buttons are switched, they are ignored\n\n\t    function Radio() {\n\t        for (var _len = arguments.length, onVals = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t            onVals[_key - 1] = arguments[_key];\n\t        }\n\n\t        var length = arguments[0] === undefined ? 3 : arguments[0];\n\n\t        _classCallCheck(this, Radio);\n\n\t        //each optional 'onVals' argument switches on that value in the Radio if it exists\n\t        //In the example below, a 3-button radio is created, index 0 is switched on, index 1 is switched on then then attempted again producing an warning, and the final argument produces a warning because the index value does not exist.\n\t        //Example:\n\t        //`  radio = new Radio(3, 0, 1, 1, 3);\n\t        //  [1,1,0]\n\n\t        if (length < 0) {\n\t            length = 1;\n\t        }\n\n\t        this.length = length;\n\t        this.onVals = onVals;\n\t        this.array = new Array(length).fill(0);\n\n\t        if (onVals.length > 0) {\n\t            this.on.apply(this, onVals);\n\t        }\n\t    }\n\n\t    _createClass(Radio, {\n\t        select: {\n\t            value: function select(value) {\n\t                this.array.fill(0);\n\t                this.array[value] = 1;\n\t                return this.array;\n\t            }\n\t        },\n\t        flip: {\n\t            value: function flip() {\n\t                for (var _len = arguments.length, values = Array(_len), _key = 0; _key < _len; _key++) {\n\t                    values[_key] = arguments[_key];\n\t                }\n\n\t                //flips the specified values. if no value is specified, flips all buttons\n\t                var a = this.array;\n\t                if (values.length > 0) {\n\t                    values.forEach(function (v) {\n\t                        if (v > a.length - 1) {\n\t                            console.warn(\"Warning: AnonRadio[\" + v + \"] does not exist\");\n\t                        } else {\n\t                            a[v] = a[v] ? 0 : 1;\n\t                        }\n\t                    });\n\t                } else {\n\t                    a.forEach(function (v, i, arr) {\n\t                        arr[i] = v ? 0 : 1;\n\t                    });\n\t                }\n\t                return a;\n\t            }\n\t        },\n\t        on: {\n\t            value: function on() {\n\t                for (var _len = arguments.length, values = Array(_len), _key = 0; _key < _len; _key++) {\n\t                    values[_key] = arguments[_key];\n\t                }\n\n\t                //switch on the specified values. if no value specified, flips on all buttons\n\t                var a = this.array;\n\t                if (values.length > 0) {\n\t                    values.forEach(function (v) {\n\t                        if (v > a.length - 1) {\n\t                            console.warn(\"Warning: AnonRadio[\" + v + \"] exceeds size of object\");\n\t                        } else {\n\t                            if (a[v] === 1) {\n\t                                console.warn(\"Warning: AnonRadio[\" + v + \"] was already on.\");\n\t                            }\n\t                            a[v] = 1;\n\t                        }\n\t                    });\n\t                } else {\n\t                    a.fill(1);\n\t                }\n\t                return a;\n\t            }\n\t        },\n\t        off: {\n\t            value: function off() {\n\t                for (var _len = arguments.length, values = Array(_len), _key = 0; _key < _len; _key++) {\n\t                    values[_key] = arguments[_key];\n\t                }\n\n\t                //switch off the specified values. if no value specified, flips off all buttons\n\t                var a = this.array;\n\t                if (values.length > 0) {\n\t                    values.forEach(function (v) {\n\t                        a[v] = 0;\n\t                    });\n\t                } else {\n\t                    a.fill(0);\n\t                }\n\t                return a;\n\t            }\n\t        }\n\t    });\n\n\t    return Radio;\n\t})();\n\n\tmodule.exports = Radio;\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar WAAClock = __webpack_require__(43)\n\n\tmodule.exports = WAAClock\n\tif (typeof window !== 'undefined') window.WAAClock = WAAClock\n\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {var isBrowser = (typeof window !== 'undefined')\n\n\tvar CLOCK_DEFAULTS = {\n\t  toleranceLate: 0.10,\n\t  toleranceEarly: 0.001\n\t}\n\n\t// ==================== Event ==================== //\n\tvar Event = function(clock, deadline, func) {\n\t  this.clock = clock\n\t  this.func = func\n\t  this._cleared = false // Flag used to clear an event inside callback\n\n\t  this.toleranceLate = clock.toleranceLate\n\t  this.toleranceEarly = clock.toleranceEarly\n\t  this._latestTime = null\n\t  this._earliestTime = null\n\t  this.deadline = null\n\t  this.repeatTime = null\n\n\t  this.schedule(deadline)\n\t}\n\n\t// Unschedules the event\n\tEvent.prototype.clear = function() {\n\t  this.clock._removeEvent(this)\n\t  this._cleared = true\n\t  return this\n\t}\n\n\t// Sets the event to repeat every `time` seconds.\n\tEvent.prototype.repeat = function(time) {\n\t  if (time === 0)\n\t    throw new Error('delay cannot be 0')\n\t  this.repeatTime = time\n\t  if (!this.clock._hasEvent(this))\n\t    this.schedule(this.deadline + this.repeatTime)\n\t  return this\n\t}\n\n\t// Sets the time tolerance of the event.\n\t// The event will be executed in the interval `[deadline - early, deadline + late]`\n\t// If the clock fails to execute the event in time, the event will be dropped.\n\tEvent.prototype.tolerance = function(values) {\n\t  if (typeof values.late === 'number')\n\t    this.toleranceLate = values.late\n\t  if (typeof values.early === 'number')\n\t    this.toleranceEarly = values.early\n\t  this._refreshEarlyLateDates()\n\t  if (this.clock._hasEvent(this)) {\n\t    this.clock._removeEvent(this)\n\t    this.clock._insertEvent(this)\n\t  }\n\t  return this\n\t}\n\n\t// Returns true if the event is repeated, false otherwise\n\tEvent.prototype.isRepeated = function() { return this.repeatTime !== null }\n\n\t// Schedules the event to be ran before `deadline`.\n\t// If the time is within the event tolerance, we handle the event immediately.\n\t// If the event was already scheduled at a different time, it is rescheduled.\n\tEvent.prototype.schedule = function(deadline) {\n\t  this._cleared = false\n\t  this.deadline = deadline\n\t  this._refreshEarlyLateDates()\n\n\t  if (this.clock.context.currentTime >= this._earliestTime) {\n\t    this._execute()\n\n\t  } else if (this.clock._hasEvent(this)) {\n\t    this.clock._removeEvent(this)\n\t    this.clock._insertEvent(this)\n\n\t  } else this.clock._insertEvent(this)\n\t}\n\n\tEvent.prototype.timeStretch = function(tRef, ratio) {\n\t  if (this.isRepeated())\n\t    this.repeatTime = this.repeatTime * ratio\n\n\t  var deadline = tRef + ratio * (this.deadline - tRef)\n\t  // If the deadline is too close or past, and the event has a repeat,\n\t  // we calculate the next repeat possible in the stretched space.\n\t  if (this.isRepeated()) {\n\t    while (this.clock.context.currentTime >= deadline - this.toleranceEarly)\n\t      deadline += this.repeatTime\n\t  }\n\t  this.schedule(deadline)\n\t}\n\n\t// Executes the event\n\tEvent.prototype._execute = function() {\n\t  if (this.clock._started === false) return\n\t  this.clock._removeEvent(this)\n\n\t  if (this.clock.context.currentTime < this._latestTime)\n\t    this.func(this)\n\t  else {\n\t    if (this.onexpired) this.onexpired(this)\n\t    console.warn('event expired')\n\t  }\n\t  // In the case `schedule` is called inside `func`, we need to avoid\n\t  // overrwriting with yet another `schedule`.\n\t  if (!this.clock._hasEvent(this) && this.isRepeated() && !this._cleared)\n\t    this.schedule(this.deadline + this.repeatTime)\n\t}\n\n\t// Updates cached times\n\tEvent.prototype._refreshEarlyLateDates = function() {\n\t  this._latestTime = this.deadline + this.toleranceLate\n\t  this._earliestTime = this.deadline - this.toleranceEarly\n\t}\n\n\t// ==================== WAAClock ==================== //\n\tvar WAAClock = module.exports = function(context, opts) {\n\t  var self = this\n\t  opts = opts || {}\n\t  this.tickMethod = opts.tickMethod || 'ScriptProcessorNode'\n\t  this.toleranceEarly = opts.toleranceEarly || CLOCK_DEFAULTS.toleranceEarly\n\t  this.toleranceLate = opts.toleranceLate || CLOCK_DEFAULTS.toleranceLate\n\t  this.context = context\n\t  this._events = []\n\t  this._started = false\n\t}\n\n\t// ---------- Public API ---------- //\n\t// Schedules `func` to run after `delay` seconds.\n\tWAAClock.prototype.setTimeout = function(func, delay) {\n\t  return this._createEvent(func, this._absTime(delay))\n\t}\n\n\t// Schedules `func` to run before `deadline`.\n\tWAAClock.prototype.callbackAtTime = function(func, deadline) {\n\t  return this._createEvent(func, deadline)\n\t}\n\n\t// Stretches `deadline` and `repeat` of all scheduled `events` by `ratio`, keeping\n\t// their relative distance to `tRef`. In fact this is equivalent to changing the tempo.\n\tWAAClock.prototype.timeStretch = function(tRef, events, ratio) {\n\t  events.forEach(function(event) { event.timeStretch(tRef, ratio) })\n\t  return events\n\t}\n\n\t// Removes all scheduled events and starts the clock\n\tWAAClock.prototype.start = function() {\n\t  if (this._started === false) {\n\t    var self = this\n\t    this._started = true\n\t    this._events = []\n\n\t    if (this.tickMethod === 'ScriptProcessorNode') {\n\t      var bufferSize = 256\n\t      // We have to keep a reference to the node to avoid garbage collection\n\t      this._clockNode = this.context.createScriptProcessor(bufferSize, 1, 1)\n\t      this._clockNode.connect(this.context.destination)\n\t      this._clockNode.onaudioprocess = function () {\n\t        process.nextTick(function() { self._tick() })\n\t      }\n\t    } else if (this.tickMethod === 'manual') null // _tick is called manually\n\n\t    else throw new Error('invalid tickMethod ' + this.tickMethod)\n\t  }\n\t}\n\n\t// Stops the clock\n\tWAAClock.prototype.stop = function() {\n\t  if (this._started === true) {\n\t    this._started = false\n\t    this._clockNode.disconnect()\n\t  }\n\t}\n\n\t// ---------- Private ---------- //\n\n\t// This function is ran periodically, and at each tick it executes\n\t// events for which `currentTime` is included in their tolerance interval.\n\tWAAClock.prototype._tick = function() {\n\t  var event = this._events.shift()\n\n\t  while(event && event._earliestTime <= this.context.currentTime) {\n\t    event._execute()\n\t    event = this._events.shift()\n\t  }\n\n\t  // Put back the last event\n\t  if(event) this._events.unshift(event)\n\t}\n\n\t// Creates an event and insert it to the list\n\tWAAClock.prototype._createEvent = function(func, deadline) {\n\t  return new Event(this, deadline, func)\n\t}\n\n\t// Inserts an event to the list\n\tWAAClock.prototype._insertEvent = function(event) {\n\t  this._events.splice(this._indexByTime(event._earliestTime), 0, event)\n\t}\n\n\t// Removes an event from the list\n\tWAAClock.prototype._removeEvent = function(event) {\n\t  var ind = this._events.indexOf(event)\n\t  if (ind !== -1) this._events.splice(ind, 1)\n\t}\n\n\t// Returns true if `event` is in queue, false otherwise\n\tWAAClock.prototype._hasEvent = function(event) {\n\t return this._events.indexOf(event) !== -1\n\t}\n\n\t// Returns the index of the first event whose deadline is >= to `deadline`\n\tWAAClock.prototype._indexByTime = function(deadline) {\n\t  // performs a binary search\n\t  var low = 0\n\t    , high = this._events.length\n\t    , mid\n\t  while (low < high) {\n\t    mid = Math.floor((low + high) / 2)\n\t    if (this._events[mid]._earliestTime < deadline)\n\t      low = mid + 1\n\t    else high = mid\n\t  }\n\t  return low\n\t}\n\n\t// Converts from relative time to absolute time\n\tWAAClock.prototype._absTime = function(relTime) {\n\t  return relTime + this.context.currentTime\n\t}\n\n\t// Converts from absolute time to relative time\n\tWAAClock.prototype._relTime = function(absTime) {\n\t  return absTime - this.context.currentTime\n\t}\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(44)))\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports) {\n\n\t// shim for using process in browser\n\tvar process = module.exports = {};\n\n\t// cached from whatever global is present so that test runners that stub it\n\t// don't break things.  But we need to wrap it in a try catch in case it is\n\t// wrapped in strict mode code which doesn't define any globals.  It's inside a\n\t// function because try/catches deoptimize in certain engines.\n\n\tvar cachedSetTimeout;\n\tvar cachedClearTimeout;\n\n\tfunction defaultSetTimout() {\n\t    throw new Error('setTimeout has not been defined');\n\t}\n\tfunction defaultClearTimeout () {\n\t    throw new Error('clearTimeout has not been defined');\n\t}\n\t(function () {\n\t    try {\n\t        if (typeof setTimeout === 'function') {\n\t            cachedSetTimeout = setTimeout;\n\t        } else {\n\t            cachedSetTimeout = defaultSetTimout;\n\t        }\n\t    } catch (e) {\n\t        cachedSetTimeout = defaultSetTimout;\n\t    }\n\t    try {\n\t        if (typeof clearTimeout === 'function') {\n\t            cachedClearTimeout = clearTimeout;\n\t        } else {\n\t            cachedClearTimeout = defaultClearTimeout;\n\t        }\n\t    } catch (e) {\n\t        cachedClearTimeout = defaultClearTimeout;\n\t    }\n\t} ())\n\tfunction runTimeout(fun) {\n\t    if (cachedSetTimeout === setTimeout) {\n\t        //normal enviroments in sane situations\n\t        return setTimeout(fun, 0);\n\t    }\n\t    // if setTimeout wasn't available but was latter defined\n\t    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n\t        cachedSetTimeout = setTimeout;\n\t        return setTimeout(fun, 0);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedSetTimeout(fun, 0);\n\t    } catch(e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n\t            return cachedSetTimeout.call(null, fun, 0);\n\t        } catch(e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n\t            return cachedSetTimeout.call(this, fun, 0);\n\t        }\n\t    }\n\n\n\t}\n\tfunction runClearTimeout(marker) {\n\t    if (cachedClearTimeout === clearTimeout) {\n\t        //normal enviroments in sane situations\n\t        return clearTimeout(marker);\n\t    }\n\t    // if clearTimeout wasn't available but was latter defined\n\t    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n\t        cachedClearTimeout = clearTimeout;\n\t        return clearTimeout(marker);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedClearTimeout(marker);\n\t    } catch (e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n\t            return cachedClearTimeout.call(null, marker);\n\t        } catch (e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n\t            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n\t            return cachedClearTimeout.call(this, marker);\n\t        }\n\t    }\n\n\n\n\t}\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = runTimeout(cleanUpNextTick);\n\t    draining = true;\n\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    runClearTimeout(timeout);\n\t}\n\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        runTimeout(drainQueue);\n\t    }\n\t};\n\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\n\tfunction noop() {}\n\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\tprocess.prependListener = noop;\n\tprocess.prependOnceListener = noop;\n\n\tprocess.listeners = function (name) { return [] }\n\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar Interval = (function () {\n\t  function Interval(rate, func, on) {\n\t    _classCallCheck(this, Interval);\n\n\t    this.rate = rate;\n\t    this.on = on;\n\t    this.clock = Nexus.clock; // jshint ignore:line\n\n\t    this.pattern = [1];\n\t    this.index = 0;\n\n\t    this.event = func ? func : function () {};\n\n\t    if (this.on) {\n\t      this.start();\n\t    }\n\t  }\n\n\t  _createClass(Interval, {\n\t    _event: {\n\t      value: function _event(e) {\n\t        //  if (this.pattern[this.index%this.pattern.length]) {\n\t        this.event(e);\n\t        //  }\n\t        this.index++;\n\t      }\n\t    },\n\t    stop: {\n\t      value: function stop() {\n\t        this.on = false;\n\t        this.interval.clear();\n\t      }\n\t    },\n\t    start: {\n\t      value: function start() {\n\t        this.on = true;\n\t        this.interval = this.clock.callbackAtTime(this._event.bind(this), this.clock.context.currentTime).repeat(this.rate / 1000).tolerance({ early: 0.1, late: 1 });\n\t      }\n\t    },\n\t    ms: {\n\t      value: function ms(newrate) {\n\t        if (this.on) {\n\t          var ratio = newrate / this.rate;\n\t          this.rate = newrate;\n\t          this.clock.timeStretch(this.clock.context.currentTime, [this.interval], ratio);\n\t        } else {\n\t          this.rate = newrate;\n\t        }\n\t      }\n\t    }\n\t  });\n\n\t  return Interval;\n\t})();\n\n\tmodule.exports = Interval;\n\n/***/ })\n/******/ ])\n});\n;\n//# sourceMappingURL=NexusUI.map\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/NexusUI.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 4\n// module chunks = 0","import * as Nexus from './NexusUI';\n\nclass Sequencer {\n  constructor(){\n    this.sequencer = new Nexus.Sequencer('#sequencer',{\n     'size': [1000,500],\n     'mode': 'toggle',\n     'rows': 8,\n     'columns': 16\n   });\n   this.sequencer.on('change',function(v) {\n     const int = Math.floor(Math.random() * (36 -1 + 1)) + 1;\n     sfx[int]();\n });\n  this.sequencer.on('step', function(column) {\n    const int = Math.floor(Math.random() * (36 -1 + 1)) + 1;\n    let sorted = column.filter(cellValue => cellValue > 0);\n    while(sorted.length > 0) {\n      sfx[int]();\n      sorted = sorted.slice(1);\n    }\n  });\n  this.sequencer.invert = this.sequencer.matrix.toggle.all;\n  }\n}\n\n\n\n\nexport default Sequencer;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/sequencer.js","import * as Nexus from './NexusUI';\n\nclass Piano {\n  constructor() {\n    this.piano = new Nexus.Piano('#piano',{\n    'size': [500,125],\n    'mode': 'button',\n    'lowNote': 24,\n    'highNote': 60\n    });\n    this.keys = this.piano.keys;\n    this.piano.on('change', function(v) {\n      const int = Math.floor(Math.random() * (36 - 1 + 1)) + 1;\n      sfx[int]();\n    });\n  }\n}\n\n\nexport default Piano;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/piano.js","import * as Nexus from './NexusUI';\n\n\nclass Button {\n  constructor(){\n    this.button = new Nexus.TextButton('#button',{\n    'size': [150,50],\n    'state': false,\n    'text': 'PLAY',\n    'alternate': false\n});\n  }\n\n  play(){\n    const audio = new Audio('./lib/media/bad_company.mp3');\n    audio.play();\n  }\n}\n\nexport default Button;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/button.js","import * as Nexus from './NexusUI';\n\nclass Toggle {\n  constructor() {\n    this.toggle = new Nexus.Toggle('#toggle');\n  }\n}\n\n\nexport default Toggle;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/toggle.js"],"sourceRoot":""}