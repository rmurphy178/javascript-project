{"version":3,"sources":["webpack:///webpack/bootstrap 41fd2a528ac820d2fcfd","webpack:///./lib/js/main.js","webpack:///./lib/js/NexusUI.js","webpack:///(webpack)/buildin/module.js","webpack:///./lib/js/sequencer.js","webpack:///./lib/js/piano.js","webpack:///./lib/js/button.js","webpack:///./lib/js/sounds.js"],"names":["Nexus","document","addEventListener","board","piano","button","on","v","sequencer","start","play","int","Math","floor","random","sfx","console","log","keys","window","AudioContext","webkitAudioContext","ctx","webpackUniversalModuleDefinition","root","factory","exports","module","modules","installedModules","__webpack_require__","moduleId","id","loaded","call","m","c","p","NexusUI","_interopRequireWildcard","obj","__esModule","_interopRequire","_createClass","defineProperties","target","props","key","prop","configurable","value","writable","Object","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","Interfaces","math","Rack","Tune","Transform","Counter","Radio","Drunk","Sequence","Matrix","WAAClock","Interval","context","_key","Core","Models","_key2","_key3","DefaultContext","_context","tune","note","bind","clock","colors","accent","fill","light","dark","mediumLight","mediumDark","transform","add","get","set","stop","Position","Slider","Toggle","Button","TextButton","RadioButton","Number","Select","Dial","Piano","Sequencer","Pan2D","Tilt","Multislider","Pan","Envelope","Spectrogram","Meter","Oscilloscope","_get","object","property","receiver","desc","getOwnPropertyDescriptor","undefined","parent","getPrototypeOf","getter","_inherits","subClass","superClass","create","constructor","enumerable","__proto__","svg","Interface","Step","Interaction","_Interface","options","defaults","size","mode","minX","maxX","stepX","x","minY","maxY","stepY","y","arguments","_x","settings","_y","position","Handle","width","height","normalized","init","render","buildInterface","knob","element","appendChild","sizeInterface","resize","_minDimension","min","knobRadius","off","setAttribute","colorInterface","style","backgroundColor","clicked","knobCoordinates","click","anchor","mouse","move","update","updateNormal","emit","release","max","step","type","createElementNS","arc","radius","startAngle","endAngle","toCartesian","end","largeArcFlag","d","join","radialGradient","defs","numberOfStops","ri","stops","gradient","i","_stop","push","clip","normalize","scale","inNum","inMin","inMax","outMin","outMax","toPolar","r","sqrt","theta","atan2","PI","angle","cos","sin","prune","data","parseFloat","toFixed","invert","mtof","midi","pow","interp","loc","pick","length","octave","num","bound1","bound2","low","high","rf","cycle","input","average","total","distance","x1","y1","x2","y2","a","b","gainToDB","gain","log10","coin","odds","dom","util","touch","EventEmitter","_EventEmitter","args","name","parseSettings","wait","defaultColors","unshift","defaultSize","splice","body","snapWithParent","event","component","setting","isObject","parseElement","HTMLElement","hasAttribute","Array","isArray","indexOf","getComputedStyle","getPropertyValue","replace","buildFrame","attachListeners","finalTouches","_this","interactionTarget","exists","evt","preTouch","preTouchMove","preTouchRelease","boundPreMove","preMove","boundPreRelease","preRelease","preClick","cursor","e","offset","findPosition","locateMouse","moveEvent","releaseEvent","preventDefault","stopPropagation","setTimeout","removeEventListener","locateTouch","touchMove","touchRelease","empty","lastChild","removeChild","destroy","removeAllListeners","instrument","customDestroy","colorize","color","el","viewportOffset","getBoundingClientRect","top","scrollY","left","scrollX","getElementById","SVGElement","pageX","pageY","targetTouches","SmartCanvas","createElement","getContext","w","h","documentElement","_events","_maxListeners","defaultMaxListeners","setMaxListeners","n","isNumber","isNaN","er","handler","len","listeners","error","Error","err","isUndefined","isFunction","slice","apply","addListener","listener","newListener","warned","trace","once","fired","g","removeListener","list","ret","listenerCount","evlistener","emitter","arg","changed","oldValue","round","defineProperty","ToggleModel","direction","xbound","ybound","previous","sensitivity","boundary","center","_anchor","convertPositionToValue","increment","abs","current","state","paintbrush","timeout","clearTimeout","turnOn","flip","turnOff","orientation","_value","bar","fillbar","barOffset","cornerRadius","knobData","level","thickness","_state","knobSize","ButtonTemplate","_ButtonTemplate","pad","down","bend","up","emitting","text","alternate","_text","_alternateText","textElement","innerHTML","textsize","textsize2","alternateText","textsize3","styles","cssText","numberOfButtons","active","buttons","_numberOfButtons","container","buttonWidth","buttonHeight","index","select","deselect","decimalPlaces","actual","which","blur","hasMoved","readOnly","initial","changeFactor","newvalue","focus","setSelectionRange","link","destination","passiveUpdate","_selectedIndex","_options","fontSize","outline","highlight","boundRender","defineOptions","border","selectedIndex","remove","Option","interaction","previousAngle","background","screw","handle","handle2","handleFill","handle2Fill","handleLine","diameter","handlePoints","handle2Points","handlePath","handle2Path","arcEndingA","arcEndingX","arcEndingY","realValue","PianoKey","interacting","lowNote","highNote","keyPattern","range","toggleTo","borderRadius","display","scaleIndex","keyChange","addTouchListeners","keyX","keyPositions","nextScaleIndex","keysWide","padding","zIndex","currentElement","elementFromPoint","clientX","clientY","pastKey","setRange","toggleKey","toggleIndex","MatrixModel","CounterModel","MatrixCell","row","column","matrix","rows","columns","interval","ui","stepper","cells","_location","locate","cell","cellWidth","cellHeight","iterate","pattern","ms","next","reverse","pastCell","toggle","all","values","forEach","rotate","amount","cut","concat","proxy","populate","oddsSequence","erase","arr","f","f2","formatAsText","patternString","_row","_rowWrapper","toString","_column","_columnWrapper","_x2","sequence","_mode","drunkWalk","startValues","drunk","first","loop","speakers","levels","calculateLevels","speakerElements","speakerElement","speaker","s","moveSource","location","moveSpeaker","_active","boundUpdate","DeviceOrientationEvent","orientationListener","title","circleX","circleY","circleZ","barX","barY","barZ","barX2","barY2","barZ2","textContent","beta","gamma","z","alpha","cx","baseVal","cy","SliderTemplate","SingleSlider","_SliderTemplate","hasKnob","multislider","interpolation","lowValue","sliders","highValue","slide","customStyle","numberOfSliders","_numberOfSliders","slider","sliderWidth","sliderHeight","pastslider","setSlider","setAllSliders","L","R","Point","point","envelope","nodes","prevIndex","nextIndex","prevNode","nextNode","lowX","highX","getCoordinates","points","selected","node","sortPoints","line","calculatePath","calculatePoints","findNearestNode","scaleNode","nearestIndex","nearestDist","before","getIndexFromX","clippedX","clippedY","sort","addPoint","scan","priorIndex","priorPoint","nextPoint","movePoint","adjustPoint","xOffset","yOffset","destroyPoint","setPoints","allPoints","analyser","createAnalyser","fftSize","bufferLength","frequencyBinCount","dataArray","Uint8Array","source","canvas","requestAnimationFrame","getByteFrequencyData","fillStyle","fillRect","barWidth","barHeight","definition","subarray","connect","disconnect","channels","splitter","createChannelSplitter","analysers","smoothingTimeConstant","Float32Array","db","Infinity","meterWidth","getFloatTimeDomainData","rms","_i","linear","exp","channelCount","getByteTimeDomainData","lineWidth","strokeStyle","beginPath","sliceWidth","moveTo","lineTo","stroke","meta","attribute","open","boxSizing","userSelect","mozUserSelect","webkitUserSelect","contents","childNodes","titleBar","fontFamily","right","lineHeight","hide","show","section","createInterfaceID","widget","interfaceIDs","attributes","att","nodeName","nodeValue","toUpperCase","keyword","htmlElements","getElementsByTagName","elements","getAttribute","formattedType","toLowerCase","output","etmajor","createScale","frequency","ratio","MIDI","stepIn","octaveIn","scaleDegree","freq","newScale","loadScaleFromFrequencies","createJIScale","freqs","loadScale","scales","frequencies","search","letters","possible","chord","midis","_len","onVals","array","warn","process","isBrowser","CLOCK_DEFAULTS","toleranceLate","toleranceEarly","Event","deadline","func","_cleared","_latestTime","_earliestTime","repeatTime","schedule","clear","_removeEvent","repeat","time","_hasEvent","tolerance","late","early","_refreshEarlyLateDates","_insertEvent","isRepeated","currentTime","_execute","timeStretch","tRef","_started","onexpired","opts","self","tickMethod","delay","_createEvent","_absTime","callbackAtTime","events","bufferSize","_clockNode","createScriptProcessor","onaudioprocess","nextTick","_tick","shift","_indexByTime","ind","mid","relTime","_relTime","absTime","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","run","Item","browser","env","argv","version","versions","noop","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","rate","_event","newrate","audio","Audio","library"],"mappings":"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","file":"./lib/js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 41fd2a528ac820d2fcfd","import * as Nexus from './NexusUI';\n\nimport Sequencer from './sequencer';\nimport Piano from './piano';\nimport Button from './button';\nimport { library } from './sounds';\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n\n    const board = new Sequencer();\n    const piano = new Piano();\n    const button = new Button();\n\n\n\n    button.button.on('change',function(v) {\n      board.sequencer.start();\n      button.play();\n   });\n\n\n    board.sequencer.on('change',function(v) {\n      const int = Math.floor(Math.random() * (36 -1 + 1)) + 1;\n      sfx[int]();\n  });\n\n  piano.piano.on('change', function(v) {\n    const int = Math.floor(Math.random() * (36 - 1 + 1)) + 1;\n    sfx[int]();\n  });\n\n  console.log(piano.piano.keys);\n\n  window.AudioContext = window.AudioContext || window.webkitAudioContext;\n  const ctx = new AudioContext();\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/main.js","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"NexusUI\"] = factory();\n\telse\n\t\troot[\"NexusUI\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar NexusUI = __webpack_require__(1);\n\tvar Nexus = new NexusUI();\n\t\n\tif (window) {\n\t  window.Nexus = Nexus;\n\t}\n\t\n\tmodule.exports = Nexus;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; };\n\t\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar Interfaces = _interopRequire(__webpack_require__(2));\n\t\n\tvar math = _interopRequire(__webpack_require__(5));\n\t\n\tvar Rack = _interopRequire(__webpack_require__(38));\n\t\n\tvar Tune = _interopRequire(__webpack_require__(40));\n\t\n\tvar Transform = _interopRequireWildcard(__webpack_require__(39));\n\t\n\tvar Counter = __webpack_require__(28);\n\tvar Radio = __webpack_require__(41);\n\tvar Drunk = __webpack_require__(27);\n\tvar Sequence = __webpack_require__(26);\n\tvar Matrix = __webpack_require__(25);\n\t\n\tvar WAAClock = _interopRequire(__webpack_require__(42));\n\t\n\tvar Interval = _interopRequire(__webpack_require__(45));\n\t\n\t/**\n\tNexusUI => created as Nexus\n\t*/\n\t\n\tvar NexusUI = (function () {\n\t  function NexusUI(context) {\n\t    _classCallCheck(this, NexusUI);\n\t\n\t    for (var key in Interfaces) {\n\t      this[key] = Interfaces[key];\n\t    }\n\t\n\t    for (var _key in math) {\n\t      this[_key] = math[_key];\n\t    }\n\t\n\t    var Core = {\n\t      Rack: Rack\n\t    };\n\t\n\t    var Models = {\n\t      Counter: Counter,\n\t      Radio: Radio,\n\t      Drunk: Drunk,\n\t      Sequence: Sequence,\n\t      Matrix: Matrix\n\t    };\n\t\n\t    for (var _key2 in Models) {\n\t      this[_key2] = Models[_key2];\n\t    }\n\t\n\t    for (var _key3 in Core) {\n\t      this[_key3] = Core[_key3];\n\t    }\n\t\n\t    var DefaultContext = window.AudioContext || window.webkitAudioContext;\n\t    this._context = context || new DefaultContext();\n\t\n\t    this.tune = new Tune();\n\t    this.note = this.tune.note.bind(this.tune);\n\t\n\t    this.clock = new WAAClock(this._context);\n\t    this.clock.start();\n\t    this.Interval = Interval;\n\t\n\t    this.colors = {\n\t      accent: \"#2bb\",\n\t      fill: \"#eee\",\n\t      light: \"#fff\",\n\t      dark: \"#333\",\n\t      mediumLight: \"#ccc\",\n\t      mediumDark: \"#666\"\n\t    };\n\t\n\t    this.transform = Transform;\n\t    this.add = Transform.add;\n\t  }\n\t\n\t  _createClass(NexusUI, {\n\t    context: {\n\t      get: function () {\n\t        return this._context;\n\t      },\n\t      set: function (ctx) {\n\t        this.clock.stop();\n\t        this._context = ctx;\n\t        this.clock = new WAAClock(this.context);\n\t        this.clock.start();\n\t      }\n\t    }\n\t  });\n\t\n\t  return NexusUI;\n\t})();\n\t\n\tmodule.exports = NexusUI;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = {\n\t  Position: __webpack_require__(3),\n\t  Slider: __webpack_require__(14),\n\t  Toggle: __webpack_require__(15),\n\t  //  Range: require('./range'),\n\t  //  Waveform: require('./waveform'),\n\t  Button: __webpack_require__(16),\n\t  TextButton: __webpack_require__(18),\n\t  RadioButton: __webpack_require__(19),\n\t  Number: __webpack_require__(20),\n\t  Select: __webpack_require__(21),\n\t  Dial: __webpack_require__(22),\n\t  Piano: __webpack_require__(23),\n\t  Sequencer: __webpack_require__(24),\n\t  Pan2D: __webpack_require__(29),\n\t  Tilt: __webpack_require__(30),\n\t  Multislider: __webpack_require__(31),\n\t  Pan: __webpack_require__(33),\n\t  Envelope: __webpack_require__(34),\n\t  Spectrogram: __webpack_require__(35),\n\t  Meter: __webpack_require__(36),\n\t  Oscilloscope: __webpack_require__(37)\n\t};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t\"use strict\";\n\t\n\tvar _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar svg = __webpack_require__(4);\n\tvar Interface = __webpack_require__(6);\n\tvar Step = __webpack_require__(11);\n\t\n\tvar Interaction = _interopRequireWildcard(__webpack_require__(12));\n\t\n\t/**\n\t* Position\n\t*\n\t* @description Two-dimensional touch slider.\n\t*\n\t* @demo <span nexus-ui=\"position\"></span>\n\t*\n\t* @example\n\t* var position = new Nexus.Position('#target')\n\t*\n\t* @example\n\t* var position = new Nexus.Position('#target',{\n\t*   'size': [200,200],\n\t*   'mode': 'absolute',  // \"absolute\" or \"relative\"\n\t*   'x': 0.5,  // initial x value\n\t*   'minX': 0,\n\t*   'maxX': 1,\n\t*   'stepX': 0,\n\t*   'y': 0.5,  // initial y value\n\t*   'minY': 0,\n\t*   'maxY': 1,\n\t*   'stepY': 0\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* The event data is an object with x and y properties containing the x and y values of the interface.\n\t*\n\t* @outputexample\n\t* position.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*\n\t*/\n\t\n\tvar Position = (function (_Interface) {\n\t  function Position() {\n\t    _classCallCheck(this, Position);\n\t\n\t    var options = [\"value\"];\n\t\n\t    var defaults = {\n\t      size: [200, 200],\n\t      mode: \"absolute\",\n\t      minX: 0,\n\t      maxX: 1,\n\t      stepX: 0,\n\t      x: 0.5,\n\t      minY: 0,\n\t      maxY: 1,\n\t      stepY: 0,\n\t      y: 0.5\n\t    };\n\t\n\t    _get(Object.getPrototypeOf(Position.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\t\n\t    this._x = new Step(this.settings.minX, this.settings.maxX, this.settings.stepX, this.settings.x);\n\t    this._y = new Step(this.settings.minY, this.settings.maxY, this.settings.stepY, this.settings.y);\n\t\n\t    this.position = {\n\t      x: new Interaction.Handle(this.settings.mode, \"horizontal\", [0, this.width], [this.height, 0]),\n\t      y: new Interaction.Handle(this.settings.mode, \"vertical\", [0, this.width], [this.height, 0])\n\t    };\n\t    this.position.x.value = this._x.normalized;\n\t    this.position.y.value = this._y.normalized;\n\t\n\t    this.init();\n\t    this.render();\n\t  }\n\t\n\t  _inherits(Position, _Interface);\n\t\n\t  _createClass(Position, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t\n\t        this.knob = svg.create(\"circle\");\n\t        this.element.appendChild(this.knob);\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t\n\t        this.position.x.resize([0, this.width], [this.height, 0]);\n\t        this.position.y.resize([0, this.width], [this.height, 0]);\n\t\n\t        this._minDimension = Math.min(this.width, this.height);\n\t\n\t        this.knobRadius = {\n\t          off: ~ ~(this._minDimension / 100) * 5 + 5 };\n\t        this.knobRadius.on = this.knobRadius.off * 2;\n\t\n\t        this.knob.setAttribute(\"cx\", this.width / 2);\n\t        this.knob.setAttribute(\"cy\", this.height / 2);\n\t        this.knob.setAttribute(\"r\", this.knobRadius.off);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.element.style.backgroundColor = this.colors.fill;\n\t        this.knob.setAttribute(\"fill\", this.colors.accent);\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (this.clicked) {\n\t          //  this.knobRadius = 30;\n\t          this.knob.setAttribute(\"r\", this.knobRadius.on);\n\t        } else {\n\t          //  this.knobRadius = 15;\n\t          this.knob.setAttribute(\"r\", this.knobRadius.off);\n\t        }\n\t\n\t        this.knobCoordinates = {\n\t          x: this._x.normalized * this.width,\n\t          y: this.height - this._y.normalized * this.height\n\t        };\n\t\n\t        this.knob.setAttribute(\"cx\", this.knobCoordinates.x);\n\t        this.knob.setAttribute(\"cy\", this.knobCoordinates.y);\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.position.x.anchor = this.mouse;\n\t        this.position.y.anchor = this.mouse;\n\t        this.move();\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        if (this.clicked) {\n\t          this.position.x.update(this.mouse);\n\t          this.position.y.update(this.mouse);\n\t          this._x.updateNormal(this.position.x.value);\n\t          this._y.updateNormal(this.position.y.value);\n\t          this.emit(\"change\", {\n\t            x: this._x.value,\n\t            y: this._y.value\n\t          });\n\t          this.render();\n\t        }\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {\n\t        this.render();\n\t      }\n\t    },\n\t    x: {\n\t\n\t      /**\n\t      * The interface's x value. When set, it will automatically adjust to fit min/max/step settings of the interface.\n\t      * @type {object}\n\t      * @example position.x = 0.5;\n\t      */\n\t\n\t      get: function () {\n\t        return this._x.value;\n\t      },\n\t      set: function (value) {\n\t        this._x.update(value);\n\t        this.emit(\"change\", {\n\t          x: this._x.value,\n\t          y: this._y.value\n\t        });\n\t        this.render();\n\t      }\n\t    },\n\t    y: {\n\t\n\t      /**\n\t      * The interface's y values. When set, it will automatically adjust to fit min/max/step settings of the interface.\n\t      * @type {object}\n\t      * @example position.x = 0.5;\n\t      */\n\t\n\t      get: function () {\n\t        return this._y.value;\n\t      },\n\t      set: function (value) {\n\t        this._y.update(value);\n\t        this.emit(\"change\", {\n\t          x: this._x.value,\n\t          y: this._y.value\n\t        });\n\t        this.render();\n\t      }\n\t    },\n\t    normalized: {\n\t      get: function () {\n\t        return {\n\t          x: this._x.normalized,\n\t          y: this._y.normalized\n\t        };\n\t      }\n\t    },\n\t    minX: {\n\t\n\t      /**\n\t      * The lower limit of value on the x axis\n\t      * @type {object}\n\t      */\n\t\n\t      get: function () {\n\t        return this._x.min;\n\t      },\n\t      set: function (v) {\n\t        this._x.min = v;\n\t        this.render();\n\t      }\n\t    },\n\t    minY: {\n\t\n\t      /**\n\t      * The lower limit of value on the y axis\n\t      * @type {object}\n\t      */\n\t\n\t      get: function () {\n\t        return this._y.min;\n\t      },\n\t      set: function (v) {\n\t        this._y.min = v;\n\t        this.render();\n\t      }\n\t    },\n\t    maxX: {\n\t\n\t      /**\n\t      * The upper limit of value on the x axis\n\t      * @type {object}\n\t      */\n\t\n\t      get: function () {\n\t        return this._x.max;\n\t      },\n\t      set: function (v) {\n\t        this._x.max = v;\n\t        this.render();\n\t      }\n\t    },\n\t    maxY: {\n\t\n\t      /**\n\t      * The upper limit of value on the y axis\n\t      * @type {object}\n\t      */\n\t\n\t      get: function () {\n\t        return this._y.max;\n\t      },\n\t      set: function (v) {\n\t        this._y.max = v;\n\t        this.render();\n\t      }\n\t    },\n\t    stepX: {\n\t\n\t      /**\n\t      * The incremental step of values on the x axis\n\t      * @type {object}\n\t      */\n\t\n\t      get: function () {\n\t        return this._x.step;\n\t      },\n\t      set: function (v) {\n\t        this._x.step = v;\n\t        this.render();\n\t      }\n\t    },\n\t    stepY: {\n\t\n\t      /**\n\t      * The incremental step of values on the y axis\n\t      * @type {object}\n\t      */\n\t\n\t      get: function () {\n\t        return this._y.step;\n\t      },\n\t      set: function (v) {\n\t        this._y.step = v;\n\t        this.render();\n\t      }\n\t    },\n\t    mode: {\n\t\n\t      /**\n\t      Absolute mode (position's value jumps to mouse click position) or relative mode (mouse drag changes value relative to its current position). Default: \"absolute\".\n\t      @type {string}\n\t      @example position.mode = \"relative\";\n\t      */\n\t\n\t      get: function () {\n\t        return this.position.x.mode;\n\t      },\n\t      set: function (v) {\n\t        this.position.x.mode = v;\n\t        this.position.y.mode = v;\n\t      }\n\t    }\n\t  });\n\t\n\t  return Position;\n\t})(Interface);\n\t\n\tmodule.exports = Position;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar math = __webpack_require__(5);\n\t\n\tmodule.exports = {\n\t\n\t  create: function (type) {\n\t    return document.createElementNS(\"http://www.w3.org/2000/svg\", type);\n\t  },\n\t\n\t  arc: function (x, y, radius, startAngle, endAngle) {\n\t\n\t    var start = math.toCartesian(radius, endAngle);\n\t    var end = math.toCartesian(radius, startAngle);\n\t\n\t    var largeArcFlag = endAngle - startAngle <= 180 ? \"0\" : \"1\";\n\t\n\t    var d = [\"M\", start.x + x, start.y + y, \"A\", radius, radius, 0, largeArcFlag, 0, end.x + x, end.y + y].join(\" \");\n\t\n\t    return d;\n\t  },\n\t\n\t  radialGradient: function (defs, numberOfStops) {\n\t\n\t    var id = \"gradient\" + math.ri(100000000000);\n\t    var stops = [];\n\t\n\t    var gradient = document.createElementNS(\"http://www.w3.org/2000/svg\", \"radialGradient\");\n\t    gradient.setAttribute(\"id\", id);\n\t    gradient.setAttribute(\"cx\", \"50%\");\n\t    gradient.setAttribute(\"cy\", \"50%\");\n\t    gradient.setAttribute(\"r\", \"50%\");\n\t\n\t    defs.appendChild(gradient);\n\t\n\t    for (var i = 0; i < numberOfStops; i++) {\n\t      var _stop = document.createElementNS(\"http://www.w3.org/2000/svg\", \"stop\");\n\t      _stop.setAttribute(\"id\", \"stop\" + i);\n\t      //stop.setAttribute('offset', '70%');\n\t      //stop.setAttribute('stop-color', 'White');\n\t      gradient.appendChild(_stop);\n\t      stops.push(_stop);\n\t    }\n\t\n\t    return {\n\t      id: id,\n\t      stops: stops,\n\t      element: gradient\n\t    };\n\t  }\n\t\n\t};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * Limit a number to within a minimum and maximum\n\t * @param  {number} value Input value\n\t * @param  {number} min   Lower limit\n\t * @param  {number} max   Upper limit\n\t * @return {number}       The input value constrained within the lower and upper limits\n\t * @example\n\t * Nexus.clip(11,0,10)   // returns 10\n\t * Nexus.clip(-1,0,10)   // returns 0\n\t * Nexus.clip(5,0,10)    // returns 5\n\t */\n\t\n\texports.clip = function (value, min, max) {\n\t  return Math.min(Math.max(value, min), max);\n\t};\n\t\n\texports.normalize = function (value, min, max) {\n\t  return (value - min) / (max - min);\n\t};\n\t\n\t/**\n\t * Scale a value from one range to another range.\n\t * @param  {number} inNum  Input value\n\t * @param  {number} inMin  Input range minimum\n\t * @param  {number} inMax  Input range maximum\n\t * @param  {number} outMin Output range minimum\n\t * @param  {number} outMax Output range maximum\n\t * @return {number}        The input value scaled to its new range\n\t * @example\n\t * Nexus.scale(0.5,0,1,0,10)   // returns 5\n\t * Nexus.scale(0.9,0,1,1,0)    // returns 0.1\n\t */\n\texports.scale = function (inNum, inMin, inMax, outMin, outMax) {\n\t  if (inMin === inMax) {\n\t    return outMin;\n\t  }\n\t  return (inNum - inMin) * (outMax - outMin) / (inMax - inMin) + outMin;\n\t};\n\t\n\texports.toPolar = function (x, y) {\n\t  var r = Math.sqrt(x * x + y * y);\n\t\n\t  var theta = Math.atan2(y, x);\n\t  if (theta < 0) {\n\t    theta = theta + 2 * Math.PI;\n\t  }\n\t  return { radius: r, angle: theta };\n\t};\n\t\n\texports.toCartesian = function (radius, angle) {\n\t  var cos = Math.cos(angle);\n\t  var sin = Math.sin(angle);\n\t  return { x: radius * cos, y: radius * sin * -1 };\n\t};\n\t/*\n\texports.polarToCartesian(centerX, centerY, radius, angleInDegrees) {\n\t  var angleInRadians = (angleInDegrees-90) * Math.PI / 180.0;\n\t\n\t  return {\n\t    x: centerX + (radius * Math.cos(angleInRadians)),\n\t    y: centerY + (radius * Math.sin(angleInRadians))\n\t  };\n\t}  */\n\t\n\texports.prune = function (data, scale) {\n\t  return parseFloat(data.toFixed(scale));\n\t};\n\t\n\texports.invert = function (inNum) {\n\t  return exports.scale(inNum, 1, 0, 0, 1);\n\t};\n\t\n\t/**\n\t * Convert a MIDi note number to a frequency value in equal temperament.\n\t * @param  {number} midi MIDI note value\n\t * @return {number}      Frequence value\n\t * @example\n\t * Nexus.mtof(60)  // returns the frequency number of Middle C\n\t */\n\texports.mtof = function (midi) {\n\t  return Math.pow(2, (midi - 69) / 12) * 440;\n\t};\n\t\n\t/**\n\t * Interpolate between two numbers\n\t * @param  {number} loc Interpolation index (0-1)\n\t * @param  {number} min Lower value\n\t * @param  {number} max Upper value\n\t * @return {number}     Interpolated value\n\t * @example\n\t * Nexus.interp(0.5,2,4)   // returns 3\n\t * Nexus.interp(0.1,0,10)     // returns 1\n\t */\n\texports.interp = function (loc, min, max) {\n\t  return loc * (max - min) + min;\n\t};\n\t\n\t/**\n\t * Return a random choice from a list of arguments\n\t * @return {various} One random argument\n\t * @example\n\t * Nexus.pick(1,2,3,4)   // returns 1, 2, 3, or 4\n\t * Nexus.pick(function1,function2)   // returns either function1 or function2\n\t */\n\texports.pick = function () {\n\t  return arguments[~ ~(Math.random() * arguments.length)];\n\t};\n\t\n\t/**\n\t * Returns an octave multiplier for frequency values\n\t * @param  {number} num Relative octave number (e.g. -1 for one octave down, 1 for one octave up)\n\t * @return {number}     Octave multiplier\n\t * @example\n\t * Nexus.octave(-1)  // returns 0.5\n\t * Nexus.octave(0)   // returns 1\n\t * Nexus.octave(1)   // returns 2\n\t * Nexus.octave(2)   // returns 4\n\t */\n\texports.octave = function (num) {\n\t  return Math.pow(2, num);\n\t};\n\t\n\t/**\n\t * Random integer generator. If no second argument is given, will return random integer from 0 to bound1.\n\t * @param  {number} bound1 Minimum random value\n\t * @param  {number} bound2 Maximum random value\n\t * @return {number}        Random integer between lower and upper boundary\n\t * @example\n\t * Nexus.ri(10)    // returns random int from 0 to 10\n\t * Nexus.ri(20,2000) // returns random int from 20 to 2000\n\t */\n\texports.ri = function (bound1, bound2) {\n\t  if (!bound2) {\n\t    bound2 = bound1;\n\t    bound1 = 0;\n\t  }\n\t  var low = Math.min(bound1, bound2);\n\t  var high = Math.max(bound1, bound2);\n\t  return Math.floor(Math.random() * (high - low) + low);\n\t};\n\t\n\t/**\n\t * Random float number generator. If no second argument is given, will return random float from 0 to bound1.\n\t * @param  {number} bound1 Minimum random value\n\t * @param  {number} bound2 Maximum random value\n\t * @return {number}        Random float between lower and upper boundary\n\t * @example\n\t * Nexus.rf(1)    // returns random float from 0 to 1\n\t * Nexus.rf(1,2) // returns random float from 1 to 2\n\t */\n\texports.rf = function (bound1, bound2) {\n\t  if (!bound2) {\n\t    bound2 = bound1;\n\t    bound1 = 0;\n\t  }\n\t  var low = Math.min(bound1, bound2);\n\t  var high = Math.max(bound1, bound2);\n\t  return Math.random() * (high - low) + low;\n\t};\n\t\n\texports.cycle = function (input, min, max) {\n\t  input++;\n\t  if (input >= max) {\n\t    input = min;\n\t  }\n\t  return input;\n\t};\n\t\n\t/**\n\t * Average an array of numbers\n\t * @param  {Array} data Array of numbers to average\n\t * @return {number}      Average of the input data\n\t * @example\n\t * Nexus.average([0,2,4,6,8,10])   // returns 5\n\t */\n\texports.average = function (data) {\n\t  var total = 0;\n\t  for (var i = 0; i < data.length; i++) {\n\t    total += data[i];\n\t  }\n\t  return total / data.length;\n\t};\n\t\n\t/**\n\t * Get the distance from one (x,y) point to another (x,y) point\n\t * @param  {number} x1 x of first point\n\t * @param  {number} y1 y of first point\n\t * @param  {number} x2 x of second point\n\t * @param  {number} y2 y of second poiny\n\t * @return {number}    Distance\n\t * @example\n\t * Nexus.distance(0,0,3,4)   // returns 5\n\t */\n\texports.distance = function (x1, y1, x2, y2) {\n\t  var a = x1 - x2;\n\t  var b = y1 - y2;\n\t  return Math.sqrt(a * a + b * b);\n\t};\n\t\n\texports.gainToDB = function (gain) {\n\t  return 20 * Math.log10(gain);\n\t};\n\t\n\t/**\n\t * Flip a coin, returning either 0 or 1 according to a probability\n\t * @param  {number} [odds=0.5] Likelihood of returning 1\n\t * @return {number}            1 or 0\n\t * @example\n\t * Nexus.coin(0.1)   // returns 1 (10% of the time) or 0 (90% of the time)\n\t */\n\texports.coin = function () {\n\t  var odds = arguments[0] === undefined ? 0.5 : arguments[0];\n\t\n\t  if (exports.rf(0, 1) < odds) {\n\t    return 1;\n\t  } else {\n\t    return 0;\n\t  }\n\t};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar svg = __webpack_require__(4);\n\tvar dom = __webpack_require__(7);\n\tvar util = __webpack_require__(8);\n\tvar touch = __webpack_require__(9);\n\tvar EventEmitter = __webpack_require__(10);\n\t\n\t/**\n\tInterface\n\t*/\n\t\n\tvar Interface = (function (_EventEmitter) {\n\t  function Interface(args, options, defaults) {\n\t    _classCallCheck(this, Interface);\n\t\n\t    _get(Object.getPrototypeOf(Interface.prototype), \"constructor\", this).call(this);\n\t    this.type = this.constructor.name;\n\t    this.settings = this.parseSettings(args, options, defaults);\n\t    this.mouse = {};\n\t    this.wait = false;\n\t    this.colors = {};\n\t    var defaultColors = Nexus.colors; // jshint ignore:line\n\t    this.colors.accent = defaultColors.accent;\n\t    this.colors.fill = defaultColors.fill;\n\t    this.colors.light = defaultColors.light;\n\t    this.colors.dark = defaultColors.dark;\n\t    this.colors.mediumLight = defaultColors.mediumLight;\n\t    this.colors.mediumDark = defaultColors.mediumDark;\n\t  }\n\t\n\t  _inherits(Interface, _EventEmitter);\n\t\n\t  _createClass(Interface, {\n\t    parseSettings: {\n\t      value: function parseSettings(args, options, defaults) {\n\t\n\t        options.unshift(\"target\");\n\t        defaults.defaultSize = defaults.size.splice(0, 2);\n\t        defaults.size = false;\n\t\n\t        var settings = {\n\t          target: document.body,\n\t          colors: {}, // should inherit from a colors module,\n\t          snapWithParent: true,\n\t          event: function event() {},\n\t          component: false\n\t        };\n\t\n\t        for (var key in defaults) {\n\t          settings[key] = defaults[key];\n\t        }\n\t\n\t        for (var i = 0; i < args.length; i++) {\n\t          // grabs the next argument\n\t          var setting = args[i];\n\t          // if it's an object, it must be the settings object\n\t          if (util.isObject(setting)) {\n\t            for (var key in setting) {\n\t              settings[key] = setting[key];\n\t            }\n\t            // if it's a function, it must be the event setting\n\t          } else if (typeof setting === \"function\") {\n\t            settings.event = setting;\n\t            // otherwise, consider it one of the widget's custom options\n\t          } else if (options.length >= 1) {\n\t            // grab the first option -- i.e. 'target'\n\t            var key = options.splice(0, 1)[0];\n\t            settings[key] = setting;\n\t          }\n\t        }\n\t\n\t        /*  handle common settings  */\n\t\n\t        // target\n\t        this.parent = dom.parseElement(settings.target);\n\t\n\t        // nexus-ui attribute\n\t        if (this.parent && this.parent instanceof HTMLElement && !settings.component) {\n\t          if (!this.parent.hasAttribute(\"nexus-ui\")) {\n\t            this.parent.setAttribute(\"nexus-ui\", \"\");\n\t          }\n\t        }\n\t\n\t        // size\n\t        if (settings.size && Array.isArray(settings.size) && settings.snapWithParent) {\n\t          this.width = settings.size[0];\n\t          this.height = settings.size[1];\n\t          this.parent.style.width = this.width + \"px\";\n\t          this.parent.style.height = this.height + \"px\";\n\t        } else if (settings.snapWithParent) {\n\t          this.width = parseFloat(this.parent.style.width);\n\t          this.height = parseFloat(this.parent.style.height);\n\t\n\t          if (!this.width) {\n\t            this.width = parseFloat(this.parent.width);\n\t          }\n\t          if (!this.height) {\n\t            this.height = parseFloat(this.parent.height);\n\t          }\n\t\n\t          if (this.parent.style.width) {\n\t            if (this.parent.style.width.indexOf(\"%\") > 0) {\n\t              this.width = parseFloat(window.getComputedStyle(this.parent, null).getPropertyValue(\"width\").replace(\"px\", \"\"));\n\t            }\n\t          }\n\t          if (this.parent.width) {\n\t            if (this.parent.width.indexOf(\"%\") > 0) {\n\t              this.width = parseFloat(window.getComputedStyle(this.parent, null).getPropertyValue(\"width\").replace(\"px\", \"\"));\n\t            }\n\t          }\n\t\n\t          if (this.parent.style.height) {\n\t            if (this.parent.style.height.indexOf(\"%\") > 0) {\n\t              this.height = parseFloat(window.getComputedStyle(this.parent, null).getPropertyValue(\"height\").replace(\"px\", \"\"));\n\t            }\n\t          }\n\t          if (this.parent.height) {\n\t            if (this.parent.height.indexOf(\"%\") > 0) {\n\t              this.height = parseFloat(window.getComputedStyle(this.parent, null).getPropertyValue(\"height\").replace(\"px\", \"\"));\n\t            }\n\t          }\n\t\n\t          /*  if (this.parent.style.height.indexOf(\"%\")>0 || this.parent.height.indexOf(\"%\")>0) {\n\t              this.height = parseFloat(window.getComputedStyle(this.parent, null).getPropertyValue('height').replace('px',''));\n\t            } */\n\t\n\t          //    this.width = parseFloat(window.getComputedStyle(this.parent, null).getPropertyValue('width').replace('px',''));\n\t          //    this.height = parseFloat(window.getComputedStyle(this.parent, null).getPropertyValue('height').replace('px',''));\n\t          if (!this.width) {\n\t            this.width = settings.defaultSize[0];\n\t            this.parent.style.width = this.width + \"px\";\n\t          }\n\t          if (!this.height) {\n\t            this.height = settings.defaultSize[1];\n\t            this.parent.style.height = this.height + \"px\";\n\t          }\n\t        } else {\n\t          settings.size = settings.defaultSize;\n\t          this.width = settings.size[0];\n\t          this.height = settings.size[1];\n\t        }\n\t\n\t        // event\n\t        if (settings.event) {\n\t          this.event = this.on(\"change\", settings.event);\n\t        } else {\n\t          this.event = false;\n\t        }\n\t\n\t        return settings;\n\t      }\n\t    },\n\t    init: {\n\t      value: function init() {\n\t        this.buildFrame();\n\t        this.buildInterface();\n\t        this.sizeInterface();\n\t        this.attachListeners();\n\t        this.colorInterface();\n\t        this.finalTouches();\n\t      }\n\t    },\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = svg.create(\"svg\");\n\t        this.element.setAttribute(\"width\", this.width);\n\t        this.element.setAttribute(\"height\", this.height);\n\t        this.parent.appendChild(this.element);\n\t      }\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {}\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {}\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {}\n\t    },\n\t    attachListeners: {\n\t      value: function attachListeners() {\n\t        var _this = this;\n\t\n\t        this.interactionTarget = this.interactionTarget || this.element;\n\t\n\t        // Setup interaction\n\t        if (touch.exists) {\n\t          this.interactionTarget.addEventListener(\"touchstart\", function (evt) {\n\t            return _this.preTouch(evt);\n\t          });\n\t          this.interactionTarget.addEventListener(\"touchmove\", function (evt) {\n\t            return _this.preTouchMove(evt);\n\t          });\n\t          this.interactionTarget.addEventListener(\"touchend\", function (evt) {\n\t            return _this.preTouchRelease(evt);\n\t          });\n\t        }\n\t        this.boundPreMove = function (evt) {\n\t          return _this.preMove(evt);\n\t        };\n\t        this.boundPreRelease = function (evt) {\n\t          return _this.preRelease(evt);\n\t        };\n\t        this.interactionTarget.addEventListener(\"mousedown\", function (evt) {\n\t          return _this.preClick(evt);\n\t        });\n\t      }\n\t    },\n\t    finalTouches: {\n\t      value: function finalTouches() {\n\t        this.element.style.cursor = \"pointer\";\n\t      }\n\t    },\n\t    preClick: {\n\t      value: function preClick(e) {\n\t        // 10000 getComputedStyle calls takes 100 ms.\n\t        // .:. one takes about .01ms\n\t        if (this.element instanceof HTMLElement) {\n\t          this.width = window.getComputedStyle(this.element, null).getPropertyValue(\"width\").replace(\"px\", \"\");\n\t        }\n\t        // 10000 getComputedStyle calls takes 40 ms.\n\t        // .:. one takes about .004ms\n\t        this.offset = dom.findPosition(this.element);\n\t        this.mouse = dom.locateMouse(e, this.offset);\n\t        this.clicked = true;\n\t        this.click();\n\t        this.moveEvent = document.addEventListener(\"mousemove\", this.boundPreMove);\n\t        this.releaseEvent = document.addEventListener(\"mouseup\", this.boundPreRelease);\n\t        e.preventDefault();\n\t        e.stopPropagation();\n\t      }\n\t    },\n\t    preMove: {\n\t      value: function preMove(e) {\n\t        var _this = this;\n\t\n\t        if (!this.wait) {\n\t          this.mouse = dom.locateMouse(e, this.offset);\n\t          this.move();\n\t          this.wait = true;\n\t          setTimeout(function () {\n\t            _this.wait = false;\n\t          }, 25);\n\t        }\n\t        e.preventDefault();\n\t        e.stopPropagation();\n\t      }\n\t    },\n\t    preRelease: {\n\t      value: function preRelease(e) {\n\t        this.mouse = dom.locateMouse(e, this.offset);\n\t        this.clicked = false;\n\t        this.release();\n\t        document.removeEventListener(\"mousemove\", this.boundPreMove);\n\t        document.removeEventListener(\"mouseup\", this.boundPreRelease);\n\t        e.preventDefault();\n\t        e.stopPropagation();\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {}\n\t    },\n\t    move: {\n\t      value: function move() {}\n\t    },\n\t    release: {\n\t      value: function release() {}\n\t    },\n\t    preTouch: {\n\t\n\t      /* touch */\n\t\n\t      value: function preTouch(e) {\n\t        if (this.element instanceof HTMLElement) {\n\t          this.width = window.getComputedStyle(this.element, null).getPropertyValue(\"width\").replace(\"px\", \"\");\n\t        }\n\t        this.offset = dom.findPosition(this.element);\n\t        this.mouse = dom.locateTouch(e, this.offset);\n\t        this.clicked = true;\n\t        this.touch(e);\n\t        e.preventDefault();\n\t        e.stopPropagation();\n\t      }\n\t    },\n\t    preTouchMove: {\n\t      value: function preTouchMove(e) {\n\t        if (this.clicked) {\n\t          this.mouse = dom.locateTouch(e, this.offset);\n\t          this.touchMove();\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        }\n\t      }\n\t    },\n\t    preTouchRelease: {\n\t      value: function preTouchRelease(e) {\n\t        this.mouse = dom.locateTouch(e, this.offset);\n\t        this.clicked = false;\n\t        this.touchRelease();\n\t        e.preventDefault();\n\t        e.stopPropagation();\n\t      }\n\t    },\n\t    touch: {\n\t      value: function touch() {\n\t        this.click();\n\t      }\n\t    },\n\t    touchMove: {\n\t      value: function touchMove() {\n\t        this.move();\n\t      }\n\t    },\n\t    touchRelease: {\n\t      value: function touchRelease() {\n\t        this.release();\n\t      }\n\t    },\n\t    resize: {\n\t\n\t      /**\n\t      * Resize the interface\n\t      * @param width {number} New width in pixels\n\t      * @param height {number} New height in pixels\n\t      *\n\t      * @example\n\t      * button.resize(100,100);\n\t      */\n\t\n\t      value: function resize(width, height) {\n\t        this.width = width;\n\t        this.height = height;\n\t        this.parent.style.width = this.width + \"px\";\n\t        this.parent.style.height = this.height + \"px\";\n\t        this.element.setAttribute(\"width\", this.width);\n\t        this.element.setAttribute(\"height\", this.height);\n\t        this.sizeInterface();\n\t      }\n\t    },\n\t    empty: {\n\t      value: function empty() {\n\t        while (this.element.lastChild) {\n\t          this.element.removeChild(this.element.lastChild);\n\t        }\n\t      }\n\t    },\n\t    destroy: {\n\t\n\t      /**\n\t      * Remove the interface from the page and cancel its event listener(s).\n\t      *\n\t      * @example\n\t      * button.destroy());\n\t      */\n\t\n\t      value: function destroy() {\n\t        this.empty();\n\t        this.parent.removeChild(this.element);\n\t        this.removeAllListeners();\n\t        if (this.instrument) {\n\t          delete this.instrument[this.id];\n\t        }\n\t        this.customDestroy();\n\t      }\n\t    },\n\t    customDestroy: {\n\t      value: function customDestroy() {}\n\t    },\n\t    colorize: {\n\t      value: function colorize(type, color) {\n\t        this.colors[type] = color;\n\t        this.colorInterface();\n\t      }\n\t    }\n\t  });\n\t\n\t  return Interface;\n\t})(EventEmitter);\n\t\n\tmodule.exports = Interface;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\texports.findPosition = function (el) {\n\t  var viewportOffset = el.getBoundingClientRect();\n\t  var top = viewportOffset.top + window.scrollY;\n\t  var left = viewportOffset.left + window.scrollX;\n\t  return { top: top, left: left };\n\t};\n\t\n\texports.parseElement = function (parent) {\n\t  if (typeof parent === \"string\") {\n\t    parent = document.getElementById(parent.replace(\"#\", \"\"));\n\t  }\n\t\n\t  if (parent instanceof HTMLElement || parent instanceof SVGElement) {\n\t    return parent;\n\t  } else {\n\t    return \"No valid parent argument\";\n\t  }\n\t};\n\t\n\texports.locateMouse = function (e, offset) {\n\t  return {\n\t    x: e.pageX - offset.left,\n\t    y: e.pageY - offset.top\n\t  };\n\t};\n\t\n\texports.locateTouch = function (e, offset) {\n\t  return {\n\t    x: e.targetTouches.length ? e.targetTouches[0].pageX - offset.left : false,\n\t    y: e.targetTouches.length ? e.targetTouches[0].pageY - offset.top : false\n\t  };\n\t};\n\t\n\texports.SmartCanvas = function (parent) {\n\t  var _this = this;\n\t\n\t  this.element = document.createElement(\"canvas\");\n\t  this.context = this.element.getContext(\"2d\");\n\t  parent.appendChild(this.element);\n\t\n\t  this.resize = function (w, h) {\n\t    _this.element.width = w * 2;\n\t    _this.element.height = h * 2;\n\t    _this.element.style.width = w + \"px\";\n\t    _this.element.style.height = h + \"px\";\n\t  };\n\t};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\texports.isObject = function (obj) {\n\t  if (typeof obj === \"object\" && !Array.isArray(obj) && obj !== null && obj instanceof SVGElement === false && obj instanceof HTMLElement === false) {\n\t    return true;\n\t  } else {\n\t    return false;\n\t  }\n\t};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\texports.exists = \"ontouchstart\" in document.documentElement;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n\t// Copyright Joyent, Inc. and other Node contributors.\n\t//\n\t// Permission is hereby granted, free of charge, to any person obtaining a\n\t// copy of this software and associated documentation files (the\n\t// \"Software\"), to deal in the Software without restriction, including\n\t// without limitation the rights to use, copy, modify, merge, publish,\n\t// distribute, sublicense, and/or sell copies of the Software, and to permit\n\t// persons to whom the Software is furnished to do so, subject to the\n\t// following conditions:\n\t//\n\t// The above copyright notice and this permission notice shall be included\n\t// in all copies or substantial portions of the Software.\n\t//\n\t// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\t// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\t// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n\t// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n\t// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n\t// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n\t// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\t\n\tfunction EventEmitter() {\n\t  this._events = this._events || {};\n\t  this._maxListeners = this._maxListeners || undefined;\n\t}\n\tmodule.exports = EventEmitter;\n\t\n\t// Backwards-compat with node 0.10.x\n\tEventEmitter.EventEmitter = EventEmitter;\n\t\n\tEventEmitter.prototype._events = undefined;\n\tEventEmitter.prototype._maxListeners = undefined;\n\t\n\t// By default EventEmitters will print a warning if more than 10 listeners are\n\t// added to it. This is a useful default which helps finding memory leaks.\n\tEventEmitter.defaultMaxListeners = 10;\n\t\n\t// Obviously not all Emitters should be limited to 10. This function allows\n\t// that to be increased. Set to zero for unlimited.\n\tEventEmitter.prototype.setMaxListeners = function(n) {\n\t  if (!isNumber(n) || n < 0 || isNaN(n))\n\t    throw TypeError('n must be a positive number');\n\t  this._maxListeners = n;\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.emit = function(type) {\n\t  var er, handler, len, args, i, listeners;\n\t\n\t  if (!this._events)\n\t    this._events = {};\n\t\n\t  // If there is no 'error' event listener then throw.\n\t  if (type === 'error') {\n\t    if (!this._events.error ||\n\t        (isObject(this._events.error) && !this._events.error.length)) {\n\t      er = arguments[1];\n\t      if (er instanceof Error) {\n\t        throw er; // Unhandled 'error' event\n\t      } else {\n\t        // At least give some kind of context to the user\n\t        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n\t        err.context = er;\n\t        throw err;\n\t      }\n\t    }\n\t  }\n\t\n\t  handler = this._events[type];\n\t\n\t  if (isUndefined(handler))\n\t    return false;\n\t\n\t  if (isFunction(handler)) {\n\t    switch (arguments.length) {\n\t      // fast cases\n\t      case 1:\n\t        handler.call(this);\n\t        break;\n\t      case 2:\n\t        handler.call(this, arguments[1]);\n\t        break;\n\t      case 3:\n\t        handler.call(this, arguments[1], arguments[2]);\n\t        break;\n\t      // slower\n\t      default:\n\t        args = Array.prototype.slice.call(arguments, 1);\n\t        handler.apply(this, args);\n\t    }\n\t  } else if (isObject(handler)) {\n\t    args = Array.prototype.slice.call(arguments, 1);\n\t    listeners = handler.slice();\n\t    len = listeners.length;\n\t    for (i = 0; i < len; i++)\n\t      listeners[i].apply(this, args);\n\t  }\n\t\n\t  return true;\n\t};\n\t\n\tEventEmitter.prototype.addListener = function(type, listener) {\n\t  var m;\n\t\n\t  if (!isFunction(listener))\n\t    throw TypeError('listener must be a function');\n\t\n\t  if (!this._events)\n\t    this._events = {};\n\t\n\t  // To avoid recursion in the case that type === \"newListener\"! Before\n\t  // adding it to the listeners, first emit \"newListener\".\n\t  if (this._events.newListener)\n\t    this.emit('newListener', type,\n\t              isFunction(listener.listener) ?\n\t              listener.listener : listener);\n\t\n\t  if (!this._events[type])\n\t    // Optimize the case of one listener. Don't need the extra array object.\n\t    this._events[type] = listener;\n\t  else if (isObject(this._events[type]))\n\t    // If we've already got an array, just append.\n\t    this._events[type].push(listener);\n\t  else\n\t    // Adding the second element, need to change to array.\n\t    this._events[type] = [this._events[type], listener];\n\t\n\t  // Check for listener leak\n\t  if (isObject(this._events[type]) && !this._events[type].warned) {\n\t    if (!isUndefined(this._maxListeners)) {\n\t      m = this._maxListeners;\n\t    } else {\n\t      m = EventEmitter.defaultMaxListeners;\n\t    }\n\t\n\t    if (m && m > 0 && this._events[type].length > m) {\n\t      this._events[type].warned = true;\n\t      console.error('(node) warning: possible EventEmitter memory ' +\n\t                    'leak detected. %d listeners added. ' +\n\t                    'Use emitter.setMaxListeners() to increase limit.',\n\t                    this._events[type].length);\n\t      if (typeof console.trace === 'function') {\n\t        // not supported in IE 10\n\t        console.trace();\n\t      }\n\t    }\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\t\n\tEventEmitter.prototype.once = function(type, listener) {\n\t  if (!isFunction(listener))\n\t    throw TypeError('listener must be a function');\n\t\n\t  var fired = false;\n\t\n\t  function g() {\n\t    this.removeListener(type, g);\n\t\n\t    if (!fired) {\n\t      fired = true;\n\t      listener.apply(this, arguments);\n\t    }\n\t  }\n\t\n\t  g.listener = listener;\n\t  this.on(type, g);\n\t\n\t  return this;\n\t};\n\t\n\t// emits a 'removeListener' event iff the listener was removed\n\tEventEmitter.prototype.removeListener = function(type, listener) {\n\t  var list, position, length, i;\n\t\n\t  if (!isFunction(listener))\n\t    throw TypeError('listener must be a function');\n\t\n\t  if (!this._events || !this._events[type])\n\t    return this;\n\t\n\t  list = this._events[type];\n\t  length = list.length;\n\t  position = -1;\n\t\n\t  if (list === listener ||\n\t      (isFunction(list.listener) && list.listener === listener)) {\n\t    delete this._events[type];\n\t    if (this._events.removeListener)\n\t      this.emit('removeListener', type, listener);\n\t\n\t  } else if (isObject(list)) {\n\t    for (i = length; i-- > 0;) {\n\t      if (list[i] === listener ||\n\t          (list[i].listener && list[i].listener === listener)) {\n\t        position = i;\n\t        break;\n\t      }\n\t    }\n\t\n\t    if (position < 0)\n\t      return this;\n\t\n\t    if (list.length === 1) {\n\t      list.length = 0;\n\t      delete this._events[type];\n\t    } else {\n\t      list.splice(position, 1);\n\t    }\n\t\n\t    if (this._events.removeListener)\n\t      this.emit('removeListener', type, listener);\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.removeAllListeners = function(type) {\n\t  var key, listeners;\n\t\n\t  if (!this._events)\n\t    return this;\n\t\n\t  // not listening for removeListener, no need to emit\n\t  if (!this._events.removeListener) {\n\t    if (arguments.length === 0)\n\t      this._events = {};\n\t    else if (this._events[type])\n\t      delete this._events[type];\n\t    return this;\n\t  }\n\t\n\t  // emit removeListener for all listeners on all events\n\t  if (arguments.length === 0) {\n\t    for (key in this._events) {\n\t      if (key === 'removeListener') continue;\n\t      this.removeAllListeners(key);\n\t    }\n\t    this.removeAllListeners('removeListener');\n\t    this._events = {};\n\t    return this;\n\t  }\n\t\n\t  listeners = this._events[type];\n\t\n\t  if (isFunction(listeners)) {\n\t    this.removeListener(type, listeners);\n\t  } else if (listeners) {\n\t    // LIFO order\n\t    while (listeners.length)\n\t      this.removeListener(type, listeners[listeners.length - 1]);\n\t  }\n\t  delete this._events[type];\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.listeners = function(type) {\n\t  var ret;\n\t  if (!this._events || !this._events[type])\n\t    ret = [];\n\t  else if (isFunction(this._events[type]))\n\t    ret = [this._events[type]];\n\t  else\n\t    ret = this._events[type].slice();\n\t  return ret;\n\t};\n\t\n\tEventEmitter.prototype.listenerCount = function(type) {\n\t  if (this._events) {\n\t    var evlistener = this._events[type];\n\t\n\t    if (isFunction(evlistener))\n\t      return 1;\n\t    else if (evlistener)\n\t      return evlistener.length;\n\t  }\n\t  return 0;\n\t};\n\t\n\tEventEmitter.listenerCount = function(emitter, type) {\n\t  return emitter.listenerCount(type);\n\t};\n\t\n\tfunction isFunction(arg) {\n\t  return typeof arg === 'function';\n\t}\n\t\n\tfunction isNumber(arg) {\n\t  return typeof arg === 'number';\n\t}\n\t\n\tfunction isObject(arg) {\n\t  return typeof arg === 'object' && arg !== null;\n\t}\n\t\n\tfunction isUndefined(arg) {\n\t  return arg === void 0;\n\t}\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar math = __webpack_require__(5);\n\t\n\t/**\n\t  Creates a steppable value with minimum, maximum, and step size. This is used in many interfaces to constrict their values to certain ranges.\n\t  @param {number} [min=0] minimum\n\t  @param {number} [max=1] maximum\n\t  @param {number} [step=0]\n\t  @param {number} [value=0] initial value\n\t  @returns {Object} Step\n\t*/\n\t\n\tvar Step = (function () {\n\t  function Step() {\n\t    var min = arguments[0] === undefined ? 0 : arguments[0];\n\t    var max = arguments[1] === undefined ? 1 : arguments[1];\n\t    var step = arguments[2] === undefined ? 0 : arguments[2];\n\t    var value = arguments[3] === undefined ? 0 : arguments[3];\n\t\n\t    _classCallCheck(this, Step);\n\t\n\t    //Object.assign(this,{min,max,step});\n\t    //Cannot use Object.assign because not supported in Safari.\n\t    //I would expect for Babel to take care of this but it is not.\n\t    this.min = min;\n\t    this.max = max;\n\t    this.step = step;\n\t    this.value = value;\n\t    this.changed = false;\n\t    this.oldValue = false;\n\t    this.update(this.value);\n\t  }\n\t\n\t  _createClass(Step, {\n\t    update: {\n\t\n\t      /**\n\t        Update with a new value. The value will be auto-adjusted to fit the min/max/step.\n\t        @param {number} value\n\t      */\n\t\n\t      value: function update(value) {\n\t        if (this.step) {\n\t          // this.value = math.clip(Math.round(value / (this.step)) * this.step, this.min,this.max);\n\t          this.value = math.clip(Math.round((value - this.min) / this.step) * this.step + this.min, this.min, this.max);\n\t        } else {\n\t          this.value = math.clip(value, this.min, this.max);\n\t        }\n\t        if (this.oldValue !== this.value) {\n\t          this.oldValue = this.value;\n\t          this.changed = true;\n\t        } else {\n\t          this.changed = false;\n\t        }\n\t        return this.value;\n\t      }\n\t    },\n\t    updateNormal: {\n\t\n\t      /**\n\t        Update with a normalized value 0-1.\n\t        @param {number} value\n\t      */\n\t\n\t      value: function updateNormal(value) {\n\t        this.value = math.scale(value, 0, 1, this.min, this.max);\n\t        return this.update(this.value);\n\t      }\n\t    },\n\t    normalized: {\n\t\n\t      /**\n\t        Get a normalized version of this.value . Not settable.\n\t      */\n\t\n\t      get: function () {\n\t        return math.normalize(this.value, this.min, this.max);\n\t      }\n\t    }\n\t  });\n\t\n\t  return Step;\n\t})();\n\t\n\tmodule.exports = Step;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\"use strict\";\n\t\n\tvar math = _interopRequire(__webpack_require__(5));\n\t\n\tvar ToggleModel = _interopRequire(__webpack_require__(13));\n\t\n\t/*\n\thow to use :\n\t\n\tdial.interaction = new Handle('radial','relative',this.width,this.height);\n\t// dial.interaction.mode = 'relative'\n\t// dial.interaction.direction = 'radial'\n\t\n\ton click:\n\tdial.interaction.anchor = this.mouse;\n\t\n\ton move:\n\tdial.interaction.update(this.mouse);\n\t\n\tconsole.log( dial.interaction.value ); should be a normalized value.\n\t\n\t*/\n\t\n\t/*\n\t  absolute/relative are property: mode\n\t  radial/vertical/horizontal/2d are property: direction\n\t\n\t  plan :\n\t\n\t  if relative --\n\t  NO on click, get value offset between current value and click value.\n\t  NO on move, use click value - offset\n\t  INSTEAD\n\t  use delta -- bc vertical motion on dial is impossible otherwise\n\t  also allow to set sensitivity\n\t\n\t*/\n\t\n\tvar Handle = exports.Handle = (function () {\n\t  function Handle() {\n\t    var mode = arguments[0] === undefined ? \"absolute\" : arguments[0];\n\t    var direction = arguments[1] === undefined ? \"vertical\" : arguments[1];\n\t    var xbound = arguments[2] === undefined ? [0, 100] : arguments[2];\n\t    var ybound = arguments[3] === undefined ? [0, 100] : arguments[3];\n\t\n\t    _classCallCheck(this, Handle);\n\t\n\t    this.mode = mode;\n\t    this.direction = direction;\n\t    this.previous = 0;\n\t    this.value = 0;\n\t    this.sensitivity = 1;\n\t    this.resize(xbound, ybound);\n\t  }\n\t\n\t  _createClass(Handle, {\n\t    resize: {\n\t      value: function resize(xbound, ybound) {\n\t        this.boundary = {\n\t          min: {\n\t            x: xbound[0],\n\t            y: ybound[0]\n\t          },\n\t          max: {\n\t            x: xbound[1],\n\t            y: ybound[1]\n\t          },\n\t          center: {\n\t            x: (xbound[1] - xbound[0]) / 2 + xbound[0],\n\t            y: (ybound[1] - ybound[0]) / 2 + ybound[0]\n\t          }\n\t        };\n\t      }\n\t    },\n\t    anchor: {\n\t      set: function (mouse) {\n\t        this._anchor = this.convertPositionToValue(mouse);\n\t      },\n\t      get: function () {\n\t        return this._anchor;\n\t      }\n\t    },\n\t    update: {\n\t      value: function update(mouse) {\n\t        if (this.mode === \"relative\") {\n\t          var increment = this.convertPositionToValue(mouse) - this.anchor;\n\t          if (Math.abs(increment) > 0.5) {\n\t            increment = 0;\n\t          }\n\t          this.anchor = mouse;\n\t          this.value = this.value + increment * this.sensitivity;\n\t        } else {\n\t          this.value = this.convertPositionToValue(mouse);\n\t        }\n\t        this.value = math.clip(this.value, 0, 1);\n\t      }\n\t    },\n\t    convertPositionToValue: {\n\t      value: function convertPositionToValue(current) {\n\t        switch (this.direction) {\n\t          case \"radial\":\n\t            var position = math.toPolar(current.x - this.boundary.center.x, current.y - this.boundary.center.y);\n\t            position = position.angle / (Math.PI * 2);\n\t            position = (position - 0.25 + 1) % 1;\n\t            return position;\n\t          case \"vertical\":\n\t            return math.scale(current.y, this.boundary.min.y, this.boundary.max.y, 0, 1);\n\t          case \"horizontal\":\n\t            return math.scale(current.x, this.boundary.min.x, this.boundary.max.x, 0, 1);\n\t        }\n\t      }\n\t    }\n\t  });\n\t\n\t  return Handle;\n\t})();\n\t\n\tvar Button = exports.Button = (function () {\n\t  function Button() {\n\t    var mode = arguments[0] === undefined ? \"button\" : arguments[0];\n\t\n\t    _classCallCheck(this, Button);\n\t\n\t    this.mode = mode;\n\t    this.state = new ToggleModel();\n\t    this.paintbrush = false;\n\t  }\n\t\n\t  _createClass(Button, {\n\t    click: {\n\t      value: function click() {\n\t        switch (this.mode) {\n\t          case \"impulse\":\n\t            this.state.on();\n\t            if (this.timeout) {\n\t              clearTimeout(this.timeout);\n\t            }\n\t            this.timeout = setTimeout(this.state.off.bind(this), 30);\n\t            this.emit(\"change\", this.state);\n\t            break;\n\t          case \"button\":\n\t            this.turnOn();\n\t            this.emit(\"change\", this.state);\n\t            break;\n\t          case \"aftertouch\":\n\t            this.position = {\n\t              x: math.clip(this.mouse.x / this.width, 0, 1),\n\t              y: math.clip(1 - this.mouse.y / this.height, 0, 1)\n\t            };\n\t            this.turnOn();\n\t            this.emit(\"change\", {\n\t              state: this.state,\n\t              x: this.position.x,\n\t              y: this.position.y });\n\t            break;\n\t          case \"toggle\":\n\t            this.flip();\n\t            this.emit(\"change\", this.state);\n\t            break;\n\t        }\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        if (this.mode === \"aftertouch\") {\n\t          this.position = {\n\t            x: math.clip(this.mouse.x / this.width, 0, 1),\n\t            y: math.clip(1 - this.mouse.y / this.height, 0, 1)\n\t          };\n\t          this.emit(\"change\", {\n\t            state: this.state,\n\t            x: this.position.x,\n\t            y: this.position.y });\n\t          this.render();\n\t        }\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {\n\t        switch (this.mode) {\n\t          case \"button\":\n\t            this.turnOff();\n\t            this.emit(\"change\", this.state);\n\t            break;\n\t          case \"aftertouch\":\n\t            this.turnOff();\n\t            this.position = {\n\t              x: this.mouse.x / this.width,\n\t              y: 1 - this.mouse.y / this.height\n\t            };\n\t            this.emit(\"change\", {\n\t              state: this.state,\n\t              x: this.position.x,\n\t              y: this.position.y });\n\t            break;\n\t        }\n\t      }\n\t    }\n\t  });\n\t\n\t  return Button;\n\t})();\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar Toggle = (function () {\n\t  function Toggle(state) {\n\t    _classCallCheck(this, Toggle);\n\t\n\t    this.state = state || false;\n\t  }\n\t\n\t  _createClass(Toggle, {\n\t    flip: {\n\t      value: function flip(state) {\n\t        if (state || state === false) {\n\t          this.state = state;\n\t        } else {\n\t          this.state = !this.state;\n\t        }\n\t      }\n\t    },\n\t    on: {\n\t      value: function on() {\n\t        this.state = true;\n\t      }\n\t    },\n\t    off: {\n\t      value: function off() {\n\t        this.state = false;\n\t      }\n\t    }\n\t  });\n\t\n\t  return Toggle;\n\t})();\n\t\n\tmodule.exports = Toggle;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar svg = __webpack_require__(4);\n\tvar Interface = __webpack_require__(6);\n\tvar Step = __webpack_require__(11);\n\t\n\tvar Interaction = _interopRequireWildcard(__webpack_require__(12));\n\t\n\t/**\n\t* Slider\n\t*\n\t* @description Horizontal or vertical slider with settable interaction modes.\n\t*\n\t* @demo <span nexus-ui=\"slider\" step=0.2></span>\n\t*\n\t* @example\n\t* var slider = new Nexus.Slider('#target')\n\t*\n\t* @example\n\t* var slider = new Nexus.Slider('#target',{\n\t*     'size': [120,20],\n\t*     'mode': 'relative',  // 'relative' or 'absolute'\n\t*     'min': 0,\n\t*     'max': 1,\n\t*     'step': 0,\n\t*     'value': 0\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires when the interface's value changes. <br>\n\t* Event data: <i>number</i> The number value of the interface.\n\t*\n\t* @outputexample\n\t* slider.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*\n\t*/\n\t\n\tvar Slider = (function (_Interface) {\n\t  function Slider() {\n\t    _classCallCheck(this, Slider);\n\t\n\t    var options = [\"min\", \"max\", \"value\"];\n\t\n\t    var defaults = {\n\t      size: [120, 20],\n\t      mode: \"relative\", // 'relative' or 'absolute'\n\t      min: 0,\n\t      max: 1,\n\t      step: 0,\n\t      value: 0\n\t    };\n\t\n\t    _get(Object.getPrototypeOf(Slider.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\t\n\t    this.orientation = \"vertical\"; // This will change automatically to 'horizontal'if the interface is wider than it is tall.\n\t\n\t    this._value = new Step(this.settings.min, this.settings.max, this.settings.step, this.settings.value);\n\t\n\t    this.position = new Interaction.Handle(this.settings.mode, this.orientation, [0, this.width], [this.height, 0]);\n\t    this.position.value = this._value.normalized;\n\t\n\t    this.init();\n\t\n\t    this.position.direction = this.orientation;\n\t\n\t    this.emit(\"change\", this.value);\n\t  }\n\t\n\t  _inherits(Slider, _Interface);\n\t\n\t  _createClass(Slider, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t\n\t        this.bar = svg.create(\"rect\");\n\t        this.fillbar = svg.create(\"rect\");\n\t        this.knob = svg.create(\"circle\");\n\t\n\t        this.element.appendChild(this.bar);\n\t        this.element.appendChild(this.fillbar);\n\t        this.element.appendChild(this.knob);\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t\n\t        if (this.width < this.height) {\n\t          this.orientation = \"vertical\";\n\t        } else {\n\t          this.orientation = \"horizontal\";\n\t        }\n\t\n\t        if (this.position) {\n\t          this.position.resize([0, this.width], [this.height, 0]);\n\t        }\n\t\n\t        var x = undefined,\n\t            y = undefined,\n\t            w = undefined,\n\t            h = undefined,\n\t            barOffset = undefined,\n\t            cornerRadius = undefined;\n\t        this.knobData = {\n\t          level: 0,\n\t          r: 0\n\t        };\n\t\n\t        if (this.orientation === \"vertical\") {\n\t          this.thickness = this.width / 2;\n\t          x = this.width / 2;\n\t          y = 0;\n\t          w = this.thickness;\n\t          h = this.height;\n\t          this.knobData.r = this.thickness * 0.8;\n\t          this.knobData.level = h - this.knobData.r - this.normalized * (h - this.knobData.r * 2);\n\t          barOffset = \"translate(\" + this.thickness * -1 / 2 + \",0)\";\n\t          cornerRadius = w / 2;\n\t        } else {\n\t          this.thickness = this.height / 2;\n\t          x = 0;\n\t          y = this.height / 2;\n\t          w = this.width;\n\t          h = this.thickness;\n\t          this.knobData.r = this.thickness * 0.8;\n\t          this.knobData.level = this.normalized * (w - this.knobData.r * 2) + this.knobData.r;\n\t          barOffset = \"translate(0,\" + this.thickness * -1 / 2 + \")\";\n\t          cornerRadius = h / 2;\n\t        }\n\t\n\t        this.bar.setAttribute(\"x\", x);\n\t        this.bar.setAttribute(\"y\", y);\n\t        this.bar.setAttribute(\"transform\", barOffset);\n\t        this.bar.setAttribute(\"rx\", cornerRadius); // corner radius\n\t        this.bar.setAttribute(\"ry\", cornerRadius);\n\t        this.bar.setAttribute(\"width\", w);\n\t        this.bar.setAttribute(\"height\", h);\n\t\n\t        if (this.orientation === \"vertical\") {\n\t          this.fillbar.setAttribute(\"x\", x);\n\t          this.fillbar.setAttribute(\"y\", this.knobData.level);\n\t          this.fillbar.setAttribute(\"width\", w);\n\t          this.fillbar.setAttribute(\"height\", h - this.knobData.level);\n\t        } else {\n\t          this.fillbar.setAttribute(\"x\", 0);\n\t          this.fillbar.setAttribute(\"y\", y);\n\t          this.fillbar.setAttribute(\"width\", this.knobData.level);\n\t          this.fillbar.setAttribute(\"height\", h);\n\t        }\n\t        this.fillbar.setAttribute(\"transform\", barOffset);\n\t        this.fillbar.setAttribute(\"rx\", cornerRadius);\n\t        this.fillbar.setAttribute(\"ry\", cornerRadius);\n\t\n\t        if (this.orientation === \"vertical\") {\n\t          this.knob.setAttribute(\"cx\", x);\n\t          this.knob.setAttribute(\"cy\", this.knobData.level);\n\t        } else {\n\t          this.knob.setAttribute(\"cx\", this.knobData.level);\n\t          this.knob.setAttribute(\"cy\", y);\n\t        }\n\t        this.knob.setAttribute(\"r\", this.knobData.r);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.bar.setAttribute(\"fill\", this.colors.fill);\n\t        this.fillbar.setAttribute(\"fill\", this.colors.accent);\n\t        this.knob.setAttribute(\"fill\", this.colors.accent);\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (!this.clicked) {\n\t          this.knobData.r = this.thickness * 0.75;\n\t        }\n\t        this.knob.setAttribute(\"r\", this.knobData.r);\n\t\n\t        if (this.orientation === \"vertical\") {\n\t          this.knobData.level = this.knobData.r + this._value.normalized * (this.height - this.knobData.r * 2);\n\t          this.knob.setAttribute(\"cy\", this.height - this.knobData.level);\n\t          this.fillbar.setAttribute(\"y\", this.height - this.knobData.level);\n\t          this.fillbar.setAttribute(\"height\", this.knobData.level);\n\t        } else {\n\t          this.knobData.level = this._value.normalized * (this.width - this.knobData.r * 2) + this.knobData.r;\n\t          this.knob.setAttribute(\"cx\", this.knobData.level);\n\t          this.fillbar.setAttribute(\"x\", 0);\n\t          this.fillbar.setAttribute(\"width\", this.knobData.level);\n\t        }\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.knobData.r = this.thickness * 0.9;\n\t        this.position.anchor = this.mouse;\n\t        this.move();\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        if (this.clicked) {\n\t          this.position.update(this.mouse);\n\t          this._value.updateNormal(this.position.value);\n\t          this.emit(\"change\", this._value.value);\n\t          this.render();\n\t        }\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {\n\t        this.render();\n\t      }\n\t    },\n\t    normalized: {\n\t      get: function () {\n\t        return this._value.normalized;\n\t      }\n\t    },\n\t    value: {\n\t\n\t      /**\n\t      The slider's current value. If set manually, will update the interface and trigger the output event.\n\t      @type {number}\n\t      @example slider.value = 10;\n\t      */\n\t\n\t      get: function () {\n\t        return this._value.value;\n\t      },\n\t      set: function (v) {\n\t        this._value.update(v);\n\t        this.position.value = this._value.normalized;\n\t        this.emit(\"change\", this._value.value);\n\t        this.render();\n\t      }\n\t    },\n\t    min: {\n\t\n\t      /**\n\t      Lower limit of the sliders's output range\n\t      @type {number}\n\t      @example slider.min = 1000;\n\t      */\n\t\n\t      get: function () {\n\t        return this._value.min;\n\t      },\n\t      set: function (v) {\n\t        this._value.min = v;\n\t      }\n\t    },\n\t    max: {\n\t\n\t      /**\n\t      Upper limit of the slider's output range\n\t      @type {number}\n\t      @example slider.max = 1000;\n\t      */\n\t\n\t      get: function () {\n\t        return this._value.max;\n\t      },\n\t      set: function (v) {\n\t        this._value.max = v;\n\t      }\n\t    },\n\t    step: {\n\t\n\t      /**\n\t      The increment that the slider's value changes by.\n\t      @type {number}\n\t      @example slider.step = 5;\n\t      */\n\t\n\t      get: function () {\n\t        return this._value.step;\n\t      },\n\t      set: function (v) {\n\t        this._value.step = v;\n\t      }\n\t    },\n\t    mode: {\n\t\n\t      /**\n\t      Absolute mode (slider's value jumps to mouse click position) or relative mode (mouse drag changes value relative to its current position). Default: \"relative\".\n\t      @type {string}\n\t      @example slider.mode = \"relative\";\n\t      */\n\t\n\t      get: function () {\n\t        return this.position.mode;\n\t      },\n\t      set: function (v) {\n\t        this.position.mode = v;\n\t      }\n\t    }\n\t  });\n\t\n\t  return Slider;\n\t})(Interface);\n\t\n\tmodule.exports = Slider;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar svg = __webpack_require__(4);\n\tvar ToggleModel = __webpack_require__(13);\n\tvar Interface = __webpack_require__(6);\n\t\n\t/**\n\t* Toggle\n\t*\n\t* @description Binary switch\n\t*\n\t* @demo <span nexus-ui=\"toggle\"></span>\n\t*\n\t* @example\n\t* var toggle = new Nexus.Toggle('#target')\n\t*\n\t* @example\n\t* var toggle = new Nexus.Toggle('#target',{\n\t*     'size': [40,20],\n\t*     'state': false\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* Parameter: The boolean state of the interface.\n\t*\n\t* @outputexample\n\t* toggle.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*\n\t*/\n\t\n\tvar Toggle = (function (_Interface) {\n\t  function Toggle() {\n\t    _classCallCheck(this, Toggle);\n\t\n\t    var options = [\"value\"];\n\t\n\t    var defaults = {\n\t      size: [40, 20],\n\t      target: false,\n\t      state: false\n\t    };\n\t\n\t    _get(Object.getPrototypeOf(Toggle.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\t\n\t    this._state = new ToggleModel(this.settings.state);\n\t\n\t    this.init();\n\t  }\n\t\n\t  _inherits(Toggle, _Interface);\n\t\n\t  _createClass(Toggle, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t\n\t        this.bar = svg.create(\"rect\");\n\t        this.knob = svg.create(\"circle\");\n\t        this.element.appendChild(this.bar);\n\t        this.element.appendChild(this.knob);\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t\n\t        if (this.height < this.width / 2) {\n\t          this.knobSize = this.height / 2;\n\t        } else {\n\t          this.knobSize = this.width / 4;\n\t        }\n\t\n\t        this.bar.setAttribute(\"x\", this.width / 2 - this.knobSize * 1.5);\n\t        this.bar.setAttribute(\"y\", this.height / 2 - this.knobSize / 2);\n\t        this.bar.setAttribute(\"rx\", this.knobSize / 2);\n\t        this.bar.setAttribute(\"ry\", this.knobSize / 2);\n\t        this.bar.setAttribute(\"width\", this.knobSize * 3);\n\t        this.bar.setAttribute(\"height\", this.knobSize);\n\t\n\t        this.knob.setAttribute(\"cx\", this.width / 2 - this.knobSize);\n\t        this.knob.setAttribute(\"cy\", this.height / 2);\n\t        this.knob.setAttribute(\"r\", this.knobSize);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.knob.setAttribute(\"fill\", this.colors.accent);\n\t        this.render();\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (!this.state) {\n\t          this.knob.setAttribute(\"cx\", this.width / 2 - this.knobSize);\n\t          this.bar.setAttribute(\"fill\", this.colors.fill);\n\t        } else {\n\t          this.knob.setAttribute(\"cx\", this.width / 2 + this.knobSize);\n\t          this.bar.setAttribute(\"fill\", this.colors.accent);\n\t        }\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.flip();\n\t        this.render();\n\t        this.emit(\"change\", this.state);\n\t      }\n\t    },\n\t    state: {\n\t\n\t      /**\n\t      Whether the toggle is currently on or off. Setting this property will update the toggle interface and trigger the output event.\n\t      @type {boolean}\n\t      @example toggle.state = false;\n\t      */\n\t\n\t      get: function () {\n\t        return this._state.state;\n\t      },\n\t      set: function (value) {\n\t        this._state.flip(value);\n\t        this.emit(\"change\", this.state);\n\t        this.render();\n\t      }\n\t    },\n\t    flip: {\n\t\n\t      /**\n\t      * Switch the toggle state to its opposite state\n\t      * @example\n\t      * toggle.flip();\n\t      */\n\t\n\t      value: function flip() {\n\t        this._state.flip();\n\t        this.render();\n\t      }\n\t    }\n\t  });\n\t\n\t  return Toggle;\n\t})(Interface);\n\t\n\tmodule.exports = Toggle;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar svg = __webpack_require__(4);\n\tvar ButtonTemplate = __webpack_require__(17);\n\t\n\t/**\n\t* Button\n\t*\n\t* @description Circular button with optional aftertouch.\n\t*\n\t* @demo <span nexus-ui=\"button\"></span>\n\t*\n\t* @example\n\t* var button = new Nexus.Button('#target')\n\t*\n\t* @example\n\t* var button = new Nexus.Button('#target',{\n\t*   'size': [80,80],\n\t*   'mode': 'aftertouch',\n\t*   'state': false\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* In <b>button mode</b>, <b>toggle mode</b>, and <b>impulse mode</b>, the output data is a boolean describing the state of the button.<br>\n\t* In <b>aftertouch mode</b>, the output data is an object containing x (0-1) and y (0-1) positions of aftertouch.\n\t*\n\t* @outputexample\n\t* button.on('change',function(v) {\n\t*   // v is the value of the button\n\t*   console.log(v);\n\t* })\n\t*\n\t*/\n\t\n\tvar Button = (function (_ButtonTemplate) {\n\t  function Button() {\n\t    _classCallCheck(this, Button);\n\t\n\t    var options = [\"mode\"];\n\t\n\t    var defaults = {\n\t      size: [80, 80],\n\t      mode: \"aftertouch\", // button, aftertouch, impulse, toggle\n\t      state: false\n\t    };\n\t\n\t    _get(Object.getPrototypeOf(Button.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\t\n\t    /**\n\t    Interaction mode\n\t    @type {string}\n\t    @example button.mode = 'toggle';\n\t    */\n\t    this.mode = this.settings.mode;\n\t\n\t    this.init();\n\t    this.render();\n\t  }\n\t\n\t  _inherits(Button, _ButtonTemplate);\n\t\n\t  _createClass(Button, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t        this.pad = svg.create(\"circle\");\n\t        this.element.appendChild(this.pad);\n\t\n\t        this.interactionTarget = this.pad;\n\t\n\t        // only used if in 'aftertouch' mode\n\t        this.defs = svg.create(\"defs\");\n\t        this.element.appendChild(this.defs);\n\t\n\t        this.gradient = svg.radialGradient(this.defs, 2);\n\t\n\t        this.gradient.stops[0].setAttribute(\"offset\", \"30%\");\n\t\n\t        this.gradient.stops[1].setAttribute(\"offset\", \"100%\");\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t\n\t        this.pad.setAttribute(\"cx\", this.width / 2);\n\t        this.pad.setAttribute(\"cy\", this.height / 2);\n\t        this.pad.setAttribute(\"r\", Math.min(this.width, this.height) / 2 - this.width / 40);\n\t        this.pad.setAttribute(\"stroke-width\", this.width / 20);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t\n\t        this.gradient.stops[0].setAttribute(\"stop-color\", this.colors.accent);\n\t        this.gradient.stops[1].setAttribute(\"stop-color\", this.colors.fill);\n\t        this.render();\n\t      }\n\t    },\n\t    render: {\n\t\n\t      /*\n\t      * Update the visual interface using its current state\n\t      *\n\t      * @example\n\t      * button.render();\n\t      */\n\t\n\t      value: function render() {\n\t        if (!this.state) {\n\t          this.pad.setAttribute(\"fill\", this.colors.fill);\n\t          this.pad.setAttribute(\"stroke\", this.colors.mediumLight);\n\t        } else {\n\t          if (this.mode === \"aftertouch\") {\n\t            this.pad.setAttribute(\"stroke\", \"url(#\" + this.gradient.id + \")\");\n\t            this.gradient.element.setAttribute(\"cx\", this.position.x * 100 + \"%\");\n\t            this.gradient.element.setAttribute(\"cy\", (1 - this.position.y) * 100 + \"%\");\n\t          } else {\n\t            this.pad.setAttribute(\"stroke\", this.colors.accent);\n\t          }\n\t          this.pad.setAttribute(\"fill\", this.colors.accent);\n\t        }\n\t      }\n\t    }\n\t  });\n\t\n\t  return Button;\n\t})(ButtonTemplate);\n\t\n\tmodule.exports = Button;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar svg = __webpack_require__(4);\n\tvar math = __webpack_require__(5);\n\tvar ToggleModel = __webpack_require__(13);\n\tvar Interface = __webpack_require__(6);\n\t\n\t/**\n\tButton Template\n\t*/\n\t\n\tvar ButtonTemplate = (function (_Interface) {\n\t  function ButtonTemplate(args, options, defaults) {\n\t    _classCallCheck(this, ButtonTemplate);\n\t\n\t    _get(Object.getPrototypeOf(ButtonTemplate.prototype), \"constructor\", this).call(this, args, options, defaults);\n\t\n\t    this.mode = this.settings.mode || \"button\";\n\t\n\t    this.position = {\n\t      x: 0,\n\t      y: 0\n\t    };\n\t\n\t    this._state = new ToggleModel(this.settings.state);\n\t  }\n\t\n\t  _inherits(ButtonTemplate, _Interface);\n\t\n\t  _createClass(ButtonTemplate, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t        this.pad = svg.create(\"circle\");\n\t        this.pad.setAttribute(\"fill\", \"#d18\");\n\t        this.pad.setAttribute(\"stroke\", \"#d18\");\n\t        this.pad.setAttribute(\"stroke-width\", 4);\n\t\n\t        this.element.appendChild(this.pad);\n\t\n\t        this.interactionTarget = this.pad;\n\t\n\t        this.sizeInterface();\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t        this.pad.setAttribute(\"cx\", this.width / 2);\n\t        this.pad.setAttribute(\"cy\", this.height / 2);\n\t        this.pad.setAttribute(\"r\", Math.min(this.width, this.height) / 2 - 2);\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (!this.state) {\n\t          this.pad.setAttribute(\"fill\", this.colors.fill);\n\t          this.pad.setAttribute(\"stroke\", this.colors.mediumLight);\n\t        } else {\n\t          this.pad.setAttribute(\"fill\", this.colors.accent);\n\t          this.pad.setAttribute(\"stroke\", this.colors.accent);\n\t        }\n\t      }\n\t    },\n\t    down: {\n\t      value: function down(paintbrush) {\n\t        switch (this.mode) {\n\t          case \"impulse\":\n\t            this.turnOn();\n\t            if (this.timeout) {\n\t              clearTimeout(this.timeout);\n\t            }\n\t            this.timeout = setTimeout(this.turnOff.bind(this), 30);\n\t            //    this.emit('change',this.state);\n\t            break;\n\t          case \"button\":\n\t            this.turnOn();\n\t            //    this.emit('change',this.state);\n\t            break;\n\t          case \"aftertouch\":\n\t            this.position = {\n\t              x: math.clip(this.mouse.x / this.width, 0, 1),\n\t              y: math.clip(1 - this.mouse.y / this.height, 0, 1)\n\t            };\n\t            this.turnOn();\n\t            //    this.emit('change',{\n\t            //      state: this.state,\n\t            //      x: this.position.x,\n\t            //      y: this.position.y,\n\t            //    });\n\t            break;\n\t          case \"toggle\":\n\t            this.flip(paintbrush);\n\t            //    this.emit('change',this.state);\n\t            break;\n\t        }\n\t      }\n\t    },\n\t    bend: {\n\t      value: function bend(mouse) {\n\t        if (this.mode === \"aftertouch\") {\n\t          this.mouse = mouse || this.mouse;\n\t          this.position = {\n\t            x: math.clip(this.mouse.x / this.width, 0, 1),\n\t            y: math.clip(1 - this.mouse.y / this.height, 0, 1)\n\t          };\n\t          this.emit(\"change\", {\n\t            state: this.state,\n\t            x: this.position.x,\n\t            y: this.position.y });\n\t          this.render();\n\t        }\n\t      }\n\t    },\n\t    up: {\n\t      value: function up() {\n\t        switch (this.mode) {\n\t          case \"button\":\n\t            this.turnOff();\n\t            //  this.emit('change',this.state);\n\t            break;\n\t          case \"aftertouch\":\n\t            this.turnOff();\n\t            this.position = {\n\t              x: math.clip(this.mouse.x / this.width, 0, 1),\n\t              y: math.clip(1 - this.mouse.y / this.height, 0, 1)\n\t            };\n\t            //  this.emit('change',{\n\t            //    state: this.state,\n\t            //    x: this.position.x,\n\t            //    y: this.position.y,\n\t            //  });\n\t            break;\n\t        }\n\t      }\n\t    },\n\t    click: {\n\t\n\t      /* overwritable interaction handlers */\n\t\n\t      value: function click() {\n\t        this.down();\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        this.bend();\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {\n\t        this.up();\n\t      }\n\t    },\n\t    state: {\n\t\n\t      /**\n\t      Whether the button is on (pressed) or off (not pressed)\n\t      @type {boolean}\n\t      @example button.state = true;\n\t      */\n\t\n\t      get: function () {\n\t        return this._state.state;\n\t      },\n\t      set: function (value) {\n\t        this._state.flip(value);\n\t        if (this.mode === \"aftertouch\") {\n\t          this.emit(\"change\", {\n\t            state: this.state,\n\t            x: this.position.x,\n\t            y: this.position.y });\n\t        } else {\n\t          this.emit(\"change\", this.state);\n\t        }\n\t        this.render();\n\t      }\n\t    },\n\t    flip: {\n\t\n\t      /**\n\t      Change the button to its alternate state (off=>on, on=>off), or flip it to a specified state.\n\t      @param value {boolean} (Optional) State to flip to.\n\t      @example button.flip();\n\t      */\n\t\n\t      value: function flip(value) {\n\t        this._state.flip(value);\n\t        if (this.mode === \"aftertouch\") {\n\t          this.emit(\"change\", {\n\t            state: this.state,\n\t            x: this.position.x,\n\t            y: this.position.y });\n\t        } else {\n\t          this.emit(\"change\", this.state);\n\t        }\n\t        this.render();\n\t      }\n\t    },\n\t    turnOn: {\n\t\n\t      /**\n\t      Turn the button's state to true.\n\t      @example button.turnOn();\n\t      */\n\t\n\t      value: function turnOn(emitting) {\n\t        this._state.on();\n\t        if (emitting !== false) {\n\t          if (this.mode === \"aftertouch\") {\n\t            this.emit(\"change\", {\n\t              state: this.state,\n\t              x: this.position.x,\n\t              y: this.position.y });\n\t          } else {\n\t            this.emit(\"change\", this.state);\n\t          }\n\t        }\n\t        this.render();\n\t      }\n\t    },\n\t    turnOff: {\n\t\n\t      /**\n\t      Turn the button's state to false.\n\t      @example button.turnOff();\n\t      */\n\t\n\t      value: function turnOff(emitting) {\n\t        this._state.off();\n\t        if (emitting !== false) {\n\t          if (this.mode === \"aftertouch\") {\n\t            this.emit(\"change\", {\n\t              state: this.state,\n\t              x: this.position.x,\n\t              y: this.position.y });\n\t          } else {\n\t            this.emit(\"change\", this.state);\n\t          }\n\t        }\n\t        this.render();\n\t      }\n\t    }\n\t  });\n\t\n\t  return ButtonTemplate;\n\t})(Interface);\n\t\n\tmodule.exports = ButtonTemplate;\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar ButtonTemplate = __webpack_require__(17);\n\t\n\t/**\n\t* TextButton\n\t*\n\t* @description Text button\n\t*\n\t* @demo <span nexus-ui=\"textButton\"></span>\n\t*\n\t* @example\n\t* var textbutton = new Nexus.TextButton('#target')\n\t*\n\t* @example\n\t* var textbutton = new Nexus.TextButton('#target',{\n\t*     'size': [150,50],\n\t*     'state': false,\n\t*     'text': 'Play',\n\t*     'alternate': false\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* The event data is a <i>string</i> of the text on the button at the moment it was clicked.\n\t*\n\t* @outputexample\n\t* textbutton.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*/\n\t\n\tvar TextButton = (function (_ButtonTemplate) {\n\t  function TextButton() {\n\t    _classCallCheck(this, TextButton);\n\t\n\t    var options = [\"value\"];\n\t\n\t    var defaults = {\n\t      size: [150, 50],\n\t      state: false,\n\t      text: \"Play\",\n\t      alternate: false\n\t    };\n\t\n\t    _get(Object.getPrototypeOf(TextButton.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\t\n\t    this._text = this.settings.text;\n\t    this._alternateText = this.settings.alternate;\n\t\n\t    this.init();\n\t    this.render();\n\t\n\t    this.state = this.settings.state;\n\t  }\n\t\n\t  _inherits(TextButton, _ButtonTemplate);\n\t\n\t  _createClass(TextButton, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t\n\t        this.element = document.createElement(\"div\");\n\t        this.parent.appendChild(this.element);\n\t\n\t        this.textElement = document.createElement(\"div\");\n\t        this.textElement.innerHTML = this._text;\n\t        this.element.appendChild(this.textElement);\n\t      }\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {}\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.element.style.color = this.colors.dark;\n\t        this.render();\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t        var textsize = this.height / 3;\n\t        var textsize2 = this.width / (this._text.length + 2);\n\t        textsize = Math.min(textsize, textsize2);\n\t        if (this.alternateText) {\n\t          var textsize3 = this.width / (this.alternateText.length + 2);\n\t          textsize = Math.min(textsize, textsize3);\n\t        }\n\t        var styles = \"width: \" + this.width + \"px;\";\n\t        styles += \"height: \" + this.height + \"px;\";\n\t        styles += \"padding: \" + (this.height - textsize) / 2 + \"px 0px;\";\n\t        styles += \"box-sizing: border-box;\";\n\t        styles += \"text-align: center;\";\n\t        styles += \"font-family: inherit;\";\n\t        styles += \"font-weight: 700;\";\n\t        styles += \"opacity: 1;\";\n\t        styles += \"font-size:\" + textsize + \"px;\";\n\t        this.textElement.style.cssText = styles;\n\t        this.render();\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (!this.state) {\n\t          this.element.style.backgroundColor = this.colors.fill;\n\t          this.textElement.style.color = this.colors.dark;\n\t          this.textElement.innerHTML = this._text;\n\t        } else {\n\t          this.element.style.backgroundColor = this.colors.accent;\n\t          this.textElement.style.color = this.colors.fill;\n\t          if (this.alternateText) {\n\t            this.textElement.innerHTML = this._alternateText;\n\t          } else {\n\t            this.textElement.innerHTML = this._text;\n\t          }\n\t        }\n\t      }\n\t    },\n\t    alternateText: {\n\t\n\t      /**\n\t      The text to display when the button is in its \"on\" state. If set, this puts the button in \"toggle\" mode.\n\t      @type {String}\n\t      */\n\t\n\t      get: function () {\n\t        return this._alternateText;\n\t      },\n\t      set: function (text) {\n\t        if (text) {\n\t          this.mode = \"toggle\";\n\t        } else {\n\t          this.mode = \"button\";\n\t        }\n\t        this._alternateText = text;\n\t        this.render();\n\t      }\n\t    },\n\t    text: {\n\t\n\t      /**\n\t      The text to display. (If .alternateText exists, then this .text will only be displayed when the button is in its \"off\" state.)\n\t      @type {String}\n\t      */\n\t\n\t      get: function () {\n\t        return this._text;\n\t      },\n\t      set: function (text) {\n\t        this._text = text;\n\t        this.sizeInterface();\n\t        this.render();\n\t      }\n\t    }\n\t  });\n\t\n\t  return TextButton;\n\t})(ButtonTemplate);\n\t\n\tmodule.exports = TextButton;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\t//let svg = require('../util/svg');\n\tvar Interface = __webpack_require__(6);\n\tvar Button = __webpack_require__(16);\n\t\n\t/**\n\t* RadioButton\n\t*\n\t* @description An array of buttons. By default, selecting one button will deselect all other buttons, but this can be customized using the API below.\n\t*\n\t* @demo <div nexus-ui=\"RadioButton\"></div>\n\t*\n\t* @example\n\t* var radiobutton = new Nexus.RadioButton('#target')\n\t*\n\t* @example\n\t* var radiobutton = new Nexus.RadioButton('#target',{\n\t*   'size': [120,25],\n\t*   'numberOfButtons': 4,\n\t*   'active': -1\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* The event data an <i>integer</i>, the index of the button that is currently on. If no button is selected, the value will be -1.\n\t*\n\t* @outputexample\n\t* radiobutton.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*/\n\t\n\tvar RadioButton = (function (_Interface) {\n\t  function RadioButton() {\n\t    _classCallCheck(this, RadioButton);\n\t\n\t    var options = [\"value\"];\n\t\n\t    var defaults = {\n\t      size: [120, 25],\n\t      numberOfButtons: 4,\n\t      active: -1\n\t    };\n\t\n\t    _get(Object.getPrototypeOf(RadioButton.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\t\n\t    this.buttons = [];\n\t    this._numberOfButtons = this.settings.numberOfButtons;\n\t    this.active = this.settings.active;\n\t\n\t    this.init();\n\t    this.render();\n\t  }\n\t\n\t  _inherits(RadioButton, _Interface);\n\t\n\t  _createClass(RadioButton, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = document.createElement(\"div\");\n\t        this.parent.appendChild(this.element);\n\t      }\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t\n\t        for (var i = 0; i < this._numberOfButtons; i++) {\n\t          var container = document.createElement(\"span\");\n\t\n\t          var button = new Button(container, {\n\t            mode: \"toggle\",\n\t            component: true }, this.update.bind(this, i));\n\t\n\t          this.buttons.push(button);\n\t          this.element.appendChild(container);\n\t        }\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t\n\t        var buttonWidth = this.width / this._numberOfButtons;\n\t        var buttonHeight = this.height;\n\t\n\t        for (var i = 0; i < this._numberOfButtons; i++) {\n\t          this.buttons[i].resize(buttonWidth, buttonHeight);\n\t        }\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        for (var i = 0; i < this._numberOfButtons; i++) {\n\t          this.buttons[i].colors = this.colors;\n\t          this.buttons[i].render();\n\t        }\n\t      }\n\t    },\n\t    update: {\n\t      value: function update(index) {\n\t        if (this.buttons[index].state) {\n\t          this.select(index);\n\t        } else {\n\t          this.deselect();\n\t        }\n\t        //  this.render();\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        for (var i = 0; i < this.buttons.length; i++) {\n\t          if (i === this.active) {\n\t            this.buttons[i].turnOn(false);\n\t          } else {\n\t            this.buttons[i].turnOff(false);\n\t          }\n\t        }\n\t      }\n\t    },\n\t    select: {\n\t\n\t      /**\n\t      Select one button and deselect all other buttons.\n\t      @param index {number} The index of the button to select\n\t      */\n\t\n\t      value: function select(index) {\n\t        if (index >= 0 && index < this.buttons.length) {\n\t          this.active = index;\n\t          this.emit(\"change\", this.active);\n\t          this.render();\n\t        }\n\t      }\n\t    },\n\t    deselect: {\n\t\n\t      /**\n\t      Deselect all buttons.\n\t      */\n\t\n\t      value: function deselect() {\n\t        this.active = -1;\n\t        this.emit(\"change\", this.active);\n\t        this.render();\n\t      }\n\t    },\n\t    numberOfButtons: {\n\t      get: function () {\n\t        return this._numberOfButtons;\n\t      },\n\t\n\t      /**\n\t       * Update how many buttons are in the interface\n\t       * @param  {number} buttons How many buttons are in the interface\n\t       */\n\t      set: function (buttons) {\n\t        this._numberOfButtons = buttons;\n\t        for (var i = 0; i < this.buttons.length; i++) {\n\t          this.buttons[i].destroy();\n\t        }\n\t        this.buttons = [];\n\t        //  for (let i=0;i<this.buttons.length;i++) {\n\t        //    this.buttons[i].destroy();\n\t        //  }\n\t        this.empty();\n\t        this.buildInterface();\n\t      }\n\t    }\n\t  });\n\t\n\t  return RadioButton;\n\t})(Interface);\n\t\n\tmodule.exports = RadioButton;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar Interface = __webpack_require__(6);\n\tvar Step = __webpack_require__(11);\n\tvar math = __webpack_require__(5);\n\t\n\t/**\n\t* Number\n\t*\n\t* @description Number interface which is controllable by dragging or typing.\n\t*\n\t* @demo <span nexus-ui=\"number\"></span>\n\t*\n\t* @example\n\t* var number = new Nexus.Number('#target')\n\t*\n\t* @example\n\t* var number = new Nexus.Number('#target',{\n\t*   'size': [60,30],\n\t*   'value': 0,\n\t*   'min': 0,\n\t*   'max': 20000,\n\t*   'step': 1\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* The event data is the number value of the interface.\n\t*\n\t* @outputexample\n\t* number.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*\n\t*/\n\t\n\tvar Number = (function (_Interface) {\n\t  function Number() {\n\t    _classCallCheck(this, Number);\n\t\n\t    var options = [\"value\"];\n\t\n\t    var defaults = {\n\t      size: [60, 30],\n\t      value: 0,\n\t      min: 0,\n\t      max: 20000,\n\t      step: 1\n\t    };\n\t\n\t    _get(Object.getPrototypeOf(Number.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\t\n\t    this._value = new Step(this.settings.min, this.settings.max, this.settings.step, this.settings.value);\n\t\n\t    /*\n\t    Default: 2. How many decimal places to clip the number's visual rendering to. This does not affect number's actual value output -- for that, set the step property to .01, .1, or 1.\n\t    @type {number}\n\t    @example number.decimalPlaces = 2;\n\t    */\n\t    this.decimalPlaces = 2;\n\t    this.actual = 0;\n\t\n\t    this.max = this._value.max;\n\t\n\t    this.min = this._value.min;\n\t\n\t    this.step = this._value.step;\n\t\n\t    this.init();\n\t    this.render();\n\t  }\n\t\n\t  _inherits(Number, _Interface);\n\t\n\t  _createClass(Number, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = document.createElement(\"input\");\n\t        this.element.type = \"text\";\n\t\n\t        this.element.addEventListener(\"blur\", (function () {\n\t          this.element.style.backgroundColor = this.colors.fill;\n\t          this.element.style.color = this.colors.dark;\n\t          if (this.element.value !== this.value) {\n\t            this.value = parseFloat(this.element.value);\n\t            this.render();\n\t          }\n\t        }).bind(this));\n\t\n\t        this.element.addEventListener(\"keydown\", (function (e) {\n\t          if (e.which < 48 || e.which > 57) {\n\t            if (e.which !== 189 && e.which !== 190 && e.which !== 8) {\n\t              e.preventDefault();\n\t            }\n\t          }\n\t          if (e.which === 13) {\n\t            this.element.blur();\n\t            this.value = this.element.value;\n\t            this.emit(\"change\", this.value);\n\t            this.render();\n\t          }\n\t        }).bind(this));\n\t\n\t        this.parent.appendChild(this.element);\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t\n\t        this._minDimension = Math.min(this.width, this.height);\n\t\n\t        var styles = \"width: \" + this.width + \"px;\";\n\t        styles += \"height: \" + this.height + \"px;\";\n\t        styles += \"background-color: #e7e7e7;\";\n\t        styles += \"color: #333;\";\n\t        styles += \"font-family: arial;\";\n\t        styles += \"font-weight: 500;\";\n\t        styles += \"font-size:\" + this._minDimension / 2 + \"px;\";\n\t        //  styles += 'highlight: #d18;';\n\t        styles += \"border: none;\";\n\t        styles += \"outline: none;\";\n\t        styles += \"padding: \" + this._minDimension / 4 + \"px \" + this._minDimension / 4 + \"px;\";\n\t        styles += \"box-sizing: border-box;\";\n\t        styles += \"userSelect: text;\";\n\t        styles += \"mozUserSelect: text;\";\n\t        styles += \"webkitUserSelect: text;\";\n\t        this.element.style.cssText += styles;\n\t\n\t        // to add eventually\n\t        // var css = '#'+this.elementID+'::selection{ background-color: transparent }';\n\t\n\t        this.element.value = this.value;\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.element.style.backgroundColor = this.colors.fill;\n\t        this.element.style.color = this.colors.dark;\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t\n\t        this.element.value = math.prune(this.value, this.decimalPlaces);\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.hasMoved = false;\n\t        this.element.readOnly = true;\n\t        this.actual = this.value;\n\t        this.initial = { y: this.mouse.y };\n\t        this.changeFactor = math.invert(this.mouse.x / this.width);\n\t        console.log(this.changeFactor);\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        this.hasMoved = true;\n\t        if (this.clicked) {\n\t\n\t          var newvalue = this.actual - (this.mouse.y - this.initial.y) * (math.clip(this.max - this.min, 0, 1000) / 200) * Math.pow(this.changeFactor, 2);\n\t          this.value = newvalue;\n\t\n\t          this.render();\n\t          if (this._value.changed) {\n\t            this.emit(\"change\", this.value);\n\t          }\n\t        }\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {\n\t        if (!this.hasMoved) {\n\t          this.element.readOnly = false;\n\t          this.element.focus();\n\t          this.element.setSelectionRange(0, this.element.value.length);\n\t          this.element.style.backgroundColor = this.colors.accent;\n\t          this.element.style.color = this.colors.light;\n\t        } else {\n\t          document.body.focus();\n\t        }\n\t      }\n\t    },\n\t    link: {\n\t\n\t      /**\n\t      Connect this number interface to a dial or slider\n\t      @param {Interface} element Element to connect to.\n\t      @example number.link(slider)\n\t      */\n\t\n\t      value: function link(destination) {\n\t        var _this = this;\n\t\n\t        this.min = destination.min;\n\t        this.max = destination.max;\n\t        this.step = destination.step;\n\t        destination.on(\"change\", function (v) {\n\t          _this.passiveUpdate(v);\n\t        });\n\t        this.on(\"change\", function (v) {\n\t          destination.value = v;\n\t        });\n\t        this.value = destination.value;\n\t        /*  return {\n\t            listener1: listener1,\n\t            listener2: listener2,\n\t            destroy: () => {\n\t              listener1.remove() (or similar)\n\t              listener2.remove() (or similar)\n\t            }\n\t          } */\n\t      }\n\t    },\n\t    passiveUpdate: {\n\t      value: function passiveUpdate(v) {\n\t        this._value.update(v);\n\t        this.render();\n\t      }\n\t    },\n\t    value: {\n\t\n\t      /**\n\t      The interface's current value. If set manually, will update the interface and trigger the output event.\n\t      @type {number}\n\t      @example number.value = 10;\n\t      */\n\t\n\t      get: function () {\n\t        return this._value.value;\n\t      },\n\t      set: function (v) {\n\t        this._value.update(v);\n\t        this.emit(\"change\", this.value);\n\t        this.render();\n\t      }\n\t    },\n\t    min: {\n\t\n\t      /**\n\t      Lower limit of the number's output range\n\t      @type {number}\n\t      @example number.min = 1000;\n\t      */\n\t\n\t      get: function () {\n\t        return this._value.min;\n\t      },\n\t      set: function (v) {\n\t        this._value.min = v;\n\t      }\n\t    },\n\t    max: {\n\t\n\t      /**\n\t      Upper limit of the number's output range\n\t      @type {number}\n\t      @example number.max = 1000;\n\t      */\n\t\n\t      get: function () {\n\t        return this._value.max;\n\t      },\n\t      set: function (v) {\n\t        this._value.max = v;\n\t      }\n\t    },\n\t    step: {\n\t\n\t      /**\n\t      The increment that the number's value changes by.\n\t      @type {number}\n\t      @example number.step = 5;\n\t      */\n\t\n\t      get: function () {\n\t        return this._value.step;\n\t      },\n\t      set: function (v) {\n\t        this._value.step = v;\n\t      }\n\t    }\n\t  });\n\t\n\t  return Number;\n\t})(Interface);\n\t\n\tmodule.exports = Number;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar Interface = __webpack_require__(6);\n\t\n\t/**\n\t* Select\n\t*\n\t* @description Dropdown menu\n\t*\n\t* @demo <span nexus-ui=\"select\"></span>\n\t*\n\t* @example\n\t* var select = new Nexus.Select('#target')\n\t*\n\t* @example\n\t* var select = new Nexus.Select('#target',{\n\t*   'size': [100,30],\n\t*   'options': ['default','options']\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* The event data is an object containing the text value of the selected option, as well as the numeric index of the selection.\n\t*\n\t* @outputexample\n\t* select.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*\n\t*/\n\t\n\tvar Select = (function (_Interface) {\n\t  function Select() {\n\t    _classCallCheck(this, Select);\n\t\n\t    var options = [\"value\"];\n\t\n\t    var defaults = {\n\t      size: [100, 30],\n\t      options: [\"default\", \"options\"]\n\t    };\n\t\n\t    _get(Object.getPrototypeOf(Select.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\t\n\t    this._selectedIndex = -1;\n\t    this._value = false;\n\t\n\t    this._options = this.settings.options;\n\t\n\t    this.init();\n\t    this.render();\n\t  }\n\t\n\t  _inherits(Select, _Interface);\n\t\n\t  _createClass(Select, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = document.createElement(\"select\");\n\t        this.element.style.fontSize = this.height / 2 + \"px\";\n\t        this.element.style.outline = \"none\";\n\t        this.element.style.highlight = \"none\";\n\t        this.element.style.width = this.width + \"px\";\n\t        this.element.style.height = this.height + \"px\";\n\t\n\t        this.boundRender = this.render.bind(this);\n\t\n\t        this.element.addEventListener(\"change\", this.boundRender);\n\t\n\t        this.parent.appendChild(this.element);\n\t      }\n\t    },\n\t    attachListeners: {\n\t      value: function attachListeners() {}\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t\n\t        this.defineOptions();\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.element.style.backgroundColor = this.colors.fill;\n\t        this.element.style.color = this.colors.dark;\n\t        this.element.style.border = \"solid 0px \" + this.colors.mediumLight;\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t\n\t        this._value = this.element.options[this.element.selectedIndex].text;\n\t        this._selectedIndex = this.element.selectedIndex;\n\t        this.emit(\"change\", {\n\t          value: this._value,\n\t          index: this._selectedIndex\n\t        });\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {}\n\t    },\n\t    move: {\n\t      value: function move() {}\n\t    },\n\t    release: {\n\t      value: function release() {}\n\t    },\n\t    defineOptions: {\n\t\n\t      /**\n\t       * Update the list of options. This removes all existing options and creates a new list of options.\n\t       * @param  {array} options New array of options\n\t       */\n\t\n\t      value: function defineOptions(options) {\n\t        if (options) {\n\t          this._options = options;\n\t        }\n\t\n\t        for (var i = 0; i < this.element.options.length; i++) {\n\t          this.element.remove(i);\n\t        }\n\t\n\t        for (var i = 0; i < this._options.length; i++) {\n\t          this.element.options.add(new Option(this._options[i], i));\n\t        }\n\t      }\n\t    },\n\t    value: {\n\t\n\t      /**\n\t      The text of the option that is currently selected. If set, will update the interface and trigger the output event.\n\t      @type {String}\n\t      @example select.value = \"sawtooth\";\n\t      */\n\t\n\t      get: function () {\n\t        return this._value;\n\t      },\n\t      set: function (v) {\n\t        this._value = v;\n\t        for (var i = 0; i < this.element.options.length; i++) {\n\t          if (v === this.element.options[i].text) {\n\t            this.selectedIndex = i;\n\t            break;\n\t          }\n\t        }\n\t      }\n\t    },\n\t    selectedIndex: {\n\t\n\t      /**\n\t      The numeric index of the option that is currently selected. If set, will update the interface and trigger the output event.\n\t      @type {number}\n\t      @example select.selectedIndex = 2;\n\t      */\n\t\n\t      get: function () {\n\t        return this._selectedIndex;\n\t      },\n\t      set: function (v) {\n\t        this._selectedIndex = v;\n\t        this.element.selectedIndex = v;\n\t        this.render();\n\t      }\n\t    },\n\t    customDestroy: {\n\t      value: function customDestroy() {\n\t        this.element.removeEventListener(\"change\", this.boundRender);\n\t      }\n\t    }\n\t  });\n\t\n\t  return Select;\n\t})(Interface);\n\t\n\tmodule.exports = Select;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar svg = __webpack_require__(4);\n\tvar math = __webpack_require__(5);\n\tvar Interface = __webpack_require__(6);\n\tvar Step = __webpack_require__(11);\n\t\n\tvar Interaction = _interopRequireWildcard(__webpack_require__(12));\n\t\n\t/**\n\t* Dial\n\t*\n\t*\n\t* @description Dial with radial or linear interaction.\n\t*\n\t* @demo <span nexus-ui=\"dial\"></span>\n\t*\n\t* @example\n\t* var dial = new Nexus.Dial('#target')\n\t*\n\t* @example\n\t* var dial = new Nexus.Dial('#target',{\n\t*   'size': [75,75],\n\t*   'interaction': 'radial', // \"radial\", \"vertical\", or \"horizontal\"\n\t*   'mode': 'relative', // \"absolute\" or \"relative\"\n\t*   'min': 0,\n\t*   'max': 1,\n\t*   'step': 0,\n\t*   'value': 0\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* The event data is the number value of the interface.\n\t*\n\t* @outputexample\n\t* dial.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t* @tutorial\n\t* Dial\n\t* ygGMxq\n\t*\n\t*/\n\t\n\tvar Dial = (function (_Interface) {\n\t  function Dial() {\n\t    _classCallCheck(this, Dial);\n\t\n\t    var options = [\"min\", \"max\", \"value\"];\n\t\n\t    var defaults = {\n\t      size: [75, 75],\n\t      interaction: \"radial\", // radial, vertical, horizontal\n\t      mode: \"relative\", // absolute, relative\n\t      min: 0,\n\t      max: 1,\n\t      step: 0,\n\t      value: 0\n\t    };\n\t\n\t    _get(Object.getPrototypeOf(Dial.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\t\n\t    this.interaction = this.settings.interaction;\n\t\n\t    this._value = new Step(this.settings.min, this.settings.max, this.settings.step, this.settings.value);\n\t\n\t    this.position = new Interaction.Handle(this.settings.mode, this.interaction, [0, this.width], [this.height, 0]);\n\t\n\t    this.init();\n\t\n\t    this.value = this._value.value;\n\t\n\t    this.position.value = this._value.normalized;\n\t\n\t    this.previousAngle = false;\n\t\n\t    this.emit(\"change\", this.value);\n\t  }\n\t\n\t  _inherits(Dial, _Interface);\n\t\n\t  _createClass(Dial, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t\n\t        this.background = svg.create(\"circle\");\n\t        this.screw = svg.create(\"circle\");\n\t        this.handle = svg.create(\"path\");\n\t        this.handle2 = svg.create(\"path\");\n\t        this.handleFill = svg.create(\"path\");\n\t        this.handle2Fill = svg.create(\"path\");\n\t        this.handleLine = svg.create(\"path\");\n\t\n\t        this.element.appendChild(this.background);\n\t        this.element.appendChild(this.handle);\n\t        this.element.appendChild(this.handle2);\n\t        this.element.appendChild(this.handleFill);\n\t        this.element.appendChild(this.handle2Fill);\n\t        this.element.appendChild(this.handleLine);\n\t        this.element.appendChild(this.screw);\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t\n\t        this.position.resize([0, this.width], [this.height, 0]);\n\t\n\t        var center = {\n\t          x: this.width / 2,\n\t          y: this.height / 2\n\t        };\n\t\n\t        var diameter = Math.min(this.width, this.height);\n\t\n\t        this.background.setAttribute(\"cx\", center.x);\n\t        this.background.setAttribute(\"cy\", center.y);\n\t        this.background.setAttribute(\"r\", diameter / 2 - diameter / 40);\n\t\n\t        this.screw.setAttribute(\"cx\", center.x);\n\t        this.screw.setAttribute(\"cy\", center.y);\n\t        this.screw.setAttribute(\"r\", diameter / 12);\n\t\n\t        var value = this.value;\n\t\n\t        var handlePoints = {\n\t          start: Math.PI * 1.5,\n\t          end: math.clip(math.scale(value, 0, 0.5, Math.PI * 1.5, Math.PI * 0.5), Math.PI * 0.5, Math.PI * 1.5)\n\t        };\n\t        var handle2Points = {\n\t          start: Math.PI * 2.5,\n\t          end: math.clip(math.scale(value, 0.5, 1, Math.PI * 2.5, Math.PI * 1.5), Math.PI * 1.5, Math.PI * 2.5)\n\t        };\n\t\n\t        var handlePath = svg.arc(center.x, center.y, diameter / 2 - diameter / 40, handlePoints.start, handlePoints.end);\n\t        var handle2Path = svg.arc(center.x, center.y, diameter / 2 - diameter / 40, handle2Points.start, handle2Points.end);\n\t\n\t        this.handle.setAttribute(\"d\", handlePath);\n\t        this.handle.setAttribute(\"stroke-width\", diameter / 20);\n\t        this.handle.setAttribute(\"fill\", \"none\");\n\t\n\t        this.handle2.setAttribute(\"d\", handle2Path);\n\t        this.handle2.setAttribute(\"stroke-width\", diameter / 20);\n\t        this.handle2.setAttribute(\"fill\", \"none\");\n\t\n\t        handlePath += \" L \" + center.x + \" \" + center.y;\n\t\n\t        this.handleFill.setAttribute(\"d\", handlePath);\n\t        this.handleFill.setAttribute(\"fill-opacity\", \"0.3\");\n\t\n\t        handle2Path += \" L \" + center.x + \" \" + center.y;\n\t\n\t        this.handle2Fill.setAttribute(\"d\", handle2Path);\n\t        this.handle2Fill.setAttribute(\"fill-opacity\", \"0.3\");\n\t\n\t        var arcEndingA = undefined;\n\t        if (value < 0.5) {\n\t          arcEndingA = handlePoints.end;\n\t        } else {\n\t          arcEndingA = handle2Points.end;\n\t        }\n\t\n\t        var arcEndingX = center.x + Math.cos(arcEndingA) * (diameter / 2);\n\t        var arcEndingY = center.y + Math.sin(arcEndingA) * (diameter / 2) * -1;\n\t\n\t        this.handleLine.setAttribute(\"d\", \"M \" + center.x + \" \" + center.y + \" L \" + arcEndingX + \" \" + arcEndingY);\n\t        this.handleLine.setAttribute(\"stroke-width\", diameter / 20);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.background.setAttribute(\"fill\", this.colors.fill);\n\t        this.screw.setAttribute(\"fill\", this.colors.accent);\n\t        this.handle.setAttribute(\"stroke\", this.colors.accent);\n\t        this.handle2.setAttribute(\"stroke\", this.colors.accent);\n\t        this.handleFill.setAttribute(\"fill\", this.colors.accent);\n\t        this.handle2Fill.setAttribute(\"fill\", this.colors.accent);\n\t        this.handleLine.setAttribute(\"stroke\", this.colors.accent);\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        var value = this._value.normalized;\n\t\n\t        var center = {\n\t          x: this.width / 2,\n\t          y: this.height / 2\n\t        };\n\t\n\t        var diameter = Math.min(this.width, this.height);\n\t\n\t        var handlePoints = {\n\t          start: Math.PI * 1.5,\n\t          end: math.clip(math.scale(value, 0, 0.5, Math.PI * 1.5, Math.PI * 0.5), Math.PI * 0.5, Math.PI * 1.5)\n\t        };\n\t        var handle2Points = {\n\t          start: Math.PI * 2.5,\n\t          end: math.clip(math.scale(value, 0.5, 1, Math.PI * 2.5, Math.PI * 1.5), Math.PI * 1.5, Math.PI * 2.5)\n\t        };\n\t\n\t        var handlePath = svg.arc(center.x, center.y, diameter / 2 - diameter / 40, handlePoints.start, handlePoints.end);\n\t        var handle2Path = svg.arc(center.x, center.y, diameter / 2 - diameter / 40, handle2Points.start, handle2Points.end);\n\t\n\t        this.handle.setAttribute(\"d\", handlePath);\n\t        this.handle2.setAttribute(\"d\", handle2Path);\n\t\n\t        handlePath += \" L \" + center.x + \" \" + center.y;\n\t\n\t        this.handleFill.setAttribute(\"d\", handlePath);\n\t\n\t        handle2Path += \" L \" + center.x + \" \" + center.y;\n\t\n\t        this.handle2Fill.setAttribute(\"d\", handle2Path);\n\t\n\t        var arcEndingA = undefined;\n\t        if (value <= 0.5) {\n\t          arcEndingA = handlePoints.end;\n\t        } else {\n\t          arcEndingA = handle2Points.end;\n\t        }\n\t\n\t        var arcEndingX = center.x + Math.cos(arcEndingA) * (diameter / 2);\n\t        var arcEndingY = center.y + Math.sin(arcEndingA) * (diameter / 2) * -1;\n\t\n\t        this.handleLine.setAttribute(\"d\", \"M \" + center.x + \" \" + center.y + \" L \" + arcEndingX + \" \" + arcEndingY);\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        if (this.mode === \"relative\") {\n\t          this.previousAngle = false;\n\t        }\n\t        this.position.anchor = this.mouse;\n\t        this.position.value = this._value.normalized;\n\t        this.move();\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        if (this.clicked) {\n\t\n\t          this.position.update(this.mouse);\n\t\n\t          var angle = this.position.value * Math.PI * 2;\n\t\n\t          if (angle < 0) {\n\t            angle += Math.PI * 2;\n\t          }\n\t\n\t          if (this.mode === \"relative\") {\n\t            if (this.previousAngle !== false && Math.abs(this.previousAngle - angle) > 2) {\n\t              if (this.previousAngle > 3) {\n\t                angle = Math.PI * 2;\n\t              } else {\n\t                angle = 0;\n\t              }\n\t            }\n\t          } /* else {\n\t            if (this.previousAngle !== false && Math.abs(this.previousAngle - angle) > 2) {\n\t              if (this.previousAngle > 3) {\n\t                angle = Math.PI*2;\n\t              } else {\n\t                angle = 0;\n\t              }\n\t            }\n\t            } */\n\t          this.previousAngle = angle;\n\t\n\t          var realValue = angle / (Math.PI * 2);\n\t\n\t          this.value = this._value.updateNormal(realValue);\n\t\n\t          if (this.mode === \"relative\") {\n\t            this.position.value = realValue;\n\t          }\n\t\n\t          this.emit(\"change\", this._value.value);\n\t\n\t          this.render();\n\t        }\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {}\n\t    },\n\t    value: {\n\t\n\t      /*\n\t      Dial's value. When set, it will automatically be adjust to fit min/max/step settings of the interface.\n\t      @type {number}\n\t      @example dial.value = 10;\n\t       get value() {\n\t        return this._value.value;\n\t      }\n\t       set value(value) {\n\t        this._value.update(value);\n\t        this.emit('change',this.value);\n\t        this.render();\n\t      }\n\t      */\n\t\n\t      /**\n\t      Dial's value. When set, it will automatically be adjust to fit min/max/step settings of the interface.\n\t      @type {number}\n\t      @example dial.value = 10;\n\t      */\n\t\n\t      get: function () {\n\t        return this._value.value;\n\t      },\n\t      set: function (v) {\n\t        this._value.update(v);\n\t        this.position.value = this._value.normalized;\n\t        this.emit(\"change\", this._value.value);\n\t        this.render();\n\t      }\n\t    },\n\t    min: {\n\t\n\t      /**\n\t      Lower limit of the dial's output range\n\t      @type {number}\n\t      @example dial.min = 1000;\n\t      */\n\t\n\t      get: function () {\n\t        return this._value.min;\n\t      },\n\t      set: function (v) {\n\t        this._value.min = v;\n\t      }\n\t    },\n\t    max: {\n\t\n\t      /**\n\t      Upper limit of the dial's output range\n\t      @type {number}\n\t      @example dial.max = 1000;\n\t      */\n\t\n\t      get: function () {\n\t        return this._value.max;\n\t      },\n\t      set: function (v) {\n\t        this._value.max = v;\n\t      }\n\t    },\n\t    step: {\n\t\n\t      /**\n\t      The increment that the dial's value changes by.\n\t      @type {number}\n\t      @example dial.step = 5;\n\t      */\n\t\n\t      get: function () {\n\t        return this._value.step;\n\t      },\n\t      set: function (v) {\n\t        this._value.step = v;\n\t      }\n\t    },\n\t    mode: {\n\t\n\t      /**\n\t      Absolute mode (dial's value jumps to mouse click position) or relative mode (mouse drag changes value relative to its current position). Default: \"relative\".\n\t      @type {string}\n\t      @example dial.mode = \"relative\";\n\t      */\n\t\n\t      get: function () {\n\t        return this.position.mode;\n\t      },\n\t      set: function (v) {\n\t        this.position.mode = v;\n\t      }\n\t    },\n\t    normalized: {\n\t\n\t      /**\n\t      Normalized value of the dial.\n\t      @type {number}\n\t      @example dial.normalized = 0.5;\n\t      */\n\t\n\t      get: function () {\n\t        return this._value.normalized;\n\t      },\n\t      set: function (v) {\n\t        this._value.updateNormal(v);\n\t        this.emit(\"change\", this.value);\n\t      }\n\t    }\n\t  });\n\t\n\t  return Dial;\n\t})(Interface);\n\t\n\tmodule.exports = Dial;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar svg = __webpack_require__(4);\n\tvar Interface = __webpack_require__(6);\n\tvar ButtonTemplate = __webpack_require__(17);\n\tvar touch = __webpack_require__(9);\n\t\n\tvar PianoKey = (function (_ButtonTemplate) {\n\t  function PianoKey() {\n\t    _classCallCheck(this, PianoKey);\n\t\n\t    var options = [\"value\", \"note\", \"color\"];\n\t\n\t    var defaults = {\n\t      size: [80, 80],\n\t      target: false,\n\t      mode: \"button\",\n\t      value: 0\n\t    };\n\t\n\t    _get(Object.getPrototypeOf(PianoKey.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\t\n\t    this.note = this.settings.note;\n\t    this.color = this.settings.color;\n\t\n\t    this.colors = {\n\t      w: \"#fff\",\n\t      b: \"#666\" };\n\t\n\t    this.init();\n\t    this.render();\n\t  }\n\t\n\t  _inherits(PianoKey, _ButtonTemplate);\n\t\n\t  _createClass(PianoKey, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = svg.create(\"svg\");\n\t        this.element.setAttribute(\"width\", this.width);\n\t        this.element.setAttribute(\"height\", this.height);\n\t        this.parent.appendChild(this.element);\n\t      }\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t        var _this = this;\n\t\n\t        this.pad = svg.create(\"rect\");\n\t\n\t        this.element.appendChild(this.pad);\n\t\n\t        this.interactionTarget = this.pad;\n\t\n\t        /* events */\n\t\n\t        if (!touch.exists) {\n\t\n\t          this.click = function () {\n\t            //  console.log('click');\n\t            _this.piano.interacting = true;\n\t            _this.piano.paintbrush = !_this.state;\n\t            _this.down(_this.piano.paintbrush);\n\t          };\n\t\n\t          this.pad.addEventListener(\"mouseover\", function () {\n\t            if (_this.piano.interacting) {\n\t              //    console.log('mouseover');\n\t              _this.down(_this.piano.paintbrush);\n\t            }\n\t          });\n\t\n\t          this.move = function () {\n\t            if (_this.piano.interacting) {\n\t              //  console.log('move');\n\t              _this.bend();\n\t            }\n\t          };\n\t\n\t          this.release = function () {\n\t            _this.piano.interacting = false;\n\t            //  console.log('release');\n\t            //  this.up();\n\t          };\n\t          this.pad.addEventListener(\"mouseup\", function () {\n\t            if (_this.piano.interacting) {\n\t              //  console.log('mouseup');\n\t              _this.up();\n\t            }\n\t          });\n\t          this.pad.addEventListener(\"mouseout\", function () {\n\t            if (_this.piano.interacting) {\n\t              //  console.log('mouseout');\n\t              _this.up();\n\t            }\n\t          });\n\t        }\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t\n\t        //let radius = Math.min(this.width,this.height) / 5;\n\t        var radius = 0;\n\t\n\t        this.pad.setAttribute(\"x\", 0.5);\n\t        this.pad.setAttribute(\"y\", 0.5);\n\t        if (this.width > 2) {\n\t          this.pad.setAttribute(\"width\", this.width - 1);\n\t        } else {\n\t          this.pad.setAttribute(\"width\", this.width);\n\t        }\n\t        if (this.height > 2) {\n\t          this.pad.setAttribute(\"height\", this.height);\n\t        } else {\n\t          this.pad.setAttribute(\"height\", this.height);\n\t        }\n\t        this.pad.setAttribute(\"rx\", radius);\n\t        this.pad.setAttribute(\"ry\", radius);\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (!this.state) {\n\t          this.pad.setAttribute(\"fill\", this.colors[this.color]);\n\t        } else {\n\t          this.pad.setAttribute(\"fill\", this.colors.accent);\n\t        }\n\t      }\n\t    }\n\t  });\n\t\n\t  return PianoKey;\n\t})(ButtonTemplate);\n\t\n\t/**\n\t* Piano\n\t*\n\t* @description Piano keyboard interface\n\t*\n\t* @demo <div nexus-ui=\"piano\"></div>\n\t*\n\t* @example\n\t* var piano = new Nexus.Piano('#target')\n\t*\n\t* @example\n\t* var piano = new Nexus.Piano('#target',{\n\t*     'size': [500,125],\n\t*     'mode': 'button',  // 'button', 'toggle', or 'impulse'\n\t*     'lowNote': 24,\n\t*     'highNote': 60\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time a new key is pressed or released <br>\n\t* The event data is an object containing <i>note</i> and <i>state</i> properties.\n\t*\n\t* @outputexample\n\t* piano.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*/\n\t\n\tvar Piano = (function (_Interface) {\n\t  function Piano() {\n\t    _classCallCheck(this, Piano);\n\t\n\t    var options = [\"value\"];\n\t\n\t    var defaults = {\n\t      size: [500, 125],\n\t      lowNote: 24,\n\t      highNote: 60,\n\t      mode: \"button\"\n\t    };\n\t\n\t    _get(Object.getPrototypeOf(Piano.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\t\n\t    this.keyPattern = [\"w\", \"b\", \"w\", \"b\", \"w\", \"w\", \"b\", \"w\", \"b\", \"w\", \"b\", \"w\"];\n\t\n\t    this.paintbrush = false;\n\t\n\t    this.mode = this.settings.mode;\n\t\n\t    this.range = {\n\t      low: this.settings.lowNote,\n\t      high: this.settings.highNote\n\t    };\n\t\n\t    this.range.size = this.range.high - this.range.low;\n\t\n\t    this.keys = [];\n\t\n\t    this.toggleTo = false;\n\t\n\t    this.init();\n\t    this.render();\n\t  }\n\t\n\t  _inherits(Piano, _Interface);\n\t\n\t  _createClass(Piano, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = document.createElement(\"div\");\n\t        this.element.style.position = \"relative\";\n\t        this.element.style.borderRadius = \"0px\";\n\t        this.element.style.display = \"block\";\n\t        this.element.style.width = \"100%\";\n\t        this.element.style.height = \"100%\";\n\t        this.parent.appendChild(this.element);\n\t      }\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t\n\t        this.keys = [];\n\t\n\t        for (var i = 0; i < this.range.high - this.range.low; i++) {\n\t\n\t          var container = document.createElement(\"span\");\n\t          var scaleIndex = (i + this.range.low) % this.keyPattern.length;\n\t\n\t          var key = new PianoKey(container, {\n\t            component: true,\n\t            note: i + this.range.low,\n\t            color: this.keyPattern[scaleIndex],\n\t            mode: this.mode\n\t          }, this.keyChange.bind(this, i + this.range.low));\n\t\n\t          key.piano = this;\n\t\n\t          if (touch.exists) {\n\t            key.pad.index = i;\n\t            key.preClick = key.preMove = key.preRelease = function () {};\n\t            key.click = key.move = key.release = function () {};\n\t            key.preTouch = key.preTouchMove = key.preTouchRelease = function () {};\n\t            key.touch = key.touchMove = key.touchRelease = function () {};\n\t          }\n\t\n\t          this.keys.push(key);\n\t          this.element.appendChild(container);\n\t        }\n\t        if (touch.exists) {\n\t          this.addTouchListeners();\n\t        }\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t\n\t        var keyX = 0;\n\t\n\t        var keyPositions = [];\n\t\n\t        for (var i = 0; i < this.range.high - this.range.low; i++) {\n\t\n\t          keyPositions.push(keyX);\n\t\n\t          var scaleIndex = (i + this.range.low) % this.keyPattern.length;\n\t          var nextScaleIndex = (i + 1 + this.range.low) % this.keyPattern.length;\n\t          if (i + 1 + this.range.low >= this.range.high) {\n\t            keyX += 1;\n\t          } else if (this.keyPattern[scaleIndex] === \"w\" && this.keyPattern[nextScaleIndex] === \"w\") {\n\t            keyX += 1;\n\t          } else {\n\t            keyX += 0.5;\n\t          }\n\t        }\n\t        var keysWide = keyX;\n\t\n\t        //  let padding = this.width / 120;\n\t        var padding = 1;\n\t        var buttonWidth = (this.width - padding * 2) / keysWide;\n\t        var buttonHeight = (this.height - padding * 2) / 2;\n\t\n\t        for (var i = 0; i < this.keys.length; i++) {\n\t\n\t          var container = this.keys[i].parent;\n\t          container.style.position = \"absolute\";\n\t          container.style.left = keyPositions[i] * buttonWidth + padding + \"px\";\n\t          if (this.keys[i].color === \"w\") {\n\t            container.style.top = padding + \"px\";\n\t            this.keys[i].resize(buttonWidth, buttonHeight * 2);\n\t          } else {\n\t            container.style.zIndex = 1;\n\t            container.style.top = padding + \"px\";\n\t            this.keys[i].resize(buttonWidth, buttonHeight * 1.1);\n\t          }\n\t        }\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t\n\t        // Piano keys don't actually have a stroke border\n\t        // They have space between them, which shows the Piano bg color\n\t        this.element.style.backgroundColor = this.colors.mediumLight;\n\t\n\t        for (var i = 0; i < this.keys.length; i++) {\n\t          this.keys[i].colors = {\n\t            w: this.colors.light,\n\t            b: this.colors.dark,\n\t            accent: this.colors.accent,\n\t            border: this.colors.mediumLight\n\t          };\n\t          this.keys[i].colorInterface();\n\t          this.keys[i].render();\n\t        }\n\t      }\n\t    },\n\t    keyChange: {\n\t      value: function keyChange(note, on) {\n\t        // emit data for any key turning on/off\n\t        // \"note\" is the note value\n\t        // \"on\" is a boolean whether it is on or off\n\t        // in aftertouch mode, \"on: is an object with state/x/y properties\n\t        var data = {\n\t          note: note\n\t        };\n\t        if (typeof on === \"object\") {\n\t          data.state = on.state;\n\t          //  data.x = on.x\n\t          //  data.y = on.y\n\t        } else {\n\t          data.state = on;\n\t        }\n\t        this.emit(\"change\", data);\n\t      }\n\t    },\n\t    render: {\n\t\n\t      /* drag(note,on) {\n\t        this.emit('change',{\n\t          note: note,\n\t          state: on\n\t        });\n\t      } */\n\t\n\t      value: function render() {}\n\t    },\n\t    addTouchListeners: {\n\t      value: function addTouchListeners() {\n\t        var _this = this;\n\t\n\t        this.preClick = this.preMove = this.preRelease = function () {};\n\t        this.click = this.move = this.release = function () {};\n\t        this.preTouch = this.preTouchMove = this.preTouchRelease = function () {};\n\t        this.touch = this.touchMove = this.touchRelease = function () {};\n\t\n\t        this.currentElement = false;\n\t\n\t        this.element.addEventListener(\"touchstart\", function (e) {\n\t          console.log(\"touchstart\");\n\t          var element = document.elementFromPoint(e.targetTouches[0].clientX, e.targetTouches[0].clientY);\n\t          var key = _this.keys[element.index];\n\t          _this.paintbrush = !key.state;\n\t          key.down(_this.paintbrush);\n\t          _this.currentElement = element.index;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\t\n\t        this.element.addEventListener(\"touchmove\", function (e) {\n\t          var element = document.elementFromPoint(e.targetTouches[0].clientX, e.targetTouches[0].clientY);\n\t          var key = _this.keys[element.index];\n\t          if (element.index !== _this.currentElement) {\n\t            if (_this.currentElement) {\n\t              var pastKey = _this.keys[_this.currentElement];\n\t              pastKey.up();\n\t            }\n\t            key.down(_this.paintbrush);\n\t          } else {\n\t            key.bend();\n\t          }\n\t          _this.currentElement = element.index;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\t\n\t        this.element.addEventListener(\"touchend\", function (e) {\n\t          // no touches to calculate because none remaining\n\t          var key = _this.keys[_this.currentElement];\n\t          key.up();\n\t          _this.interacting = false;\n\t          _this.currentElement = false;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\t      }\n\t    },\n\t    setRange: {\n\t\n\t      /**\n\t      Define the pitch range (lowest and highest note) of the piano keyboard.\n\t      @param low {number} MIDI note value of the lowest note on the keyboard\n\t      @param high {number} MIDI note value of the highest note on the keyboard\n\t      */\n\t\n\t      value: function setRange(low, high) {\n\t        this.range.low = low;\n\t        this.range.high = high;\n\t        this.empty();\n\t        this.buildInterface();\n\t      }\n\t    },\n\t    toggleKey: {\n\t\n\t      /**\n\t      Turn a key on or off using its MIDI note value;\n\t      @param note {number} MIDI note value of the key to change\n\t      @param on {boolean} Whether the note should turn on or off\n\t      */\n\t\n\t      value: function toggleKey(note, on) {\n\t        this.keys[note - this.range.low].flip(on);\n\t      }\n\t    },\n\t    toggleIndex: {\n\t\n\t      /**\n\t      Turn a key on or off using its key index on the piano interface.\n\t      @param index {number} Index of the key to change\n\t      @param on {boolean} Whether the note should turn on or off\n\t      */\n\t\n\t      value: function toggleIndex(index, on) {\n\t        this.keys[index].flip(on);\n\t      }\n\t    }\n\t  });\n\t\n\t  return Piano;\n\t})(Interface);\n\t\n\tmodule.exports = Piano;\n\t\n\t// loop through and render the keys?\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar svg = __webpack_require__(4);\n\tvar dom = __webpack_require__(7);\n\tvar Interface = __webpack_require__(6);\n\tvar ButtonTemplate = __webpack_require__(17);\n\tvar MatrixModel = __webpack_require__(25);\n\tvar CounterModel = __webpack_require__(28);\n\tvar touch = __webpack_require__(9);\n\t\n\tvar MatrixCell = (function (_ButtonTemplate) {\n\t  function MatrixCell() {\n\t    _classCallCheck(this, MatrixCell);\n\t\n\t    var options = [\"value\"];\n\t\n\t    var defaults = {\n\t      size: [80, 80],\n\t      target: false,\n\t      mode: \"toggle\",\n\t      value: 0\n\t    };\n\t\n\t    _get(Object.getPrototypeOf(MatrixCell.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\t\n\t    this.index = this.settings.index;\n\t    this.row = this.settings.row;\n\t    this.column = this.settings.column;\n\t\n\t    this.matrix = this.settings.matrix;\n\t\n\t    this.interacting = false;\n\t    this.paintbrush = false;\n\t\n\t    this.init();\n\t    this.render();\n\t  }\n\t\n\t  _inherits(MatrixCell, _ButtonTemplate);\n\t\n\t  _createClass(MatrixCell, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = svg.create(\"svg\");\n\t        this.element.setAttribute(\"width\", this.width);\n\t        this.element.setAttribute(\"height\", this.height);\n\t        this.element.style.top = \"0px\";\n\t        this.element.style.left = \"0px\";\n\t        this.element.style.position = \"absolute\";\n\t        this.parent.appendChild(this.element);\n\t      }\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t        var _this = this;\n\t\n\t        this.pad = svg.create(\"rect\");\n\t        this.element.appendChild(this.pad);\n\t\n\t        this.interactionTarget = this.pad;\n\t\n\t        /* events */\n\t\n\t        if (!touch.exists) {\n\t\n\t          this.click = function () {\n\t            _this.matrix.interacting = true;\n\t            _this.matrix.paintbrush = !_this.state;\n\t            _this.down(_this.matrix.paintbrush);\n\t          };\n\t          this.pad.addEventListener(\"mouseover\", function () {\n\t            if (_this.matrix.interacting) {\n\t              _this.down(_this.matrix.paintbrush);\n\t            }\n\t          });\n\t\n\t          this.move = function () {};\n\t          this.pad.addEventListener(\"mousemove\", function (e) {\n\t            if (_this.matrix.interacting) {\n\t              if (!_this.offset) {\n\t                _this.offset = dom.findPosition(_this.element);\n\t              }\n\t              _this.mouse = dom.locateMouse(e, _this.offset);\n\t              _this.bend();\n\t            }\n\t          });\n\t\n\t          this.release = function () {\n\t            _this.matrix.interacting = false;\n\t          };\n\t          this.pad.addEventListener(\"mouseup\", function () {\n\t            if (_this.matrix.interacting) {\n\t              _this.up();\n\t            }\n\t          });\n\t          this.pad.addEventListener(\"mouseout\", function () {\n\t            if (_this.matrix.interacting) {\n\t              _this.up();\n\t            }\n\t          });\n\t        }\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t\n\t        this.pad.setAttribute(\"x\", 1);\n\t        this.pad.setAttribute(\"y\", 1);\n\t        if (this.width > 2) {\n\t          this.pad.setAttribute(\"width\", this.width - 2);\n\t        } else {\n\t          this.pad.setAttribute(\"width\", this.width);\n\t        }\n\t        if (this.height > 2) {\n\t          this.pad.setAttribute(\"height\", this.height - 2);\n\t        } else {\n\t          this.pad.setAttribute(\"height\", this.height);\n\t        }\n\t        //this.pad.setAttribute('height', this.height - 2);\n\t        this.pad.setAttribute(\"fill\", this.matrix.colors.fill);\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (!this.state) {\n\t          this.pad.setAttribute(\"fill\", this.matrix.colors.fill);\n\t        } else {\n\t          this.pad.setAttribute(\"fill\", this.matrix.colors.accent);\n\t        }\n\t      }\n\t    }\n\t  });\n\t\n\t  return MatrixCell;\n\t})(ButtonTemplate);\n\t\n\t/**\n\t* Sequencer\n\t*\n\t* @description Grid of buttons with built-in step sequencer.\n\t*\n\t* @demo <div nexus-ui=\"sequencer\" style=\"width:400px;height:200px;\"></div>\n\t*\n\t* @example\n\t* var sequencer = new Nexus.Sequencer('#target')\n\t*\n\t* @example\n\t* var sequencer = new Nexus.Sequencer('#target',{\n\t*  'size': [400,200],\n\t*  'mode': 'toggle',\n\t*  'rows': 5,\n\t*  'columns': 10\n\t*})\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's matrix changes. <br>\n\t* The event data is an object containing <i>row</i> (number), <i>column</i> (number), and <i>state</i> (boolean) properties.\n\t*\n\t* @outputexample\n\t* sequencer.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t* @output\n\t* step\n\t* Fires any time the sequencer steps to the next column, in sequece mode. <br>\n\t* The event data is an <i>array</i> containing all values in the column, top first.\n\t*\n\t* @outputexample\n\t* sequencer.on('step',function(v) {\n\t*   console.log(v);\n\t* })\n\t*/\n\t\n\tvar Sequencer = (function (_Interface) {\n\t  function Sequencer() {\n\t    _classCallCheck(this, Sequencer);\n\t\n\t    var options = [\"value\"];\n\t\n\t    var defaults = {\n\t      size: [400, 200],\n\t      mode: \"toggle\",\n\t      rows: 5,\n\t      columns: 10\n\t    };\n\t\n\t    _get(Object.getPrototypeOf(Sequencer.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\t\n\t    this.active = -1;\n\t\n\t    this.mode = this.settings.mode;\n\t\n\t    /**\n\t     * The interval object which controls timing and sequence scheduling.\n\t     * @type {interval}\n\t     */\n\t    this.interval = new Nexus.Interval(200, function () {}, false); // jshint ignore:line\n\t\n\t    /**\n\t    A Matrix model containing methods for manipulating the sequencer's array of values. To learn how to manipulate the matrix, read about the matrix model.\n\t    @type {matrix}\n\t    */\n\t    this.matrix = new MatrixModel(this.settings.rows, this.settings.columns);\n\t    this.matrix.ui = this;\n\t\n\t    /**\n\t    A Counter model which the sequencer steps through. For example, you could use this model to step through the sequencer in reverse, randomly, or in a drunk walk.\n\t    @type {counter}\n\t    */\n\t    this.stepper = new CounterModel(0, this.columns);\n\t\n\t    this.init();\n\t  }\n\t\n\t  _inherits(Sequencer, _Interface);\n\t\n\t  _createClass(Sequencer, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = document.createElement(\"div\");\n\t        this.element.style.position = \"relative\";\n\t        this.element.style.display = \"block\";\n\t        this.element.style.width = \"100%\";\n\t        this.element.style.height = \"100%\";\n\t        this.parent.appendChild(this.element);\n\t        if (touch.exists) {\n\t          this.addTouchListeners();\n\t        }\n\t      }\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t\n\t        this.cells = [];\n\t        for (var i = 0; i < this.matrix.length; i++) {\n\t\n\t          var _location = this.matrix.locate(i);\n\t          // returns {row,col}\n\t\n\t          var container = document.createElement(\"span\");\n\t          container.style.position = \"absolute\";\n\t\n\t          var cell = new MatrixCell(container, {\n\t            component: true,\n\t            index: i,\n\t            row: _location.row,\n\t            column: _location.column,\n\t            mode: this.mode,\n\t            matrix: this\n\t          }, this.keyChange.bind(this, i));\n\t\n\t          //  cell.matrix = this;\n\t          if (touch.exists) {\n\t            cell.pad.index = i;\n\t            cell.preClick = cell.preMove = cell.preRelease = function () {};\n\t            cell.click = cell.move = cell.release = function () {};\n\t            cell.preTouch = cell.preTouchMove = cell.preTouchRelease = function () {};\n\t            cell.touch = cell.touchMove = cell.touchRelease = function () {};\n\t          }\n\t\n\t          this.cells.push(cell);\n\t          this.element.appendChild(container);\n\t        }\n\t        this.sizeInterface();\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t\n\t        var cellWidth = this.width / this.columns;\n\t        var cellHeight = this.height / this.rows;\n\t\n\t        for (var i = 0; i < this.cells.length; i++) {\n\t          var container = this.cells[i].parent;\n\t          container.style.left = this.cells[i].column * cellWidth + \"px\";\n\t          container.style.top = this.cells[i].row * cellHeight + \"px\";\n\t          this.cells[i].resize(cellWidth, cellHeight);\n\t        }\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        for (var i = 0; i < this.cells.length; i++) {\n\t          this.cells[i].render();\n\t        }\n\t      }\n\t    },\n\t    update: {\n\t      value: function update() {\n\t        var _this = this;\n\t\n\t        //  console.log(\"updating...\")\n\t        //on = on || false;\n\t        this.matrix.iterate(function (r, c, i) {\n\t          //  console.log(this.matrix.pattern[r][c], this.cells[i].state);\n\t          if (_this.matrix.pattern[r][c] !== _this.cells[i].state) {\n\t            if (_this.matrix.pattern[r][c] > 0) {\n\t              _this.cells[i].turnOn();\n\t            } else {\n\t              _this.cells[i].turnOff();\n\t            }\n\t          }\n\t        });\n\t      }\n\t    },\n\t    keyChange: {\n\t\n\t      // update => cell.turnOn => cell.emit => keyChange (seq.emit) => matrix.set.cell => update\n\t      //\n\t      // interaction => keyChange => matrix.set.cell => update => cell.turnOn\n\t      //                                             => emit\n\t      //\n\t      // set.cell => update => needs to emit.\n\t\n\t      value: function keyChange(note, on) {\n\t        // emit data for any key turning on/off\n\t        // i is the note index\n\t        // v is whether it is on or off\n\t        var cell = this.matrix.locate(note);\n\t        //  this.matrix.set.cell(cell.column,cell.row,on);\n\t        this.matrix.pattern[cell.row][cell.column] = on;\n\t        var data = {\n\t          row: cell.row,\n\t          column: cell.column,\n\t          state: on\n\t        };\n\t        this.emit(\"change\", data);\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        var _this = this;\n\t\n\t        if (this.stepper.value >= 0) {\n\t          this.matrix.iterate(function (r, c, i) {\n\t            if (c === _this.stepper.value) {\n\t              _this.cells[i].pad.setAttribute(\"stroke\", _this.colors.mediumLight);\n\t              _this.cells[i].pad.setAttribute(\"stroke-width\", \"1\");\n\t              _this.cells[i].pad.setAttribute(\"stroke-opacity\", \"1\");\n\t            } else {\n\t              _this.cells[i].pad.setAttribute(\"stroke\", \"none\");\n\t            }\n\t          });\n\t        }\n\t      }\n\t    },\n\t    start: {\n\t\n\t      /**\n\t       * Start sequencing\n\t       * @param  {number} ms Beat tempo in milliseconds\n\t       */\n\t\n\t      value: function start(ms) {\n\t        this.interval.event = this.next.bind(this);\n\t        if (ms) {\n\t          this.interval.ms(ms);\n\t        }\n\t        this.interval.start();\n\t      }\n\t    },\n\t    stop: {\n\t\n\t      /**\n\t      Stop sequencing\n\t      */\n\t\n\t      value: function stop() {\n\t        this.interval.stop();\n\t      }\n\t    },\n\t    next: {\n\t\n\t      /**\n\t      Manually jump to the next column and trigger the 'change' event. The \"next\" column is determined by your mode of sequencing.\n\t      */\n\t\n\t      value: function next() {\n\t        this.stepper.next();\n\t        this.emit(\"step\", this.matrix.column(this.stepper.value).reverse());\n\t        this.render();\n\t      }\n\t    },\n\t    addTouchListeners: {\n\t      value: function addTouchListeners() {\n\t        var _this = this;\n\t\n\t        this.preClick = this.preMove = this.preRelease = function () {};\n\t        this.click = this.move = this.release = function () {};\n\t        this.preTouch = this.preTouchMove = this.preTouchRelease = function () {};\n\t        this.touch = this.touchMove = this.touchRelease = function () {};\n\t\n\t        this.currentElement = false;\n\t\n\t        this.element.addEventListener(\"touchstart\", function (e) {\n\t          var element = document.elementFromPoint(e.targetTouches[0].clientX, e.targetTouches[0].clientY);\n\t          var cell = _this.cells[element.index];\n\t          _this.paintbrush = !cell.state;\n\t          cell.down(_this.paintbrush);\n\t          _this.currentElement = element.index;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\t\n\t        this.element.addEventListener(\"touchmove\", function (e) {\n\t          var element = document.elementFromPoint(e.targetTouches[0].clientX, e.targetTouches[0].clientY);\n\t          var cell = _this.cells[element.index];\n\t          if (element.index !== _this.currentElement) {\n\t            if (_this.currentElement >= 0) {\n\t              var pastCell = _this.cells[_this.currentElement];\n\t              pastCell.up();\n\t            }\n\t            cell.down(_this.paintbrush);\n\t          } else {\n\t            cell.bend();\n\t          }\n\t          _this.currentElement = element.index;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\t\n\t        this.element.addEventListener(\"touchend\", function (e) {\n\t          // no touches to calculate because none remaining\n\t          var cell = _this.cells[_this.currentElement];\n\t          cell.up();\n\t          _this.interacting = false;\n\t          _this.currentElement = false;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\t      }\n\t    },\n\t    rows: {\n\t\n\t      /**\n\t      Number of rows in the sequencer\n\t      @type {number}\n\t      */\n\t\n\t      get: function () {\n\t        return this.matrix.rows;\n\t      },\n\t      set: function (v) {\n\t        this.matrix.rows = v;\n\t        this.empty();\n\t        this.buildInterface();\n\t        this.update();\n\t      }\n\t    },\n\t    columns: {\n\t\n\t      /**\n\t      Number of columns in the sequencer\n\t      @type {number}\n\t      */\n\t\n\t      get: function () {\n\t        return this.matrix.columns;\n\t      },\n\t      set: function (v) {\n\t        this.matrix.columns = v;\n\t        this.stepper.max = v;\n\t        this.empty();\n\t        this.buildInterface();\n\t        this.update();\n\t      }\n\t    }\n\t  });\n\t\n\t  return Sequencer;\n\t})(Interface);\n\t\n\tmodule.exports = Sequencer;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar math = _interopRequire(__webpack_require__(5));\n\t\n\tvar Sequence = _interopRequire(__webpack_require__(26));\n\t\n\t// For the tutorial, looking at\n\t\n\t//Pattern section:\n\t// .create(), .rows, .columns,\n\t// .pattern, .length, .formatAsText(), .log(),\n\t// .locate(i), .indexOf(c,r)\n\t// row(), column() (returns contents of row or colum)\n\t\n\t//Control section:\n\t// toggle x3\n\t// set x4\n\t// rotate x3\n\t// populate x3\n\t// erase x3\n\t\n\t// should some version of this have a float value for each cell?\n\t// could be like a mirror .pattern that has values. by default, everything is 1, but could be set...\n\t// not a good way to do that on interface, but as a model it would be nice...\n\t// for .formatAsText(), could multiply by 100 and floor, so each cell is an int from 0 to 9\n\t\n\tvar Matrix = (function () {\n\t  function Matrix(rows, columns) {\n\t    var _this = this;\n\t\n\t    _classCallCheck(this, Matrix);\n\t\n\t    // should also have ability to create using an existing matrix (2d array)\n\t    this.pattern = [];\n\t    this.create(rows, columns);\n\t\n\t    this.toggle = {\n\t      cell: function (column, row) {\n\t        _this.pattern[row][column] = !_this.pattern[row][column]; // math.invert(this.pattern[row][column]);\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t        return _this.pattern[row][column];\n\t      },\n\t      all: function () {\n\t        _this.iterate(function (r, c) {\n\t          _this.toggle.cell(c, r);\n\t        });\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      row: function (row) {\n\t        for (var i = 0; i < _this.columns; i++) {\n\t          _this.toggle.cell(i, row);\n\t        }\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      column: function (column) {\n\t        for (var i = 0; i < _this.rows; i++) {\n\t          _this.toggle.cell(column, i);\n\t        }\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      }\n\t    };\n\t\n\t    this.set = {\n\t      cell: function (column, row, value) {\n\t        _this.pattern[row][column] = value;\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      all: function (values) {\n\t        // set the whole matrix using a 2d array as input\n\t        // this should also resize the array?\n\t        _this.pattern = values;\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      row: function (row, values) {\n\t        // set a row using an array as input\n\t        _this.pattern[row] = values;\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      column: function (column, values) {\n\t        // set a column using an array as input\n\t        _this.pattern.forEach(function (row, i) {\n\t          _this.pattern[i][column] = values[i];\n\t        });\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      }\n\t    };\n\t\n\t    this.rotate = {\n\t      //should eventually do (amountX, amountY) here\n\t      // could just use a loop and this.rotate.row(i,amountX);\n\t      all: function (amount) {\n\t        if (!amount && amount !== 0) {\n\t          amount = 1;\n\t        }\n\t        amount %= _this.pattern[0].length;\n\t        if (amount < 0) {\n\t          amount = _this.pattern[0].length + amount;\n\t        }\n\t        for (var i = 0; i < _this.rows; i++) {\n\t          var cut = _this.pattern[i].splice(_this.pattern[i].length - amount, amount);\n\t          _this.pattern[i] = cut.concat(_this.pattern[i]);\n\t        }\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      row: function (row, amount) {\n\t        if (!amount && amount !== 0) {\n\t          amount = 1;\n\t        }\n\t        amount %= _this.pattern[0].length;\n\t        if (amount < 0) {\n\t          amount = _this.pattern[0].length + amount;\n\t        }\n\t        var cut = _this.pattern[row].splice(_this.pattern[row].length - amount, amount);\n\t        _this.pattern[row] = cut.concat(_this.pattern[row]);\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      column: function (column, amount) {\n\t        if (!amount && amount !== 0) {\n\t          amount = 1;\n\t        }\n\t        amount %= _this.pattern.length;\n\t        if (amount < 0) {\n\t          amount = _this.pattern.length + amount;\n\t        }\n\t        var proxy = [];\n\t        _this.pattern.forEach(function (row) {\n\t          proxy.push(row[column]);\n\t        });\n\t        var cut = proxy.splice(proxy.length - amount, amount);\n\t        proxy = cut.concat(proxy);\n\t        _this.pattern.forEach(function (row, i) {\n\t          row[column] = proxy[i];\n\t        });\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      }\n\t    };\n\t\n\t    // the idea behind populate is to be able to set a whole row or column to 0 or 1\n\t    // IF the value is a float, such as 0.7, then it would become a probability\n\t    // so populate(0.7) would give each cell a 70% chance of being 1\n\t    this.populate = {\n\t      all: function (odds) {\n\t        var oddsSequence = new Sequence(odds);\n\t        _this.iterate(function (r, c) {\n\t          _this.pattern[r][c] = math.coin(oddsSequence.next());\n\t        });\n\t        // This could be used so that each row has same odds pattern, even if row length is not divisibly by sequence length.\n\t        //,() => {\n\t        //  odds.pos = -1;\n\t        // }\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      row: function () {\n\t        var row = arguments[0] === undefined ? 0 : arguments[0];\n\t        var odds = arguments[1] === undefined ? 1 : arguments[1];\n\t\n\t        var oddsSequence = new Sequence(odds);\n\t        _this.pattern[row].forEach(function (cell, i) {\n\t          _this.pattern[row][i] = math.coin(oddsSequence.next());\n\t        });\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      column: function () {\n\t        var column = arguments[0] === undefined ? 0 : arguments[0];\n\t        var odds = arguments[1] === undefined ? 1 : arguments[1];\n\t\n\t        var oddsSequence = new Sequence(odds);\n\t        _this.pattern.forEach(function (row, i) {\n\t          _this.pattern[i][column] = math.coin(oddsSequence.next());\n\t        });\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      }\n\t    };\n\t\n\t    // essentiall populate(0) so i'm not sure if this is necessary but is nice\n\t    this.erase = {\n\t      all: function () {\n\t        _this.set.all(0);\n\t      },\n\t      row: function (row) {\n\t        _this.set.row(row, 0);\n\t      },\n\t      column: function (column) {\n\t        _this.set.column(column, 0);\n\t      }\n\t    };\n\t\n\t    // end constructor\n\t  }\n\t\n\t  _createClass(Matrix, {\n\t    create: {\n\t      value: function create(rows, columns) {\n\t        var _this = this;\n\t\n\t        this.pattern = [];\n\t        for (var row = 0; row < rows; row++) {\n\t          var arr = new Array(columns);\n\t          this.pattern.push(arr);\n\t        }\n\t        this.iterate(function (r, c) {\n\t          _this.pattern[r][c] = false;\n\t        });\n\t      }\n\t    },\n\t    iterate: {\n\t      value: function iterate(f, f2) {\n\t        var i = 0;\n\t        for (var row = 0; row < this.rows; row++) {\n\t          if (f2) {\n\t            f2(row);\n\t          }\n\t          for (var column = 0; column < this.columns; column++) {\n\t            f(row, column, i);\n\t            i++;\n\t          }\n\t        }\n\t      }\n\t    },\n\t    formatAsText: {\n\t      value: function formatAsText() {\n\t        var _this = this;\n\t\n\t        var patternString = \"\";\n\t        this.iterate(function (r, c) {\n\t          patternString += (_this.pattern[r][c] ? 1 : 0) + \" \";\n\t        }, function () {\n\t          patternString += \"\\n\";\n\t        });\n\t        return patternString;\n\t      }\n\t    },\n\t    log: {\n\t      value: function log() {\n\t        console.log(this.formatAsText());\n\t      }\n\t    },\n\t    update: {\n\t      value: function update(pattern) {\n\t        this.pattern = pattern || this.pattern;\n\t      }\n\t    },\n\t    length: {\n\t      get: function () {\n\t        return this.rows * this.columns;\n\t      }\n\t    },\n\t    locate: {\n\t      value: function locate(index) {\n\t        // returns row and column of cell by index\n\t        return {\n\t          row: ~ ~(index / this.columns),\n\t          column: index % this.columns\n\t        };\n\t      }\n\t    },\n\t    indexOf: {\n\t      value: function indexOf(row, column) {\n\t        return column + row * this.columns;\n\t        // returns index of cell by row and column\n\t      }\n\t    },\n\t    row: {\n\t      value: (function (_row) {\n\t        var _rowWrapper = function row(_x) {\n\t          return _row.apply(this, arguments);\n\t        };\n\t\n\t        _rowWrapper.toString = function () {\n\t          return _row.toString();\n\t        };\n\t\n\t        return _rowWrapper;\n\t      })(function (row) {\n\t        var data = [];\n\t        for (var i = 0; i < this.columns; i++) {\n\t          data.push(this.pattern[row] ? 1 : 0);\n\t        }\n\t        return data;\n\t      })\n\t    },\n\t    column: {\n\t      value: (function (_column) {\n\t        var _columnWrapper = function column(_x2) {\n\t          return _column.apply(this, arguments);\n\t        };\n\t\n\t        _columnWrapper.toString = function () {\n\t          return _column.toString();\n\t        };\n\t\n\t        return _columnWrapper;\n\t      })(function (column) {\n\t        var data = [];\n\t        for (var i = 0; i < this.rows; i++) {\n\t          data.push(this.pattern[i][column] ? 1 : 0);\n\t        }\n\t        return data;\n\t      })\n\t    },\n\t    rows: {\n\t      get: function () {\n\t        return this.pattern.length;\n\t      },\n\t      set: function (v) {\n\t        var _this = this;\n\t\n\t        var previous = this.pattern.slice(0);\n\t        this.create(v, this.columns);\n\t        this.iterate(function (r, c) {\n\t          if (previous[r] && previous[r][c]) {\n\t            _this.pattern[r][c] = previous[r][c];\n\t          }\n\t        });\n\t      }\n\t    },\n\t    columns: {\n\t      get: function () {\n\t        return this.pattern[0].length;\n\t      },\n\t      set: function (v) {\n\t        var _this = this;\n\t\n\t        var previous = this.pattern.slice(0);\n\t        this.create(this.rows, v);\n\t        this.iterate(function (r, c) {\n\t          if (previous[r] && previous[r][c]) {\n\t            _this.pattern[r][c] = previous[r][c];\n\t          }\n\t        });\n\t      }\n\t    }\n\t  });\n\t\n\t  return Matrix;\n\t})();\n\t\n\tmodule.exports = Matrix;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar math = _interopRequire(__webpack_require__(5));\n\t\n\tvar Drunk = _interopRequire(__webpack_require__(27));\n\t\n\tvar Sequence = (function () {\n\t  function Sequence() {\n\t    var sequence = arguments[0] === undefined ? [0, 10, 20, 30] : arguments[0];\n\t    var mode = arguments[1] === undefined ? \"up\" : arguments[1];\n\t    var position = arguments[2] === undefined ? false : arguments[2];\n\t\n\t    _classCallCheck(this, Sequence);\n\t\n\t    this.values = sequence;\n\t    if (!Array.isArray(this.values)) {\n\t      this.values = [this.values];\n\t    }\n\t    this._mode = mode;\n\t    this.position = position;\n\t\n\t    this.drunkWalk = new Drunk(0, this.values.length - 1);\n\t\n\t    this.startValues = {\n\t      up: 0,\n\t      down: this.values.length - 1,\n\t      drunk: ~ ~(this.values.length / 2),\n\t      random: math.ri(this.values.length)\n\t    };\n\t\n\t    if (this.position !== false) {\n\t      this.next = this[this._mode];\n\t    } else {\n\t      this.next = this.first;\n\t    }\n\t  }\n\t\n\t  _createClass(Sequence, {\n\t    mode: {\n\t      get: function () {\n\t        return this._mode;\n\t      },\n\t      set: function (mode) {\n\t        if (!(mode === \"up\" || mode === \"down\" || mode === \"random\" || mode === \"drunk\")) {\n\t          console.error(\"The only modes currently allowed are: up, down, random, drunk\");\n\t          return;\n\t        }\n\t        this._mode = mode;\n\t        if (this.position) {\n\t          this.next = this[this._mode];\n\t        }\n\t      }\n\t    },\n\t    value: {\n\t      get: function () {\n\t        return this.values[this.position];\n\t      },\n\t      set: function (v) {\n\t        this.position = this.values.indexOf(v);\n\t      }\n\t    },\n\t    first: {\n\t      value: function first() {\n\t        if (this.position !== false) {\n\t          this.next = this[this._mode];\n\t          return this.next();\n\t        }\n\t        this.position = this.startValues[this._mode];\n\t        this.next = this[this._mode];\n\t        return this.value;\n\t      }\n\t    },\n\t    up: {\n\t      value: function up() {\n\t        this.position++;\n\t        this.position %= this.values.length;\n\t        return this.value;\n\t      }\n\t    },\n\t    down: {\n\t      value: function down() {\n\t        this.position--;\n\t        if (this.position < 0) {\n\t          this.position = (this.position + this.values.length) % this.values.length;\n\t        }\n\t        return this.value;\n\t      }\n\t    },\n\t    random: {\n\t      value: function random() {\n\t        this.position = math.ri(0, this.values.length);\n\t        return this.value;\n\t      }\n\t    },\n\t    drunk: {\n\t      value: function drunk() {\n\t        this.drunkWalk.max = this.values.length;\n\t        this.drunkWalk.value = this.position;\n\t        this.position = this.drunkWalk.next();\n\t        return this.value;\n\t      }\n\t\n\t      /* future methods\r\n\t      .group(start,stop) -- outputs a group of n items from the list, with wrapping\r\n\t      .loop(start,stop) -- confines sequencing to a subset of the values\r\n\t          (could even have a distinction between .originalValues and the array of values being used)\r\n\t      */\n\t\n\t    }\n\t  });\n\t\n\t  return Sequence;\n\t})();\n\t\n\tmodule.exports = Sequence;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar math = _interopRequire(__webpack_require__(5));\n\t\n\tvar Drunk = (function () {\n\t    function Drunk() {\n\t        var min = arguments[0] === undefined ? 0 : arguments[0];\n\t        var max = arguments[1] === undefined ? 9 : arguments[1];\n\t        var value = arguments[2] === undefined ? 0 : arguments[2];\n\t        var increment = arguments[3] === undefined ? 1 : arguments[3];\n\t        var loop = arguments[4] === undefined ? false : arguments[4];\n\t\n\t        _classCallCheck(this, Drunk);\n\t\n\t        this.min = min;\n\t        this.max = max;\n\t        this.value = value;\n\t        this.increment = increment;\n\t        this.loop = loop;\n\t    }\n\t\n\t    _createClass(Drunk, {\n\t        next: {\n\t            value: function next() {\n\t                this.value += math.pick(-1 * this.increment, this.increment);\n\t                if (this.value > this.max) {\n\t                    if (this.loop) {\n\t                        this.value = this.min;\n\t                    } else {\n\t                        this.value = this.max - this.increment;\n\t                    }\n\t                }\n\t\n\t                if (this.value < this.min) {\n\t                    if (this.loop) {\n\t                        this.value = this.max;\n\t                    } else {\n\t                        this.value = this.min + this.increment;\n\t                    }\n\t                }\n\t                return this.value;\n\t            }\n\t        }\n\t    });\n\t\n\t    return Drunk;\n\t})();\n\t\n\tmodule.exports = Drunk;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar math = _interopRequire(__webpack_require__(5));\n\t\n\tvar Drunk = _interopRequire(__webpack_require__(27));\n\t\n\tvar Counter = (function () {\n\t    function Counter() {\n\t        var min = arguments[0] === undefined ? 0 : arguments[0];\n\t        var max = arguments[1] === undefined ? 10 : arguments[1];\n\t        var mode = arguments[2] === undefined ? \"up\" : arguments[2];\n\t        var value = arguments[3] === undefined ? false : arguments[3];\n\t\n\t        _classCallCheck(this, Counter);\n\t\n\t        this.min = min;\n\t        this.max = max;\n\t        this.value = value;\n\t        this.mode = mode;\n\t        this.drunkWalk = new Drunk(this.min, this.max);\n\t        if (this.value !== false) {\n\t            this.next = this[this._mode];\n\t        } else {\n\t            this.next = this.first;\n\t        }\n\t    }\n\t\n\t    _createClass(Counter, {\n\t        mode: {\n\t            set: function (mode) {\n\t                if (!(mode === \"up\" || mode === \"down\" || mode === \"random\" || mode === \"drunk\")) {\n\t                    console.error(\"The only modes currently allowed are: up, down, random, drunk\");\n\t                    return;\n\t                }\n\t                this._mode = mode;\n\t                if (this.value) {\n\t                    this.next = this[this._mode];\n\t                }\n\t            },\n\t            get: function () {\n\t                return this._mode;\n\t            }\n\t        },\n\t        first: {\n\t            value: function first() {\n\t                if (this.value !== false) {\n\t                    this.next = this[this._mode];\n\t                    return this.next();\n\t                }\n\t                this.startValues = {\n\t                    up: this.min,\n\t                    down: this.max,\n\t                    drunk: ~ ~math.average(this.min, this.max),\n\t                    random: math.ri(this.min, this.max)\n\t                };\n\t                this.value = this.startValues[this._mode];\n\t                this.next = this[this._mode];\n\t                return this.value;\n\t            }\n\t        },\n\t        up: {\n\t            value: function up() {\n\t                this.value++;\n\t                if (this.value >= this.max) {\n\t                    this.value = this.min;\n\t                }\n\t                return this.value;\n\t            }\n\t        },\n\t        down: {\n\t            value: function down() {\n\t                this.value--;\n\t                if (this.value < this.min) {\n\t                    this.value = this.max;\n\t                }\n\t                return this.value;\n\t            }\n\t        },\n\t        random: {\n\t            value: function random() {\n\t                this.value = math.ri(this.min, this.max);\n\t                return this.value;\n\t            }\n\t        },\n\t        drunk: {\n\t            value: function drunk() {\n\t                this.drunkWalk.min = this.min;\n\t                this.drunkWalk.max = this.max;\n\t                this.drunkWalk.value = this.value;\n\t                this.value = this.drunkWalk.next();\n\t                return this.value;\n\t            }\n\t        }\n\t    });\n\t\n\t    return Counter;\n\t})();\n\t\n\tmodule.exports = Counter;\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar svg = __webpack_require__(4);\n\tvar math = __webpack_require__(5);\n\tvar Interface = __webpack_require__(6);\n\tvar Step = __webpack_require__(11);\n\t\n\tvar Interaction = _interopRequireWildcard(__webpack_require__(12));\n\t\n\t/**\n\t* Pan2D\n\t*\n\t* @description Interface for moving a sound around an array of speakers. Speaker locations can be customized. The interface calculates the closeness of the sound source to each speaker and returns that distance as a numeric value.\n\t*\n\t* @demo <span nexus-ui=\"pan2D\"></span>\n\t*\n\t* @example\n\t* var pan2d = new Nexus.Pan2d('#target')\n\t*\n\t* @example\n\t* var pan2d = new Nexus.Pan2D('#target',{\n\t*   'size': [200,200],\n\t*   'range': 0.5,  // detection radius of each speaker\n\t*   'mode': 'absolute',   // 'absolute' or 'relative' sound movement\n\t*   'speakers': [  // the speaker [x,y] positions\n\t*       [0.5,0.2],\n\t*       [0.75,0.25],\n\t*       [0.8,0.5],\n\t*       [0.75,0.75],\n\t*       [0.5,0.8],\n\t*       [0.25,0.75]\n\t*       [0.2,0.5],\n\t*       [0.25,0.25]\n\t*   ]\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the \"source\" node's position changes. <br>\n\t* The event data is an array of the amplitudes (0-1), representing the level of each speaker (as calculated by its distance to the audio source).\n\t*\n\t* @outputexample\n\t* pan2d.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*/\n\t\n\tvar Pan2D = (function (_Interface) {\n\t  function Pan2D() {\n\t    _classCallCheck(this, Pan2D);\n\t\n\t    var options = [\"range\"];\n\t\n\t    var defaults = {\n\t      size: [200, 200],\n\t      range: 0.5,\n\t      mode: \"absolute\",\n\t      speakers: [[0.5, 0.2], [0.75, 0.25], [0.8, 0.5], [0.75, 0.75], [0.5, 0.8], [0.25, 0.75], [0.2, 0.5], [0.25, 0.25]]\n\t    };\n\t\n\t    _get(Object.getPrototypeOf(Pan2D.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\t\n\t    this.value = {\n\t      x: new Step(0, 1, 0, 0.5),\n\t      y: new Step(0, 1, 0, 0.5)\n\t    };\n\t\n\t    /**\n\t    Absolute or relative mouse interaction. In \"absolute\" mode, the source node will jump to your mouse position on mouse click. In \"relative\" mode, it does not.\n\t    */\n\t    this.mode = this.settings.mode;\n\t\n\t    this.position = {\n\t      x: new Interaction.Handle(this.mode, \"horizontal\", [0, this.width], [this.height, 0]),\n\t      y: new Interaction.Handle(this.mode, \"vertical\", [0, this.width], [this.height, 0])\n\t    };\n\t    this.position.x.value = this.value.x.normalized;\n\t    this.position.y.value = this.value.y.normalized;\n\t\n\t    /**\n\t    An array of speaker locations. Update this with .moveSpeaker() or .moveAllSpeakers()\n\t    */\n\t    this.speakers = this.settings.speakers;\n\t\n\t    /**\n\t    Rewrite: The maximum distance from a speaker that the source node can be for it to be heard from that speaker. A low range (0.1) will result in speakers only playing when the sound is very close it. Default is 0.5 (half of the interface).\n\t    */\n\t    this.range = this.settings.range;\n\t\n\t    /**\n\t    The current levels for each speaker. This is calculated when a source node or speaker node is moved through interaction or programatically.\n\t    */\n\t    this.levels = [];\n\t\n\t    this.init();\n\t\n\t    this.calculateLevels();\n\t    this.render();\n\t  }\n\t\n\t  _inherits(Pan2D, _Interface);\n\t\n\t  _createClass(Pan2D, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t\n\t        this.knob = svg.create(\"circle\");\n\t\n\t        this.element.appendChild(this.knob);\n\t\n\t        // add speakers\n\t        this.speakerElements = [];\n\t\n\t        for (var i = 0; i < this.speakers.length; i++) {\n\t          var speakerElement = svg.create(\"circle\");\n\t\n\t          this.element.appendChild(speakerElement);\n\t\n\t          this.speakerElements.push(speakerElement);\n\t        }\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t\n\t        this._minDimension = Math.min(this.width, this.height);\n\t\n\t        this.knobRadius = {\n\t          off: ~ ~(this._minDimension / 100) * 3 + 5 };\n\t        this.knobRadius.on = this.knobRadius.off * 2;\n\t\n\t        this.knob.setAttribute(\"cx\", this.width / 2);\n\t        this.knob.setAttribute(\"cy\", this.height / 2);\n\t        this.knob.setAttribute(\"r\", this.knobRadius.off);\n\t\n\t        for (var i = 0; i < this.speakers.length; i++) {\n\t          var speakerElement = this.speakerElements[i];\n\t          var speaker = this.speakers[i];\n\t          speakerElement.setAttribute(\"cx\", speaker[0] * this.width);\n\t          speakerElement.setAttribute(\"cy\", speaker[1] * this.height);\n\t          speakerElement.setAttribute(\"r\", this._minDimension / 20 + 5);\n\t          speakerElement.setAttribute(\"fill-opacity\", \"0\");\n\t        }\n\t\n\t        this.position.x.resize([0, this.width], [this.height, 0]);\n\t        this.position.y.resize([0, this.width], [this.height, 0]);\n\t\n\t        // next, need to\n\t        // resize positions\n\t        // calculate speaker distances\n\t        this.calculateLevels();\n\t        this.render();\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t\n\t        this.element.style.backgroundColor = this.colors.fill;\n\t        this.knob.setAttribute(\"fill\", this.colors.mediumLight);\n\t\n\t        for (var i = 0; i < this.speakers.length; i++) {\n\t          var speakerElement = this.speakerElements[i];\n\t          speakerElement.setAttribute(\"fill\", this.colors.accent);\n\t          speakerElement.setAttribute(\"stroke\", this.colors.accent);\n\t        }\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        this.knobCoordinates = {\n\t          x: this.value.x.normalized * this.width,\n\t          y: this.height - this.value.y.normalized * this.height\n\t        };\n\t\n\t        this.knob.setAttribute(\"cx\", this.knobCoordinates.x);\n\t        this.knob.setAttribute(\"cy\", this.knobCoordinates.y);\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.position.x.anchor = this.mouse;\n\t        this.position.y.anchor = this.mouse;\n\t        this.move();\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        if (this.clicked) {\n\t          this.position.x.update(this.mouse);\n\t          this.position.y.update(this.mouse);\n\t          // position.x and position.y are normalized\n\t          // so are the levels\n\t          // likely don't need this.value at all -- only used for drawing\n\t          // not going to be a 'step' or 'min' and 'max' in this one.\n\t          this.calculateLevels();\n\t          this.emit(\"change\", this.levels);\n\t          this.render();\n\t        }\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {\n\t        this.render();\n\t      }\n\t    },\n\t    normalized: {\n\t      get: function () {\n\t        return {\n\t          x: this.value.x.normalized,\n\t          y: this.value.y.normalized\n\t        };\n\t      }\n\t    },\n\t    calculateLevels: {\n\t      value: function calculateLevels() {\n\t        var _this = this;\n\t\n\t        this.value.x.updateNormal(this.position.x.value);\n\t        this.value.y.updateNormal(this.position.y.value);\n\t        this.levels = [];\n\t        this.speakers.forEach(function (s, i) {\n\t          var distance = math.distance(s[0] * _this.width, s[1] * _this.height, _this.position.x.value * _this.width, (1 - _this.position.y.value) * _this.height);\n\t          var level = math.clip(1 - distance / (_this.range * _this.width), 0, 1);\n\t          _this.levels.push(level);\n\t          _this.speakerElements[i].setAttribute(\"fill-opacity\", level);\n\t        });\n\t      }\n\t    },\n\t    moveSource: {\n\t\n\t      /**\n\t      Move the audio source node and trigger the output event.\n\t      @param x {number} New x location, normalized 0-1\n\t      @param y {number} New y location, normalized 0-1\n\t      */\n\t\n\t      value: function moveSource(x, y) {\n\t        var location = {\n\t          x: x * this.width,\n\t          y: y * this.height\n\t        };\n\t        this.position.x.update(location);\n\t        this.position.y.update(location);\n\t        this.calculateLevels();\n\t        this.emit(\"change\", this.levels);\n\t        this.render();\n\t      }\n\t    },\n\t    moveSpeaker: {\n\t\n\t      /**\n\t      Move a speaker node and trigger the output event.\n\t      @param index {number} Index of the speaker to move\n\t      @param x {number} New x location, normalized 0-1\n\t      @param y {number} New y location, normalized 0-1\n\t      */\n\t\n\t      value: function moveSpeaker(index, x, y) {\n\t\n\t        this.speakers[index] = [x, y];\n\t        this.speakerElements[index].setAttribute(\"cx\", x * this.width);\n\t        this.speakerElements[index].setAttribute(\"cy\", y * this.height);\n\t        this.calculateLevels();\n\t        this.emit(\"change\", this.levels);\n\t        this.render();\n\t      }\n\t\n\t      /**\n\t      Set all speaker locations\n\t      @param locations {Array} Array of speaker locations. Each item in the array should be an array of normalized x and y coordinates.\n\t       setSpeakers(locations) {\n\t       }\n\t      */\n\t\n\t    }\n\t  });\n\t\n\t  return Pan2D;\n\t})(Interface);\n\t\n\tmodule.exports = Pan2D;\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar math = __webpack_require__(5);\n\tvar svg = __webpack_require__(4);\n\tvar Interface = __webpack_require__(6);\n\t\n\t/**\n\t* Tilt\n\t*\n\t* @description Device tilt sensor with 2 or 3 axes (depending on your device and browser).\n\t*\n\t* @demo <span nexus-ui='tilt'></span>\n\t*\n\t* @example\n\t* var tilt = new Nexus.Tilt('#target')\n\t*\n\t* @output\n\t* change\n\t* Fires at a regular interval, as long as this interface is active (see the interface's <i>.active</i> property)<br>\n\t* The event data is an <i>object</i> containing x (number) and y (number) properties which represent the current tilt state of the device.\n\t*\n\t* @outputexample\n\t* tilt.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*\n\t*/\n\t\n\tvar Tilt = (function (_Interface) {\n\t  function Tilt() {\n\t    _classCallCheck(this, Tilt);\n\t\n\t    var options = [\"value\"];\n\t\n\t    var defaults = {\n\t      size: [80, 80]\n\t    };\n\t\n\t    _get(Object.getPrototypeOf(Tilt.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\t\n\t    this._active = true;\n\t\n\t    this.init();\n\t\n\t    // add event listener for device orientation\n\t\n\t    this.boundUpdate = this.update.bind(this);\n\t    //\tthis.boundMozTilt = this.mozTilt.bind(this)\n\t\n\t    if (window.DeviceOrientationEvent) {\n\t      this.orientationListener = window.addEventListener(\"deviceorientation\", this.boundUpdate, false);\n\t    } else {\n\t      this._active = false;\n\t      this.colorInterface();\n\t    }\n\t\n\t    /*else if (window.OrientationEvent) {\n\t    //\t  \twindow.addEventListener('MozOrientation', this.boundMozTilt, false);\n\t    } else {\n\t    console.log('Not supported on your device or browser.');\n\t    } */\n\t  }\n\t\n\t  _inherits(Tilt, _Interface);\n\t\n\t  _createClass(Tilt, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t\n\t        this.title = svg.create(\"text\");\n\t        this.circleX = svg.create(\"circle\");\n\t        this.circleY = svg.create(\"circle\");\n\t        this.circleZ = svg.create(\"circle\");\n\t\n\t        this.barX = svg.create(\"path\");\n\t        this.barY = svg.create(\"path\");\n\t        this.barZ = svg.create(\"path\");\n\t\n\t        this.barX2 = svg.create(\"path\");\n\t        this.barY2 = svg.create(\"path\");\n\t        this.barZ2 = svg.create(\"path\");\n\t\n\t        this.barX.setAttribute(\"opacity\", \"0.8\");\n\t        this.barY.setAttribute(\"opacity\", \"0.8\");\n\t        this.barZ.setAttribute(\"opacity\", \"0.8\");\n\t        this.barX2.setAttribute(\"opacity\", \"0.8\");\n\t        this.barY2.setAttribute(\"opacity\", \"0.8\");\n\t        this.barZ2.setAttribute(\"opacity\", \"0.8\");\n\t\n\t        this.circleX.setAttribute(\"cx\", this.width * 3 / 12);\n\t        this.circleX.setAttribute(\"cy\", this.height * 3 / 4);\n\t        this.circleX.setAttribute(\"r\", this.height / 10);\n\t        this.circleX.setAttribute(\"opacity\", \"0.4\");\n\t\n\t        this.circleY.setAttribute(\"cx\", this.width * 6 / 12);\n\t        this.circleY.setAttribute(\"cy\", this.height * 3 / 4);\n\t        this.circleY.setAttribute(\"r\", this.height / 10);\n\t        this.circleY.setAttribute(\"opacity\", \"0.4\");\n\t\n\t        this.circleZ.setAttribute(\"cx\", this.width * 9 / 12);\n\t        this.circleZ.setAttribute(\"cy\", this.height * 3 / 4);\n\t        this.circleZ.setAttribute(\"r\", this.height / 10);\n\t        this.circleZ.setAttribute(\"opacity\", \"0.4\");\n\t\n\t        this.barX.setAttribute(\"stroke-width\", Math.round(this.height / 30));\n\t        this.barY.setAttribute(\"stroke-width\", Math.round(this.height / 30));\n\t        this.barZ.setAttribute(\"stroke-width\", Math.round(this.height / 30));\n\t\n\t        this.barX.setAttribute(\"fill\", \"none\");\n\t        this.barY.setAttribute(\"fill\", \"none\");\n\t        this.barZ.setAttribute(\"fill\", \"none\");\n\t\n\t        this.barX2.setAttribute(\"stroke-width\", Math.round(this.height / 30));\n\t        this.barY2.setAttribute(\"stroke-width\", Math.round(this.height / 30));\n\t        this.barZ2.setAttribute(\"stroke-width\", Math.round(this.height / 30));\n\t\n\t        this.barX2.setAttribute(\"fill\", \"none\");\n\t        this.barY2.setAttribute(\"fill\", \"none\");\n\t        this.barZ2.setAttribute(\"fill\", \"none\");\n\t\n\t        this.title.setAttribute(\"x\", this.width / 2);\n\t        this.title.setAttribute(\"y\", this.height / 3 + 7);\n\t        this.title.setAttribute(\"font-size\", \"15px\");\n\t        this.title.setAttribute(\"font-weight\", \"bold\");\n\t        this.title.setAttribute(\"letter-spacing\", \"2px\");\n\t        this.title.setAttribute(\"opacity\", \"0.7\");\n\t        this.title.setAttribute(\"text-anchor\", \"middle\");\n\t        this.title.textContent = \"TILT\";\n\t\n\t        this.element.appendChild(this.circleX);\n\t        this.element.appendChild(this.circleY);\n\t        this.element.appendChild(this.circleZ);\n\t\n\t        this.element.appendChild(this.barX);\n\t        this.element.appendChild(this.barY);\n\t        this.element.appendChild(this.barZ);\n\t\n\t        this.element.appendChild(this.barX2);\n\t        this.element.appendChild(this.barY2);\n\t        this.element.appendChild(this.barZ2);\n\t\n\t        this.element.appendChild(this.title);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t\n\t        if (this._active) {\n\t          this.element.style.backgroundColor = this.colors.accent;\n\t          this.circleX.setAttribute(\"fill\", this.colors.light);\n\t          this.circleY.setAttribute(\"fill\", this.colors.light);\n\t          this.circleZ.setAttribute(\"fill\", this.colors.light);\n\t          this.circleX.setAttribute(\"stroke\", this.colors.light);\n\t          this.circleY.setAttribute(\"stroke\", this.colors.light);\n\t          this.circleZ.setAttribute(\"stroke\", this.colors.light);\n\t          this.barX.setAttribute(\"stroke\", this.colors.light);\n\t          this.barY.setAttribute(\"stroke\", this.colors.light);\n\t          this.barZ.setAttribute(\"stroke\", this.colors.light);\n\t          this.barX2.setAttribute(\"stroke\", this.colors.light);\n\t          this.barY2.setAttribute(\"stroke\", this.colors.light);\n\t          this.barZ2.setAttribute(\"stroke\", this.colors.light);\n\t          this.title.setAttribute(\"fill\", this.colors.light);\n\t        } else {\n\t          this.element.style.backgroundColor = this.colors.fill;\n\t          this.circleX.setAttribute(\"fill\", this.colors.mediumLight);\n\t          this.circleY.setAttribute(\"fill\", this.colors.mediumLight);\n\t          this.circleZ.setAttribute(\"fill\", this.colors.mediumLight);\n\t          this.circleX.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.circleY.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.circleZ.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.barX.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.barY.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.barZ.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.barX2.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.barY2.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.barZ2.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.title.setAttribute(\"fill\", this.colors.mediumLight);\n\t        }\n\t      }\n\t    },\n\t    update: {\n\t      value: function update(v) {\n\t        if (this._active) {\n\t\n\t          var y = v.beta;\n\t          var x = v.gamma;\n\t          var z = v.alpha;\n\t\n\t          // take the original -90 to 90 scale and normalize it 0-1\n\t          x = math.scale(x, -90, 90, 0, 1);\n\t          y = math.scale(y, -90, 90, 0, 1);\n\t          z = math.scale(z, 0, 360, 0, 1);\n\t\n\t          var handlePoints = {\n\t            start: Math.PI * 1.5,\n\t            end: math.clip(math.scale(x, 0, 0.5, Math.PI * 1.5, Math.PI * 0.5), Math.PI * 0.5, Math.PI * 1.5)\n\t          };\n\t          var handle2Points = {\n\t            start: Math.PI * 2.5,\n\t            end: math.clip(math.scale(x, 0.5, 1, Math.PI * 2.5, Math.PI * 1.5), Math.PI * 1.5, Math.PI * 2.5)\n\t          };\n\t\n\t          var handlePath = svg.arc(this.circleX.cx.baseVal.value, this.circleX.cy.baseVal.value, this.circleX.r.baseVal.value, handlePoints.start, handlePoints.end);\n\t          var handle2Path = svg.arc(this.circleX.cx.baseVal.value, this.circleX.cy.baseVal.value, this.circleX.r.baseVal.value, handle2Points.start, handle2Points.end);\n\t\n\t          this.barX.setAttribute(\"d\", handlePath);\n\t          this.barX2.setAttribute(\"d\", handle2Path);\n\t\n\t          handlePoints = {\n\t            start: Math.PI * 1.5,\n\t            end: math.clip(math.scale(y, 0, 0.5, Math.PI * 1.5, Math.PI * 0.5), Math.PI * 0.5, Math.PI * 1.5)\n\t          };\n\t          handle2Points = {\n\t            start: Math.PI * 2.5,\n\t            end: math.clip(math.scale(y, 0.5, 1, Math.PI * 2.5, Math.PI * 1.5), Math.PI * 1.5, Math.PI * 2.5)\n\t          };\n\t\n\t          handlePath = svg.arc(this.circleY.cx.baseVal.value, this.circleY.cy.baseVal.value, this.circleY.r.baseVal.value, handlePoints.start, handlePoints.end);\n\t          handle2Path = svg.arc(this.circleY.cx.baseVal.value, this.circleY.cy.baseVal.value, this.circleY.r.baseVal.value, handle2Points.start, handle2Points.end);\n\t\n\t          this.barY.setAttribute(\"d\", handlePath);\n\t          this.barY2.setAttribute(\"d\", handle2Path);\n\t\n\t          handlePoints = {\n\t            start: Math.PI * 1.5,\n\t            end: math.clip(math.scale(z, 0, 0.5, Math.PI * 1.5, Math.PI * 0.5), Math.PI * 0.5, Math.PI * 1.5)\n\t          };\n\t          handle2Points = {\n\t            start: Math.PI * 2.5,\n\t            end: math.clip(math.scale(z, 0.5, 1, Math.PI * 2.5, Math.PI * 1.5), Math.PI * 1.5, Math.PI * 2.5)\n\t          };\n\t\n\t          handlePath = svg.arc(this.circleZ.cx.baseVal.value, this.circleZ.cy.baseVal.value, this.circleZ.r.baseVal.value, handlePoints.start, handlePoints.end);\n\t          handle2Path = svg.arc(this.circleZ.cx.baseVal.value, this.circleZ.cy.baseVal.value, this.circleZ.r.baseVal.value, handle2Points.start, handle2Points.end);\n\t\n\t          this.barZ.setAttribute(\"d\", handlePath);\n\t          this.barZ2.setAttribute(\"d\", handle2Path);\n\t\n\t          /*\n\t           let pointsX = {\n\t            start: 0,\n\t            end: math.scale( x, 0, 1, 0, Math.PI*2 )\n\t          };\n\t          //  console.log(this.circleX.cx.baseVal.value);\n\t           let pathX = svg.arc(this.circleX.cx.baseVal.value, this.circleX.cy.baseVal.value, this.circleX.r.baseVal.value*2, pointsX.start, pointsX.end);\n\t           this.barX.setAttribute('d',pathX); */\n\t\n\t          //this.textH.textContent = math.prune(x,2);\n\t          //this.textV.textContent = math.prune(y,2);\n\t          //\n\t          //  this.circleX.setAttribute('opacity',x);\n\t          //  this.circleY.setAttribute('opacity',y);\n\t          //  this.circleZ.setAttribute('opacity',z);\n\t\n\t          this.emit(\"change\", {\n\t            x: x,\n\t            y: y,\n\t            z: z\n\t          });\n\t        }\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        if (window.DeviceOrientationEvent) {\n\t          this.active = !this.active;\n\t        }\n\t      }\n\t    },\n\t    active: {\n\t\n\t      /**\n\t      Whether the interface is on (emitting values) or off (paused & not emitting values). Setting this property will update it.\n\t      @type {boolean}\n\t      */\n\t\n\t      get: function () {\n\t        return this._active;\n\t      },\n\t      set: function (on) {\n\t        this._active = on;\n\t        this.colorInterface();\n\t      }\n\t    },\n\t    customDestroy: {\n\t      value: function customDestroy() {\n\t        window.removeEventListener(\"deviceorientation\", this.boundUpdate, false);\n\t      }\n\t    }\n\t  });\n\t\n\t  return Tilt;\n\t})(Interface);\n\t\n\tmodule.exports = Tilt;\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar dom = __webpack_require__(7);\n\tvar math = __webpack_require__(5);\n\tvar Interface = __webpack_require__(6);\n\tvar SliderTemplate = __webpack_require__(32);\n\tvar touch = __webpack_require__(9);\n\t\n\tvar SingleSlider = (function (_SliderTemplate) {\n\t  function SingleSlider() {\n\t    var _this = this;\n\t\n\t    _classCallCheck(this, SingleSlider);\n\t\n\t    var options = [\"scale\", \"value\"];\n\t\n\t    var defaults = {\n\t      size: [120, 20],\n\t      orientation: \"vertical\",\n\t      mode: \"absolute\",\n\t      scale: [0, 1],\n\t      step: 0,\n\t      value: 0,\n\t      hasKnob: true\n\t    };\n\t\n\t    _get(Object.getPrototypeOf(SingleSlider.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\t\n\t    /* events */\n\t\n\t    if (!touch.exists) {\n\t\n\t      this.click = function () {\n\t        _this.multislider.interacting = true;\n\t        _this.multislider.interpolation = {\n\t          index: _this.index,\n\t          value: _this.value\n\t        };\n\t        _this.down();\n\t        _this.multislider.values[_this.index] = _this.value;\n\t      };\n\t      this.element.addEventListener(\"mouseover\", function (e) {\n\t        if (_this.multislider.interacting) {\n\t          if (!_this.offset) {\n\t            _this.offset = dom.findPosition(_this.element);\n\t          }\n\t          _this.mouse = dom.locateMouse(e, _this.offset);\n\t          _this.down();\n\t          _this.multislider.values[_this.index] = _this.value;\n\t          if (_this.multislider.interpolation) {\n\t            var distance = Math.abs(_this.multislider.interpolation.index - _this.index);\n\t            if (distance > 1) {\n\t              var low = Math.min(_this.multislider.interpolation.index, _this.index);\n\t              var high = Math.max(_this.multislider.interpolation.index, _this.index);\n\t              var lowValue = _this.multislider.sliders[low].value;\n\t              var highValue = _this.multislider.sliders[high].value;\n\t              for (var i = low; i < high; i++) {\n\t                _this.multislider.sliders[i].value = math.interp((i - low) / distance, lowValue, highValue);\n\t              }\n\t            }\n\t          }\n\t\n\t          _this.multislider.interpolation = {\n\t            index: _this.index,\n\t            value: _this.value\n\t          };\n\t        }\n\t      });\n\t\n\t      this.move = function () {};\n\t      this.element.addEventListener(\"mousemove\", function (e) {\n\t        if (_this.multislider.interacting) {\n\t          if (!_this.offset) {\n\t            _this.offset = dom.findPosition(_this.element);\n\t          }\n\t          _this.mouse = dom.locateMouse(e, _this.offset);\n\t          _this.slide();\n\t          _this.multislider.values[_this.index] = _this.value;\n\t        }\n\t      });\n\t\n\t      this.release = function () {\n\t        _this.multislider.interacting = false;\n\t        _this.multislider.interpolation = false;\n\t      };\n\t      this.element.addEventListener(\"mouseup\", function () {\n\t        if (_this.multislider.interacting) {\n\t          _this.up();\n\t          _this.multislider.interpolation = false;\n\t          _this.multislider.values[_this.index] = _this.value;\n\t        }\n\t      });\n\t      this.element.addEventListener(\"mouseout\", function () {\n\t        if (_this.multislider.interacting) {\n\t          _this.up();\n\t          _this.multislider.values[_this.index] = _this.value;\n\t        }\n\t      });\n\t    }\n\t\n\t    this.customStyle();\n\t  }\n\t\n\t  _inherits(SingleSlider, _SliderTemplate);\n\t\n\t  _createClass(SingleSlider, {\n\t    customStyle: {\n\t      value: function customStyle() {\n\t\n\t        /* style changes */\n\t\n\t        this.bar.setAttribute(\"x\", 0);\n\t        this.bar.setAttribute(\"transform\", \"translate(0,0)\");\n\t        this.bar.setAttribute(\"rx\", 0); // corner radius\n\t        this.bar.setAttribute(\"ry\", 0);\n\t        this.bar.setAttribute(\"width\", this.width);\n\t        this.bar.setAttribute(\"height\", this.height);\n\t\n\t        this.fillbar.setAttribute(\"x\", 0);\n\t        this.fillbar.setAttribute(\"transform\", \"translate(0,0)\");\n\t        this.fillbar.setAttribute(\"rx\", 0); // corner radius\n\t        this.fillbar.setAttribute(\"ry\", 0);\n\t        this.fillbar.setAttribute(\"width\", this.width);\n\t        this.fillbar.setAttribute(\"height\", this.height);\n\t      }\n\t    }\n\t  });\n\t\n\t  return SingleSlider;\n\t})(SliderTemplate);\n\t\n\t/**\n\t* Multislider\n\t*\n\t* @description Multislider\n\t*\n\t* @demo <span nexus-ui=\"multislider\"></span>\n\t*\n\t* @example\n\t* var multislider = new Nexus.Multislider('#target')\n\t*\n\t* @example\n\t* var multislider = new Nexus.Multislider('#target',{\n\t*  'size': [200,100],\n\t*  'numberOfSliders': 5,\n\t*  'min': 0,\n\t*  'max': 1,\n\t*  'step': 0,\n\t*  'values': [0.7,0.7,0.7,0.7,0.7]\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* The event data an object containing <i>index</i> and <i>value</i> properties\n\t*\n\t* @outputexample\n\t* multislider.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*/\n\t\n\t/*\n\tProperties\n\t.values\n\t\n\t*/\n\t\n\tvar Multislider = (function (_Interface) {\n\t  function Multislider() {\n\t    _classCallCheck(this, Multislider);\n\t\n\t    var options = [\"value\"];\n\t\n\t    var defaults = {\n\t      size: [200, 100],\n\t      numberOfSliders: 5,\n\t      min: 0,\n\t      max: 1,\n\t      step: 0,\n\t      values: [0.7, 0.7, 0.7, 0.7, 0.7]\n\t    };\n\t\n\t    _get(Object.getPrototypeOf(Multislider.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\t\n\t    this._numberOfSliders = this.settings.numberOfSliders;\n\t    this.values = this.settings.values;\n\t\n\t    this.sliders = [];\n\t\n\t    this.interacting = false;\n\t\n\t    this.init();\n\t  }\n\t\n\t  _inherits(Multislider, _Interface);\n\t\n\t  _createClass(Multislider, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = document.createElement(\"div\");\n\t        this.parent.appendChild(this.element);\n\t      }\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t\n\t        var min = this.settings.min;\n\t        var max = this.settings.max;\n\t        var step = this.settings.step;\n\t\n\t        if (this.sliders.length) {\n\t          min = this.sliders[0].min;\n\t          max = this.sliders[0].max;\n\t          step = this.sliders[0].step;\n\t        }\n\t\n\t        this.sliders = [];\n\t\n\t        for (var i = 0; i < this._numberOfSliders; i++) {\n\t          var container = document.createElement(\"span\");\n\t\n\t          var slider = new SingleSlider(container, {\n\t            scale: [min, max],\n\t            step: step,\n\t            mode: \"absolute\",\n\t            orientation: \"vertical\",\n\t            value: this.values[i],\n\t            hasKnob: false,\n\t            component: true }, this.update.bind(this, i));\n\t          slider.multislider = this;\n\t\n\t          slider.index = i;\n\t          if (touch.exists) {\n\t            slider.bar.index = i;\n\t            slider.fillbar.index = i;\n\t            slider.preClick = slider.preMove = slider.preRelease = function () {};\n\t            slider.click = slider.move = slider.release = function () {};\n\t            slider.preTouch = slider.preTouchMove = slider.preTouchRelease = function () {};\n\t            slider.touch = slider.touchMove = slider.touchRelease = function () {};\n\t          }\n\t\n\t          this.sliders.push(slider);\n\t          this.element.appendChild(container);\n\t        }\n\t        if (touch.exists) {\n\t          this.addTouchListeners();\n\t        }\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        for (var i = 0; i < this.sliders.length; i++) {\n\t          this.sliders[i].colors = this.colors;\n\t          this.sliders[i].colorInterface();\n\t        }\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t\n\t        var sliderWidth = this.width / this.sliders.length;\n\t        var sliderHeight = this.height;\n\t\n\t        for (var i = 0; i < this.sliders.length; i++) {\n\t          this.sliders[i].resize(sliderWidth, sliderHeight);\n\t          this.sliders[i].customStyle();\n\t        }\n\t      }\n\t    },\n\t    update: {\n\t      value: function update(index, value) {\n\t        this.emit(\"change\", {\n\t          index: index,\n\t          value: value\n\t        });\n\t      }\n\t    },\n\t    addTouchListeners: {\n\t      value: function addTouchListeners() {\n\t        var _this = this;\n\t\n\t        this.preClick = this.preMove = this.preRelease = function () {};\n\t        this.click = this.move = this.release = function () {};\n\t        this.preTouch = this.preTouchMove = this.preTouchRelease = function () {};\n\t        this.touch = this.touchMove = this.touchRelease = function () {};\n\t\n\t        this.currentElement = false;\n\t\n\t        this.element.addEventListener(\"touchstart\", function (e) {\n\t          var element = document.elementFromPoint(e.targetTouches[0].clientX, e.targetTouches[0].clientY);\n\t          var slider = _this.sliders[element.index];\n\t          if (!slider.offset) {\n\t            slider.offset = dom.findPosition(slider.element);\n\t          }\n\t          slider.mouse = dom.locateMouse(e, slider.offset);\n\t          slider.down();\n\t          _this.currentElement = element.index;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\t\n\t        this.element.addEventListener(\"touchmove\", function (e) {\n\t          var element = document.elementFromPoint(e.targetTouches[0].clientX, e.targetTouches[0].clientY);\n\t          var slider = _this.sliders[element.index];\n\t          if (!slider.offset) {\n\t            slider.offset = dom.findPosition(slider.element);\n\t          }\n\t          slider.mouse = dom.locateMouse(e, slider.offset);\n\t          if (element.index !== _this.currentElement) {\n\t            if (_this.currentElement >= 0) {\n\t              var pastslider = _this.sliders[_this.currentElement];\n\t              pastslider.up();\n\t            }\n\t            slider.down();\n\t          } else {\n\t            slider.slide();\n\t          }\n\t          _this.currentElement = element.index;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\t\n\t        this.element.addEventListener(\"touchend\", function (e) {\n\t          // no touches to calculate because none remaining\n\t          var slider = _this.sliders[_this.currentElement];\n\t          slider.up();\n\t          _this.interacting = false;\n\t          _this.currentElement = false;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\t      }\n\t    },\n\t    numberOfSliders: {\n\t\n\t      /**\n\t      Get or set the number of sliders\n\t      @type {Number}\n\t      */\n\t\n\t      get: function () {\n\t        return this.sliders.length;\n\t      },\n\t      set: function (v) {\n\t        if (v === this.sliders.length) {\n\t          return;\n\t        }\n\t        this.sliders.forEach(function (slider) {\n\t          slider.destroy();\n\t        });\n\t        this.empty();\n\t        this._numberOfSliders = v;\n\t        this.buildInterface();\n\t      }\n\t    },\n\t    min: {\n\t\n\t      /**\n\t      Lower limit of the multislider's output range\n\t      @type {number}\n\t      @example multislider.min = 1000;\n\t      */\n\t\n\t      get: function () {\n\t        return this.sliders[0].min;\n\t      },\n\t      set: function (v) {\n\t        this.sliders.forEach(function (slider) {\n\t          slider.min = v;\n\t        });\n\t      }\n\t    },\n\t    max: {\n\t\n\t      /**\n\t      Upper limit of the multislider's output range\n\t      @type {number}\n\t      @example multislider.max = 1000;\n\t      */\n\t\n\t      get: function () {\n\t        return this.sliders[0].max;\n\t      },\n\t      set: function (v) {\n\t        this.sliders.forEach(function (slider) {\n\t          slider.max = v;\n\t        });\n\t      }\n\t    },\n\t    step: {\n\t\n\t      /**\n\t      The increment that the multislider's value changes by.\n\t      @type {number}\n\t      @example multislider.step = 5;\n\t      */\n\t\n\t      get: function () {\n\t        return this.sliders[0].step;\n\t      },\n\t      set: function (v) {\n\t        this.sliders.forEach(function (slider) {\n\t          slider.step = v;\n\t        });\n\t      }\n\t    },\n\t    setSlider: {\n\t\n\t      /**\n\t      Set the value of an individual slider\n\t      @param index {number} Slider index\n\t      @param value {number} New slider value\n\t      @example\n\t      // Set the first slider to value 0.5\n\t      multislider.setSlider(0,0.5)\n\t      */\n\t\n\t      value: function setSlider(index, value) {\n\t        this.sliders[index].value = value;\n\t        this.emit(\"change\", {\n\t          index: index,\n\t          value: value\n\t        });\n\t      }\n\t    },\n\t    setAllSliders: {\n\t\n\t      /**\n\t      Set the value of all sliders at once. If the size of the input array does not match the current number of sliders, the value array will repeat until all sliders have been set. I.e. an input array of length 1 will set all sliders to that value.\n\t      @param values {Array} All slider values\n\t      @example\n\t      multislider.setAllSliders([0.2,0.3,0.4,0.5,0.6])\n\t      */\n\t\n\t      value: function setAllSliders(values) {\n\t        var _this = this;\n\t\n\t        this.values = values;\n\t        this.sliders.forEach(function (slider, i) {\n\t          slider.value = values[i % values.length];\n\t          _this.emit(\"change\", {\n\t            index: i,\n\t            value: slider.value\n\t          });\n\t        });\n\t      }\n\t    }\n\t  });\n\t\n\t  return Multislider;\n\t})(Interface);\n\t\n\tmodule.exports = Multislider;\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar svg = __webpack_require__(4);\n\tvar Interface = __webpack_require__(6);\n\tvar Step = __webpack_require__(11);\n\t\n\tvar Interaction = _interopRequireWildcard(__webpack_require__(12));\n\t\n\tvar SliderTemplate = (function (_Interface) {\n\t  function SliderTemplate(args, options, defaults) {\n\t    _classCallCheck(this, SliderTemplate);\n\t\n\t    _get(Object.getPrototypeOf(SliderTemplate.prototype), \"constructor\", this).call(this, args, options, defaults);\n\t\n\t    this.orientation = this.settings.orientation;\n\t\n\t    //  this.mode = this.settings.mode;\n\t\n\t    this.hasKnob = this.settings.hasKnob;\n\t\n\t    // this.step should eventually be get/set\n\t    // updating it will update the _value step model\n\t    //  this.step = this.settings.step; // float\n\t\n\t    this._value = new Step(this.settings.scale[0], this.settings.scale[1], this.settings.step, this.settings.value);\n\t\n\t    this.init();\n\t\n\t    this.position = new Interaction.Handle(this.settings.mode, this.orientation, [0, this.width], [this.height, 0]);\n\t    this.position.value = this._value.normalized;\n\t\n\t    this.value = this._value.value;\n\t\n\t    this.emit(\"change\", this.value);\n\t  }\n\t\n\t  _inherits(SliderTemplate, _Interface);\n\t\n\t  _createClass(SliderTemplate, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t\n\t        this.bar = svg.create(\"rect\");\n\t        this.fillbar = svg.create(\"rect\");\n\t        this.knob = svg.create(\"circle\");\n\t\n\t        this.element.appendChild(this.bar);\n\t        this.element.appendChild(this.fillbar);\n\t        this.element.appendChild(this.knob);\n\t\n\t        this.sizeInterface();\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t\n\t        if (!this.settings.orientation) {\n\t          if (this.width < this.height) {\n\t            this.orientation = \"vertical\";\n\t          } else {\n\t            this.orientation = \"horizontal\";\n\t          }\n\t        }\n\t\n\t        var x = undefined,\n\t            y = undefined,\n\t            w = undefined,\n\t            h = undefined,\n\t            barOffset = undefined,\n\t            cornerRadius = undefined;\n\t        this.knobData = {\n\t          level: 0,\n\t          r: 0\n\t        };\n\t\n\t        if (this.orientation === \"vertical\") {\n\t          this.thickness = this.width / 2;\n\t          x = this.width / 2;\n\t          y = 0;\n\t          w = this.thickness;\n\t          h = this.height;\n\t          this.knobData.r = this.thickness * 0.8;\n\t          this.knobData.level = h - this.normalized * h;\n\t          barOffset = \"translate(\" + this.thickness * -1 / 2 + \",0)\";\n\t          cornerRadius = w / 2;\n\t        } else {\n\t          this.thickness = this.height / 2;\n\t          x = 0;\n\t          y = this.height / 2;\n\t          w = this.width;\n\t          h = this.thickness;\n\t          this.knobData.r = this.thickness * 0.8;\n\t          this.knobData.level = this.normalized * w;\n\t          barOffset = \"translate(0,\" + this.thickness * -1 / 2 + \")\";\n\t          cornerRadius = h / 2;\n\t        }\n\t\n\t        this.bar.setAttribute(\"x\", x);\n\t        this.bar.setAttribute(\"y\", y);\n\t        this.bar.setAttribute(\"transform\", barOffset);\n\t        this.bar.setAttribute(\"rx\", cornerRadius); // corner radius\n\t        this.bar.setAttribute(\"ry\", cornerRadius);\n\t        this.bar.setAttribute(\"width\", w);\n\t        this.bar.setAttribute(\"height\", h);\n\t\n\t        if (this.orientation === \"vertical\") {\n\t          this.fillbar.setAttribute(\"x\", x);\n\t          this.fillbar.setAttribute(\"y\", this.knobData.level);\n\t          this.fillbar.setAttribute(\"width\", w);\n\t          this.fillbar.setAttribute(\"height\", h - this.knobData.level);\n\t        } else {\n\t          this.fillbar.setAttribute(\"x\", 0);\n\t          this.fillbar.setAttribute(\"y\", y);\n\t          this.fillbar.setAttribute(\"width\", this.knobData.level);\n\t          this.fillbar.setAttribute(\"height\", h);\n\t        }\n\t        this.fillbar.setAttribute(\"transform\", barOffset);\n\t        this.fillbar.setAttribute(\"rx\", cornerRadius);\n\t        this.fillbar.setAttribute(\"ry\", cornerRadius);\n\t\n\t        if (this.orientation === \"vertical\") {\n\t          this.knob.setAttribute(\"cx\", x);\n\t          this.knob.setAttribute(\"cy\", this.knobData.level);\n\t        } else {\n\t          this.knob.setAttribute(\"cx\", this.knobData.level);\n\t          this.knob.setAttribute(\"cy\", y);\n\t        }\n\t        this.knob.setAttribute(\"r\", this.knobData.r);\n\t\n\t        if (this.position) {\n\t          this.position.resize([0, this.width], [this.height, 0]);\n\t        }\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t\n\t        this.bar.setAttribute(\"fill\", this.colors.fill);\n\t        this.fillbar.setAttribute(\"fill\", this.colors.accent);\n\t        this.knob.setAttribute(\"fill\", this.colors.accent);\n\t        if (!this.hasKnob) {\n\t          this.knob.setAttribute(\"fill\", \"none\");\n\t        }\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (!this.clicked) {\n\t          this.knobData.r = this.thickness * 0.75;\n\t        }\n\t        this.knob.setAttribute(\"r\", this.knobData.r);\n\t\n\t        if (this.orientation === \"vertical\") {\n\t          this.knobData.level = this._value.normalized * this.height;\n\t          this.knob.setAttribute(\"cy\", this.height - this.knobData.level);\n\t          this.fillbar.setAttribute(\"y\", this.height - this.knobData.level);\n\t          this.fillbar.setAttribute(\"height\", this.knobData.level);\n\t        } else {\n\t          this.knobData.level = this._value.normalized * this.width;\n\t          this.knob.setAttribute(\"cx\", this.knobData.level);\n\t          this.fillbar.setAttribute(\"x\", 0);\n\t          this.fillbar.setAttribute(\"width\", this.knobData.level);\n\t        }\n\t      }\n\t    },\n\t    down: {\n\t      value: function down() {\n\t        this.clicked = true;\n\t        this.knobData.r = this.thickness * 0.9;\n\t        this.position.anchor = this.mouse;\n\t        this.slide();\n\t      }\n\t    },\n\t    slide: {\n\t      value: function slide() {\n\t        if (this.clicked) {\n\t          this.position.update(this.mouse);\n\t          this.value = this._value.updateNormal(this.position.value);\n\t          this.emit(\"change\", this.value);\n\t        }\n\t      }\n\t    },\n\t    up: {\n\t      value: function up() {\n\t        this.clicked = false;\n\t        this.render();\n\t      }\n\t    },\n\t    normalized: {\n\t      get: function () {\n\t        return this._value.normalized;\n\t      }\n\t    },\n\t    value: {\n\t\n\t      /**\n\t      The slider's current value. If set manually, will update the interface and trigger the output event.\n\t      @type {number}\n\t      @example slider.value = 10;\n\t      */\n\t\n\t      get: function () {\n\t        return this._value.value;\n\t      },\n\t      set: function (v) {\n\t        this._value.update(v);\n\t        this.position.value = this._value.normalized;\n\t        this.render();\n\t      }\n\t    },\n\t    min: {\n\t\n\t      /**\n\t      Lower limit of the sliders's output range\n\t      @type {number}\n\t      @example slider.min = 1000;\n\t      */\n\t\n\t      get: function () {\n\t        return this._value.min;\n\t      },\n\t      set: function (v) {\n\t        this._value.min = v;\n\t      }\n\t    },\n\t    max: {\n\t\n\t      /**\n\t      Upper limit of the slider's output range\n\t      @type {number}\n\t      @example slider.max = 1000;\n\t      */\n\t\n\t      get: function () {\n\t        return this._value.max;\n\t      },\n\t      set: function (v) {\n\t        this._value.max = v;\n\t      }\n\t    },\n\t    step: {\n\t\n\t      /**\n\t      The increment that the slider's value changes by.\n\t      @type {number}\n\t      @example slider.step = 5;\n\t      */\n\t\n\t      get: function () {\n\t        return this._value.step;\n\t      },\n\t      set: function (v) {\n\t        this._value.step = v;\n\t      }\n\t    },\n\t    mode: {\n\t\n\t      /**\n\t      Absolute mode (slider's value jumps to mouse click position) or relative mode (mouse drag changes value relative to its current position). Default: \"relative\".\n\t      @type {string}\n\t      @example slider.mode = \"relative\";\n\t      */\n\t\n\t      get: function () {\n\t        return this.position.mode;\n\t      },\n\t      set: function (v) {\n\t        this.position.mode = v;\n\t      }\n\t    }\n\t  });\n\t\n\t  return SliderTemplate;\n\t})(Interface);\n\t\n\tmodule.exports = SliderTemplate;\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar svg = __webpack_require__(4);\n\tvar math = __webpack_require__(5);\n\tvar Interface = __webpack_require__(6);\n\tvar Step = __webpack_require__(11);\n\t\n\tvar Interaction = _interopRequireWildcard(__webpack_require__(12));\n\t\n\t/**\n\t* Pan\n\t*\n\t* @description Stereo crossfader.\n\t*\n\t* @demo <span nexus-ui=\"pan\"></span>\n\t*\n\t* @example\n\t* var pan = new Nexus.Pan('#target')\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* The event data is an object containing the interface's <i>value</i> (-1 to 1), as well as <i>L</i> and <i>R</i> amplitude values (0-1) for left and right speakers, calculated by a square-root crossfade algorithm.\n\t*\n\t* @outputexample\n\t* pan.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*\n\t*/\n\t\n\tvar Pan = (function (_Interface) {\n\t  function Pan() {\n\t    _classCallCheck(this, Pan);\n\t\n\t    var options = [\"scale\", \"value\"];\n\t\n\t    var defaults = {\n\t      size: [120, 20],\n\t      orientation: \"horizontal\",\n\t      mode: \"relative\",\n\t      scale: [-1, 1],\n\t      step: 0,\n\t      value: 0,\n\t      hasKnob: true\n\t    };\n\t\n\t    _get(Object.getPrototypeOf(Pan.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\t\n\t    this.orientation = this.settings.orientation;\n\t\n\t    this.mode = this.settings.mode;\n\t\n\t    this.hasKnob = this.settings.hasKnob;\n\t\n\t    // this.step should eventually be get/set\n\t    // updating it will update the _value step model\n\t    this.step = this.settings.step; // float\n\t\n\t    this._value = new Step(this.settings.scale[0], this.settings.scale[1], this.settings.step, this.settings.value);\n\t\n\t    this.init();\n\t\n\t    this.position = new Interaction.Handle(this.mode, this.orientation, [0, this.width], [this.height, 0]);\n\t    this.position.value = this._value.normalized;\n\t\n\t    this.value = this._value.value;\n\t\n\t    this.emit(\"change\", this.value);\n\t  }\n\t\n\t  _inherits(Pan, _Interface);\n\t\n\t  _createClass(Pan, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t\n\t        this.bar = svg.create(\"rect\");\n\t        this.knob = svg.create(\"circle\");\n\t\n\t        this.element.appendChild(this.bar);\n\t        this.element.appendChild(this.knob);\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t\n\t        if (this.position) {\n\t          this.position.resize([0, this.width], [this.height, 0]);\n\t        }\n\t\n\t        if (this.width < this.height) {\n\t          this.orientation = \"vertical\";\n\t        } else {\n\t          this.orientation = \"horizontal\";\n\t        }\n\t\n\t        var x = undefined,\n\t            y = undefined,\n\t            w = undefined,\n\t            h = undefined,\n\t            barOffset = undefined,\n\t            cornerRadius = undefined;\n\t        this.knobData = {\n\t          level: 0,\n\t          r: 0\n\t        };\n\t\n\t        if (this.orientation === \"vertical\") {\n\t          this.thickness = this.width / 2;\n\t          x = this.width / 2;\n\t          y = 0;\n\t          w = this.thickness;\n\t          h = this.height;\n\t          this.knobData.r = this.thickness * 0.8;\n\t          this.knobData.level = h - this.knobData.r - this.normalized * (h - this.knobData.r * 2);\n\t          barOffset = \"translate(\" + this.thickness * -1 / 2 + \",0)\";\n\t          cornerRadius = w / 2;\n\t        } else {\n\t          this.thickness = this.height / 2;\n\t          x = 0;\n\t          y = this.height / 2;\n\t          w = this.width;\n\t          h = this.thickness;\n\t          this.knobData.r = this.thickness * 0.8;\n\t          this.knobData.level = this.normalized * (w - this.knobData.r * 2) + this.knobData.r;\n\t          barOffset = \"translate(0,\" + this.thickness * -1 / 2 + \")\";\n\t          cornerRadius = h / 2;\n\t        }\n\t\n\t        this.bar.setAttribute(\"x\", x);\n\t        this.bar.setAttribute(\"y\", y);\n\t        this.bar.setAttribute(\"transform\", barOffset);\n\t        this.bar.setAttribute(\"rx\", cornerRadius); // corner radius\n\t        this.bar.setAttribute(\"ry\", cornerRadius);\n\t        this.bar.setAttribute(\"width\", w);\n\t        this.bar.setAttribute(\"height\", h);\n\t\n\t        if (this.orientation === \"vertical\") {\n\t          this.knob.setAttribute(\"cx\", x);\n\t          this.knob.setAttribute(\"cy\", this.knobData.level);\n\t        } else {\n\t          this.knob.setAttribute(\"cx\", this.knobData.level);\n\t          this.knob.setAttribute(\"cy\", y);\n\t        }\n\t        this.knob.setAttribute(\"r\", this.knobData.r);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t\n\t        this.bar.setAttribute(\"fill\", this.colors.fill);\n\t        this.knob.setAttribute(\"fill\", this.colors.accent);\n\t\n\t        if (!this.hasKnob) {\n\t          this.knob.setAttribute(\"fill\", \"transparent\");\n\t        }\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (!this.clicked) {\n\t          this.knobData.r = this.thickness * 0.75;\n\t        }\n\t        this.knob.setAttribute(\"r\", this.knobData.r);\n\t\n\t        if (this.orientation === \"vertical\") {\n\t          this.knobData.level = this.knobData.r + this._value.normalized * (this.height - this.knobData.r * 2);\n\t          this.knob.setAttribute(\"cy\", this.height - this.knobData.level);\n\t        } else {\n\t          this.knobData.level = this._value.normalized * (this.width - this.knobData.r * 2) + this.knobData.r;\n\t          this.knob.setAttribute(\"cx\", this.knobData.level);\n\t        }\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.knobData.r = this.thickness * 0.9;\n\t        this.position.anchor = this.mouse;\n\t        this.move();\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        if (this.clicked) {\n\t          this.position.update(this.mouse);\n\t\n\t          this.value = this._value.updateNormal(this.position.value);\n\t\n\t          this.emit(\"change\", {\n\t            value: this.value,\n\t            L: Math.pow(math.scale(this.value, -1, 1, 1, 0), 2),\n\t            R: Math.pow(math.scale(this.value, -1, 1, 0, 1), 2)\n\t          });\n\t        }\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {\n\t        this.render();\n\t      }\n\t    },\n\t    value: {\n\t\n\t      /**\n\t      The position of crossfader, from -1 (left) to 1 (right). Setting this value updates the interface and triggers the output event.\n\t      @type {number}\n\t      */\n\t\n\t      get: function () {\n\t        return this._value.value;\n\t      },\n\t      set: function (value) {\n\t        this._value.update(value);\n\t        this.position.value = this._value.normalized;\n\t        this.emit(\"change\", {\n\t          value: this.value,\n\t          L: Math.pow(math.scale(this.value, -1, 1, 1, 0), 2),\n\t          R: Math.pow(math.scale(this.value, -1, 1, 0, 1), 2)\n\t        });\n\t        this.render();\n\t      }\n\t    },\n\t    normalized: {\n\t      get: function () {\n\t        return this._value.normalized;\n\t      }\n\t    }\n\t  });\n\t\n\t  return Pan;\n\t})(Interface);\n\t\n\tmodule.exports = Pan;\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar math = __webpack_require__(5);\n\tvar svg = __webpack_require__(4);\n\tvar Interface = __webpack_require__(6);\n\t\n\tvar Point = function Point(point, envelope) {\n\t\n\t  this.x = point.x;\n\t  this.y = point.y;\n\t  this.envelope = envelope;\n\t\n\t  this.element = svg.create(\"circle\");\n\t  this.element.setAttribute(\"fill\", this.envelope.colors.accent);\n\t\n\t  this.envelope.element.appendChild(this.element);\n\t\n\t  this.resize = function () {\n\t    var r = ~ ~(Math.min(this.envelope.width, this.envelope.height) / 50) + 2;\n\t    this.element.setAttribute(\"r\", r);\n\t  };\n\t\n\t  this.move = function (x, y) {\n\t\n\t    this.x = x || x === 0 ? x : this.x;\n\t    this.y = y || y === 0 ? y : this.y;\n\t\n\t    if (this.envelope.nodes.indexOf(this) >= 0) {\n\t\n\t      var prevIndex = this.envelope.nodes.indexOf(this) - 1;\n\t      var nextIndex = this.envelope.nodes.indexOf(this) + 1;\n\t\n\t      var prevNode = this.envelope.nodes[prevIndex];\n\t      var nextNode = this.envelope.nodes[nextIndex];\n\t\n\t      var lowX = prevIndex >= 0 ? prevNode.x : 0;\n\t      var highX = nextIndex < this.envelope.nodes.length ? nextNode.x : 1;\n\t\n\t      if (this.x < lowX) {\n\t        this.x = lowX;\n\t      }\n\t      if (this.x > highX) {\n\t        this.x = highX;\n\t      }\n\t    }\n\t\n\t    this.location = this.getCoordinates();\n\t    this.element.setAttribute(\"cx\", this.location.x);\n\t    this.element.setAttribute(\"cy\", this.location.y);\n\t  };\n\t\n\t  this.getCoordinates = function () {\n\t    return {\n\t      x: this.x * this.envelope.width,\n\t      y: (1 - this.y) * this.envelope.height\n\t    };\n\t  };\n\t\n\t  this.move(this.x, this.y);\n\t  this.resize();\n\t\n\t  this.destroy = function () {\n\t    this.envelope.element.removeChild(this.element);\n\t  };\n\t};\n\t\n\t/**\n\t* Envelope\n\t*\n\t* @description Interactive linear ramp visualization.\n\t*\n\t* @demo <span nexus-ui=\"envelope\"></span>\n\t*\n\t* @example\n\t* var envelope = new Nexus.Envelope('#target')\n\t*\n\t* @example\n\t* var envelope = new Nexus.Envelope('#target',{\n\t*   'size': [300,150],\n\t*   'points': [\n\t*     {\n\t*       x: 0.1,\n\t*       y: 0.4\n\t*     },\n\t*     {\n\t*       x: 0.35,\n\t*       y: 0.6\n\t*     },\n\t*     {\n\t*       x: 0.65,\n\t*       y: 0.2\n\t*     },\n\t*     {\n\t*       x: 0.9,\n\t*       y: 0.4\n\t*     },\n\t*   ]\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time a node is moved. <br>\n\t* The event data is an array of point locations. Each item in the array is an object containing <i>x</i> and <i>y</i> properties describing the location of a point on the envelope.\n\t*\n\t* @outputexample\n\t* envelope.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*/\n\t\n\tvar Envelope = (function (_Interface) {\n\t  function Envelope() {\n\t    _classCallCheck(this, Envelope);\n\t\n\t    var options = [\"value\"];\n\t\n\t    var defaults = {\n\t      size: [300, 150],\n\t      points: [{\n\t        x: 0.1,\n\t        y: 0.4\n\t      }, {\n\t        x: 0.35,\n\t        y: 0.6\n\t      }, {\n\t        x: 0.65,\n\t        y: 0.2\n\t      }, {\n\t        x: 0.9,\n\t        y: 0.4\n\t      }]\n\t    };\n\t\n\t    _get(Object.getPrototypeOf(Envelope.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\t\n\t    this.points = this.settings.points;\n\t\n\t    this.nodes = [];\n\t\n\t    this.selected = false;\n\t\n\t    this.init();\n\t  }\n\t\n\t  _inherits(Envelope, _Interface);\n\t\n\t  _createClass(Envelope, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t        var _this = this;\n\t\n\t        this.points.forEach(function (point) {\n\t          var node = new Point(point, _this);\n\t          _this.nodes.push(node);\n\t        });\n\t\n\t        this.sortPoints();\n\t\n\t        this.line = svg.create(\"polyline\");\n\t        this.line.setAttribute(\"stroke-width\", 2);\n\t        this.line.setAttribute(\"fill\", \"none\");\n\t\n\t        this.element.appendChild(this.line);\n\t\n\t        this.fill = svg.create(\"polyline\");\n\t        this.fill.setAttribute(\"fill-opacity\", \"0.2\");\n\t\n\t        this.element.appendChild(this.fill);\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t\n\t        for (var i = 0; i < this.nodes.length; i++) {\n\t          this.nodes[i].resize();\n\t          this.nodes[i].move();\n\t        }\n\t\n\t        this.render();\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        var _this = this;\n\t\n\t        this.element.style.backgroundColor = this.colors.fill;\n\t        this.line.setAttribute(\"stroke\", this.colors.accent);\n\t        this.fill.setAttribute(\"fill\", this.colors.accent);\n\t        this.nodes.forEach(function (node) {\n\t          node.element.setAttribute(\"fill\", _this.colors.accent);\n\t        });\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        //  this.nodes[this.selected].move( this.points )\n\t        this.calculatePath();\n\t      }\n\t    },\n\t    calculatePoints: {\n\t      value: function calculatePoints() {\n\t        var _this = this;\n\t\n\t        this.points = [];\n\t        this.nodes.forEach(function (node) {\n\t          _this.points.push({ x: node.x, y: node.y });\n\t        });\n\t      }\n\t    },\n\t    calculatePath: {\n\t      value: function calculatePath() {\n\t\n\t        //stroke data\n\t        var data = \"0 \" + this.nodes[0].location.y + \", \";\n\t\n\t        // data should be re-ordered based on x location.\n\t        // whatever function adds a node should add it at the right index\n\t\n\t        this.nodes.forEach(function (node) {\n\t          //  let location = node.getCoordinates();\n\t          data += node.location.x + \" \" + node.location.y + \", \";\n\t        });\n\t\n\t        //  data += point.x*this.width+' '+ point.y*this.height+', ';\n\t        data += this.width + \" \" + this.nodes[this.nodes.length - 1].location.y;\n\t\n\t        this.line.setAttribute(\"points\", data);\n\t\n\t        // fill data\n\t        // add bottom corners\n\t\n\t        data += \", \" + this.width + \" \" + this.height + \", \";\n\t        data += \"0 \" + this.height;\n\t\n\t        this.fill.setAttribute(\"points\", data);\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        // find nearest node and set this.selected (index)\n\t        this.hasMoved = false;\n\t        this.selected = this.findNearestNode();\n\t\n\t        this.nodes[this.selected].move(this.mouse.x / this.width, 1 - this.mouse.y / this.height);\n\t        this.scaleNode(this.selected);\n\t\n\t        // must do this b/c new node may have been created\n\t        this.calculatePoints();\n\t        this.emit(\"change\", this.points);\n\t        this.render();\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        if (this.clicked) {\n\t          this.mouse.x = math.clip(this.mouse.x, 0, this.width);\n\t          this.hasMoved = true;\n\t\n\t          this.nodes[this.selected].move(this.mouse.x / this.width, 1 - this.mouse.y / this.height);\n\t          this.scaleNode(this.selected);\n\t\n\t          this.calculatePoints();\n\t          this.emit(\"change\", this.points);\n\t          this.render();\n\t        }\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {\n\t\n\t        if (!this.hasMoved) {\n\t          this.nodes[this.selected].destroy();\n\t          this.nodes.splice(this.selected, 1);\n\t        }\n\t\n\t        this.calculatePoints();\n\t        this.emit(\"change\", this.points);\n\t        this.render();\n\t\n\t        // reset this.selected\n\t        this.selected = null;\n\t      }\n\t    },\n\t    findNearestNode: {\n\t      value: function findNearestNode() {\n\t        var nearestIndex = null;\n\t        // set this unreasonably high so that every distance will be lower than it.\n\t        var nearestDist = 10000;\n\t        var before = false;\n\t        var x = this.mouse.x / this.width;\n\t        var y = 1 - this.mouse.y / this.height;\n\t        var nodes = this.nodes;\n\t        for (var i = 0; i < nodes.length; i++) {\n\t\n\t          // calculate the distance from mouse to this node using pythagorean theorem\n\t          var distance = Math.sqrt(Math.pow(nodes[i].x - x, 2) + Math.pow(nodes[i].y - y, 2));\n\t\n\t          // if this distance is less than the previous shortest distance, use this index\n\t          if (distance < nearestDist) {\n\t            nearestDist = distance;\n\t            nearestIndex = i;\n\t            before = x > nodes[i].x;\n\t          }\n\t        }\n\t\n\t        // if not very close to any node, create a node\n\t        if (nearestDist > 0.07) {\n\t\n\t          nearestIndex = this.getIndexFromX(this.mouse.x / this.width);\n\t\n\t          this.nodes.splice(nearestIndex, 0, new Point({\n\t            x: this.mouse.x / this.width,\n\t            y: 1 - this.mouse.y / this.height\n\t          }, this));\n\t          this.hasMoved = true;\n\t        }\n\t\n\t        return nearestIndex;\n\t      }\n\t    },\n\t    getIndexFromX: {\n\t      value: function getIndexFromX(x) {\n\t        var _this = this;\n\t\n\t        var index = 0;\n\t        this.nodes.forEach(function (node, i) {\n\t          if (_this.nodes[i].x <= x) {\n\t            index = i + 1;\n\t          }\n\t        });\n\t        return index;\n\t      }\n\t    },\n\t    scaleNode: {\n\t      value: function scaleNode(i) {\n\t\n\t        var clippedX = math.clip(this.nodes[i].x, 0, 1);\n\t        var clippedY = math.clip(this.nodes[i].y, 0, 1);\n\t\n\t        this.nodes[i].move(clippedX, clippedY);\n\t      }\n\t    },\n\t    sortPoints: {\n\t\n\t      /**\n\t      Sort the this.points array from left-most point to right-most point. You should not regularly need to use this, however it may be useful if the points get unordered.\n\t      */\n\t\n\t      value: function sortPoints() {\n\t        this.nodes.sort(function (a, b) {\n\t          return a.x > b.x;\n\t        });\n\t      }\n\t    },\n\t    addPoint: {\n\t\n\t      /**\n\t      Add a breakpoint on the envelope.\n\t      @param x {number} x location of the point, normalized (0-1)\n\t      @param y {number} y location of the point, normalized (0-1)\n\t      */\n\t\n\t      value: function addPoint(x, y) {\n\t        var index = 0;\n\t\n\t        this.sortPoints();\n\t\n\t        for (var i = 0; i < this.nodes.length; i++) {\n\t          if (x < this.nodes[i].x) {\n\t            index = i;\n\t            break;\n\t          }\n\t        }\n\t\n\t        this.nodes.splice(index, 0, new Point({\n\t          x: x,\n\t          y: y\n\t        }, this));\n\t\n\t        this.scaleNode(index);\n\t\n\t        this.calculatePoints();\n\t        this.emit(\"change\", this.points);\n\t\n\t        this.render();\n\t      }\n\t    },\n\t    scan: {\n\t\n\t      /**\n\t      Find the level at a certain x location on the envelope.\n\t      @param x {number} The x location to find the level of, normalized 0-1\n\t      */\n\t\n\t      value: function scan(x) {\n\t        // find surrounding points\n\t        var nextIndex = this.getIndexFromX(x);\n\t        var priorIndex = nextIndex - 1;\n\t        if (priorIndex < 0) {\n\t          priorIndex = 0;\n\t        }\n\t        if (nextIndex >= this.nodes.length) {\n\t          nextIndex = this.nodes.length - 1;\n\t        }\n\t        var priorPoint = this.nodes[priorIndex];\n\t        var nextPoint = this.nodes[nextIndex];\n\t        var loc = math.scale(x, priorPoint.x, nextPoint.x, 0, 1);\n\t        var value = math.interp(loc, priorPoint.y, nextPoint.y);\n\t        this.emit(\"scan\", value);\n\t        return value;\n\t      }\n\t    },\n\t    movePoint: {\n\t\n\t      /**\n\t      Move a breakpoint on the envelope.\n\t      @param index {number} The index of the breakpoint to move\n\t      @param x {number} New x location, normalized 0-1\n\t      @param y {number} New y location, normalized 0-1\n\t      */\n\t\n\t      value: function movePoint(index, x, y) {\n\t        this.nodes[index].move(x, y);\n\t        this.scaleNode(index);\n\t        this.calculatePoints();\n\t        this.emit(\"change\", this.points);\n\t        this.render();\n\t      }\n\t    },\n\t    adjustPoint: {\n\t\n\t      /**\n\t      Move a breakpoint on the envelope by a certain amount.\n\t      @param index {number} The index of the breakpoint to move\n\t      @param xOffset {number} X displacement, normalized 0-1\n\t      @param yOffset {number} Y displacement, normalized 0-1\n\t      */\n\t\n\t      value: function adjustPoint(index, xOffset, yOffset) {\n\t        this.nodes[index].move(this.nodes[index].x + xOffset, this.nodes[index].y + yOffset);\n\t        this.scaleNode(index);\n\t        this.calculatePoints();\n\t        this.emit(\"change\", this.points);\n\t        this.render();\n\t      }\n\t    },\n\t    destroyPoint: {\n\t\n\t      /**\n\t      Remove a breakpoint from the envelope.\n\t      @param index {number} Index of the breakpoint to remove\n\t      */\n\t\n\t      value: function destroyPoint(index) {\n\t        this.nodes[index].destroy();\n\t        this.calculatePoints();\n\t        this.emit(\"change\", this.points);\n\t        this.render();\n\t      }\n\t    },\n\t    setPoints: {\n\t\n\t      /**\n\t      Remove all existing breakpoints and add an entirely new set of breakpoints.\n\t      @param allPoints {array} An array of objects with x/y properties (normalized 0-1). Each object in the array specifices the x/y location of a new breakpoint to be added.\n\t      */\n\t\n\t      value: function setPoints(allPoints) {\n\t        var _this = this;\n\t\n\t        this.nodes.forEach(function (point) {\n\t          point.destroy();\n\t        });\n\t        allPoints.forEach(function (point) {\n\t          _this.addPoint(point.x, point.y);\n\t        });\n\t        this.calculatePoints();\n\t        this.emit(\"change\", this.points);\n\t        this.render();\n\t      }\n\t    }\n\t  });\n\t\n\t  return Envelope;\n\t})(Interface);\n\t\n\tmodule.exports = Envelope;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar dom = __webpack_require__(7);\n\t//let math = require('../util/math');\n\tvar Interface = __webpack_require__(6);\n\t\n\t/**\n\t* Spectrogram\n\t*\n\t* @description Audio spectrum visualization\n\t*\n\t* @demo <span nexus-ui=\"spectrogram\"></span>\n\t*\n\t* @example\n\t* var spectrogram = new Nexus.Spectrogram('#target')\n\t*\n\t* @example\n\t* var spectrogram = new Nexus.Spectrogram('#target',{\n\t*   'size': [300,150]\n\t* })\n\t*\n\t* @output\n\t* &nbsp;\n\t* No events\n\t*\n\t*/\n\t\n\tvar Spectrogram = (function (_Interface) {\n\t  function Spectrogram() {\n\t    _classCallCheck(this, Spectrogram);\n\t\n\t    var options = [\"scale\", \"value\"];\n\t\n\t    var defaults = {\n\t      size: [300, 150]\n\t    };\n\t\n\t    _get(Object.getPrototypeOf(Spectrogram.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\t\n\t    this.context = Nexus.context; // jshint ignore:line\n\t\n\t    this.analyser = this.context.createAnalyser();\n\t    this.analyser.fftSize = 2048;\n\t    this.bufferLength = this.analyser.frequencyBinCount;\n\t    this.dataArray = new Uint8Array(this.bufferLength);\n\t\n\t    this.active = true;\n\t\n\t    this.source = false;\n\t\n\t    this.init();\n\t  }\n\t\n\t  _inherits(Spectrogram, _Interface);\n\t\n\t  _createClass(Spectrogram, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.canvas = new dom.SmartCanvas(this.parent);\n\t        this.element = this.canvas.element;\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t        this.canvas.resize(this.width, this.height);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.canvas.element.style.backgroundColor = this.colors.fill;\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t\n\t        if (this.active) {\n\t          requestAnimationFrame(this.render.bind(this));\n\t        }\n\t\n\t        this.analyser.getByteFrequencyData(this.dataArray);\n\t\n\t        this.canvas.context.fillStyle = this.colors.fill;\n\t        this.canvas.context.fillRect(0, 0, this.canvas.element.width, this.canvas.element.height);\n\t\n\t        if (this.source && this.dataArray) {\n\t\n\t          //console.log(this.dataArray);\n\t\n\t          var barWidth = this.canvas.element.width / this.bufferLength;\n\t          var barHeight = undefined;\n\t          var x = 0;\n\t\n\t          var definition = this.canvas.element.width / 50;\n\t\n\t          for (var i = 0; i < this.bufferLength; i = i + definition) {\n\t            barHeight = Math.max.apply(null, this.dataArray.subarray(i, i + definition));\n\t            barHeight /= 255;\n\t            barHeight *= this.canvas.element.height;\n\t\n\t            this.canvas.context.fillStyle = this.colors.accent;\n\t            this.canvas.context.fillRect(x, this.canvas.element.height - barHeight, barWidth * definition, barHeight);\n\t\n\t            x += barWidth * definition;\n\t          }\n\t        }\n\t      }\n\t    },\n\t    connect: {\n\t\n\t      /**\n\t      Equivalent to \"patching in\" an audio node to visualize.\n\t      @param node {AudioNode} The audio node to visualize\n\t      */\n\t\n\t      value: function connect(node) {\n\t        if (this.source) {\n\t          this.disconnect();\n\t        }\n\t        this.source = node;\n\t        this.source.connect(this.analyser);\n\t        this.render();\n\t      }\n\t    },\n\t    disconnect: {\n\t\n\t      /**\n\t      Stop visualizing the source node and disconnect it.\n\t      */\n\t\n\t      value: function disconnect() {\n\t        this.source.disconnect(this.analyser);\n\t        this.source = null;\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.active = !this.active;\n\t        this.render();\n\t      }\n\t    },\n\t    customDestroy: {\n\t      value: function customDestroy() {\n\t        this.active = false;\n\t      }\n\t    }\n\t  });\n\t\n\t  return Spectrogram;\n\t})(Interface);\n\t\n\tmodule.exports = Spectrogram;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar dom = __webpack_require__(7);\n\tvar math = __webpack_require__(5);\n\tvar Interface = __webpack_require__(6);\n\t\n\t/**\n\t* Meter\n\t*\n\t* @description Stereo decibel meter\n\t*\n\t* @demo <span nexus-ui=\"meter\"></span>\n\t*\n\t* @example\n\t* var meter = new Nexus.Meter('#target')\n\t*\n\t* @example\n\t* var meter = new Nexus.Meter('#target',{\n\t*   size: [75,75]\n\t* })\n\t*\n\t* @output\n\t* &nbsp;\n\t* No events\n\t*\n\t*/\n\t\n\tvar Meter = (function (_Interface) {\n\t  function Meter() {\n\t    _classCallCheck(this, Meter);\n\t\n\t    var options = [\"scale\", \"value\"];\n\t\n\t    var defaults = {\n\t      size: [30, 100]\n\t    };\n\t\n\t    _get(Object.getPrototypeOf(Meter.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\t\n\t    this.context = Nexus.context; // jshint ignore:line\n\t\n\t    this.channels = 2;\n\t\n\t    this.splitter = this.context.createChannelSplitter(this.channels);\n\t\n\t    this.analysers = [];\n\t\n\t    for (var i = 0; i < this.channels; i++) {\n\t      var analyser = this.context.createAnalyser();\n\t      this.splitter.connect(analyser, i);\n\t      analyser.fftSize = 1024;\n\t      analyser.smoothingTimeConstant = 1;\n\t      this.analysers.push(analyser);\n\t    }\n\t    this.bufferLength = this.analysers[0].frequencyBinCount;\n\t    this.dataArray = new Float32Array(this.bufferLength);\n\t\n\t    /*\n\t        // add linear gradient\n\t        var grd = canvasCtx.createLinearGradient(0, 0, 0, canvas.height);\n\t        // light blue\n\t        grd.addColorStop(0, '#000');\n\t        grd.addColorStop(0.2, '#bbb');\n\t        grd.addColorStop(0.4, '#d18');\n\t        // dark blue\n\t        grd.addColorStop(1, '#d18');\n\t        canvasCtx.fillStyle = grd; */\n\t\n\t    this.active = true;\n\t\n\t    this.db = -Infinity;\n\t\n\t    this.init();\n\t\n\t    this.meterWidth = this.canvas.element.width / this.channels;\n\t\n\t    this.render();\n\t  }\n\t\n\t  _inherits(Meter, _Interface);\n\t\n\t  _createClass(Meter, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.canvas = new dom.SmartCanvas(this.parent);\n\t        this.element = this.canvas.element;\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t        this.canvas.resize(this.width, this.height);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.canvas.element.style.backgroundColor = this.colors.fill;\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t\n\t        if (this.active) {\n\t          requestAnimationFrame(this.render.bind(this));\n\t        }\n\t\n\t        this.canvas.context.fillStyle = this.colors.fill;\n\t        this.canvas.context.fillRect(0, 0, this.canvas.element.width, this.canvas.element.height);\n\t\n\t        for (var i = 0; i < this.analysers.length; i++) {\n\t\n\t          if (this.source) {\n\t\n\t            this.analysers[i].getFloatTimeDomainData(this.dataArray);\n\t\n\t            var rms = 0;\n\t\n\t            for (var _i = 0; _i < this.dataArray.length; _i++) {\n\t              rms += this.dataArray[_i] * this.dataArray[_i];\n\t            }\n\t\n\t            rms = Math.sqrt(rms / this.dataArray.length);\n\t\n\t            this.db = 20 * Math.log10(rms);\n\t          } else if (this.db > -200 && this.db !== -Infinity) {\n\t            this.db -= 1;\n\t          } else {\n\t            this.db = -Infinity;\n\t          }\n\t\n\t          //console.log(db)\n\t\n\t          if (this.db > -70) {\n\t\n\t            var linear = math.normalize(this.db, -70, 5);\n\t            var exp = linear * linear;\n\t            var y = math.scale(exp, 0, 1, this.element.height, 0);\n\t\n\t            this.canvas.context.fillStyle = this.colors.accent;\n\t            this.canvas.context.fillRect(this.meterWidth * i, y, this.meterWidth, this.canvas.element.height - y);\n\t\n\t            //console.log(\"rendering...\")\n\t          }\n\t        }\n\t      }\n\t    },\n\t    connect: {\n\t\n\t      /**\n\t      Equivalent to \"patching in\" an audio node to visualize.\n\t      @param node {AudioNode} The audio node to visualize\n\t      @param channels {number} (optional) The number of channels in the source node to watch. If not specified, the interface will look for a .channelCount property on the input node. If it does not exist, the interface will default to 1 channel.\n\t      */\n\t\n\t      value: function connect(node, channels) {\n\t        if (this.source) {\n\t          this.disconnect();\n\t        }\n\t        //this.dummy.disconnect(this.splitter);\n\t\n\t        if (channels) {\n\t          this.channels = channels;\n\t        } else if (node.channelCount) {\n\t          this.channels = node.channelCount;\n\t        } else {\n\t          this.channels = 2;\n\t        }\n\t        this.meterWidth = this.canvas.element.width / this.channels;\n\t\n\t        this.source = node;\n\t        this.source.connect(this.splitter);\n\t\n\t        //  this.render();\n\t      }\n\t    },\n\t    disconnect: {\n\t\n\t      /**\n\t      Stop visualizing the source node and disconnect it.\n\t      */\n\t\n\t      value: function disconnect() {\n\t\n\t        this.source.disconnect(this.splitter);\n\t        this.source = false;\n\t        //  this.dummy.connect(this.splitter);\n\t        this.meterWidth = this.canvas.element.width / this.channels;\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.active = !this.active;\n\t        this.render();\n\t      }\n\t    },\n\t    customDestroy: {\n\t      value: function customDestroy() {\n\t        this.active = false;\n\t      }\n\t    }\n\t  });\n\t\n\t  return Meter;\n\t})(Interface);\n\t\n\tmodule.exports = Meter;\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar dom = __webpack_require__(7);\n\tvar Interface = __webpack_require__(6);\n\t\n\t/**\n\t* Oscilloscope\n\t*\n\t* @description Visualizes a waveform's stream of values.\n\t*\n\t* @demo <span nexus-ui=\"oscilloscope\"></span>\n\t*\n\t* @example\n\t* var oscilloscope = new Nexus.Oscilloscope('#target')\n\t*\n\t* @example\n\t* var oscilloscope = new Nexus.Oscilloscope('#target',{\n\t*   'size': [300,150]\n\t* })\n\t*\n\t* @output\n\t* &nbsp;\n\t* No events\n\t*\n\t*/\n\t\n\tvar Oscilloscope = (function (_Interface) {\n\t  function Oscilloscope() {\n\t    _classCallCheck(this, Oscilloscope);\n\t\n\t    var options = [\"scale\", \"value\"];\n\t\n\t    var defaults = {\n\t      size: [300, 150]\n\t    };\n\t\n\t    _get(Object.getPrototypeOf(Oscilloscope.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\t\n\t    this.context = Nexus.context; // jshint ignore:line\n\t\n\t    this.analyser = this.context.createAnalyser();\n\t    this.analyser.fftSize = 2048;\n\t    this.bufferLength = this.analyser.frequencyBinCount;\n\t    this.dataArray = new Uint8Array(this.bufferLength);\n\t    this.analyser.getByteTimeDomainData(this.dataArray);\n\t\n\t    this.active = true;\n\t\n\t    this.source = false;\n\t\n\t    this.init();\n\t\n\t    this.render();\n\t  }\n\t\n\t  _inherits(Oscilloscope, _Interface);\n\t\n\t  _createClass(Oscilloscope, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.canvas = new dom.SmartCanvas(this.parent);\n\t        this.element = this.canvas.element;\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t        this.canvas.resize(this.width, this.height);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.canvas.element.style.backgroundColor = this.colors.fill;\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t\n\t        if (this.active) {\n\t          requestAnimationFrame(this.render.bind(this));\n\t        }\n\t\n\t        this.analyser.getByteTimeDomainData(this.dataArray);\n\t\n\t        this.canvas.context.fillStyle = this.colors.fill;\n\t        this.canvas.context.fillRect(0, 0, this.canvas.element.width, this.canvas.element.height);\n\t\n\t        this.canvas.context.lineWidth = ~ ~(this.height / 100 + 2);\n\t        this.canvas.context.strokeStyle = this.colors.accent;\n\t\n\t        this.canvas.context.beginPath();\n\t\n\t        if (this.source) {\n\t\n\t          var sliceWidth = this.canvas.element.width * 1 / this.bufferLength;\n\t          var x = 0;\n\t\n\t          for (var i = 0; i < this.bufferLength; i++) {\n\t\n\t            var v = this.dataArray[i] / 128;\n\t            var y = v * this.canvas.element.height / 2;\n\t\n\t            if (i === 0) {\n\t              this.canvas.context.moveTo(x, y);\n\t            } else {\n\t              this.canvas.context.lineTo(x, y);\n\t            }\n\t\n\t            x += sliceWidth;\n\t          }\n\t        } else {\n\t          this.canvas.context.moveTo(0, this.canvas.element.height / 2);\n\t          this.canvas.context.lineTo(this.canvas.element.width, this.canvas.element.height / 2);\n\t        }\n\t\n\t        this.canvas.context.stroke();\n\t      }\n\t    },\n\t    connect: {\n\t\n\t      /**\n\t      Equivalent to \"patching in\" an audio node to visualize.\n\t      @param node {AudioNode} The audio node to visualize\n\t      */\n\t\n\t      value: function connect(node) {\n\t\n\t        if (this.source) {\n\t          this.disconnect();\n\t        }\n\t\n\t        this.source = node;\n\t        this.source.connect(this.analyser);\n\t\n\t        this.render();\n\t      }\n\t    },\n\t    disconnect: {\n\t\n\t      /**\n\t      Stop visualizing the source node and disconnect it.\n\t      */\n\t\n\t      value: function disconnect() {\n\t        if (this.source) {\n\t          this.source.disconnect(this.analyser);\n\t          this.source = null;\n\t        }\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.active = !this.active;\n\t        this.render();\n\t      }\n\t    },\n\t    customDestroy: {\n\t      value: function customDestroy() {\n\t        this.active = false;\n\t      }\n\t    }\n\t  });\n\t\n\t  return Oscilloscope;\n\t})(Interface);\n\t\n\tmodule.exports = Oscilloscope;\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\t\n\tvar _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\t/*\n\tMain concept:\n\tsynth = new Nexus.Rack('elementID');\n\t\n\tTransform all elements inside the div\n\tsynth.elementID will hold the first slider interface\n\t\n\t2) In future, potentially writing a rack that is re-usable?\n\tCould also take JSON\n\t\n\tnew Nexus.Rack('#target',{\n\t  pre: () => {\n\t    create some divs here, or some audio code\n\t  },\n\t  interface: {\n\t    slider1: Nexus.add.slider({\n\t      top:10,\n\t      left:10,\n\t      width:50,\n\t      height:100,\n\t      min: 0,\n\t      max: 100,\n\t      step: 1\n\t    }),\n\t    wave1: Nexus.add.waveform({\n\t      file: './path/to/file.mp3',\n\t      width:500,\n\t      height:100,\n\t      mode: 'range'\n\t    })\n\t  },\n\t  init: () => {\n\t    // some audio init code goes here...\n\t  }\n\t});\n\t\n\t*/\n\t\n\tvar transform = _interopRequireWildcard(__webpack_require__(39));\n\t\n\tvar dom = _interopRequire(__webpack_require__(7));\n\t\n\tvar Rack = (function () {\n\t  function Rack(target, settings) {\n\t    _classCallCheck(this, Rack);\n\t\n\t    this.meta = {};\n\t    this.meta.target = target;\n\t    this.meta.parent = dom.parseElement(target); // should be a generic function for parsing a 'target' argument that checks for string/DOM/jQUERY\n\t    this.meta.colors = {};\n\t\n\t    if (settings) {\n\t      this.meta.attribute = settings.attribute || \"nexus-ui\";\n\t      this.meta.title = settings.name || false;\n\t      this.meta.open = settings.open || false;\n\t    } else {\n\t      this.meta.attribute = \"nexus-ui\";\n\t      this.meta.title = false;\n\t      this.meta.open = false;\n\t    }\n\t\n\t    var defaultColors = Nexus.colors; // jshint ignore:line\n\t    this.meta.colors.accent = defaultColors.accent;\n\t    this.meta.colors.fill = defaultColors.fill;\n\t    this.meta.colors.light = defaultColors.light;\n\t    this.meta.colors.dark = defaultColors.dark;\n\t    this.meta.colors.mediumLight = defaultColors.mediumLight;\n\t    this.meta.colors.mediumDark = defaultColors.mediumDark;\n\t    this.buildInterface();\n\t    this.colorInterface();\n\t  }\n\t\n\t  _createClass(Rack, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t        var _this = this;\n\t\n\t        this.meta.parent.style.boxSizing = \"border-box\";\n\t        this.meta.parent.style.userSelect = \"none\";\n\t        this.meta.parent.style.mozUserSelect = \"none\";\n\t        this.meta.parent.style.webkitUserSelect = \"none\";\n\t\n\t        this.meta.contents = document.createElement(\"div\");\n\t\n\t        while (this.meta.parent.childNodes.length > 0) {\n\t          this.meta.contents.appendChild(this.meta.parent.childNodes[0]);\n\t        }\n\t\n\t        this.meta.contents.style.padding = \"0px\";\n\t        this.meta.contents.style.boxSizing = \"border-box\";\n\t\n\t        if (this.meta.title) {\n\t          this.meta.titleBar = document.createElement(\"div\");\n\t          this.meta.titleBar.innerHTML = this.meta.title;\n\t          this.meta.titleBar.style.fontFamily = \"arial\";\n\t          this.meta.titleBar.style.position = \"relative\";\n\t          this.meta.titleBar.style.color = \"#888\";\n\t          this.meta.titleBar.style.padding = \"7px\";\n\t          this.meta.titleBar.style.fontSize = \"12px\";\n\t\n\t          this.meta.button = document.createElement(\"div\");\n\t          this.meta.button.style.position = \"absolute\";\n\t          this.meta.button.style.top = \"5px\";\n\t          this.meta.button.style.right = \"5px\";\n\t          this.meta.button.innerHTML = \"-\";\n\t          this.meta.button.style.padding = \"0px 5px 2px\";\n\t          this.meta.button.style.lineHeight = \"12px\";\n\t          this.meta.button.style.fontSize = \"15px\";\n\t\n\t          this.meta.button.style.cursor = \"pointer\";\n\t\n\t          this.meta.button.addEventListener(\"mouseover\", function () {\n\t            _this.meta.button.style.backgroundColor = _this.meta.colors.mediumDark;\n\t          });\n\t          this.meta.button.addEventListener(\"mouseleave\", function () {\n\t            _this.meta.button.style.backgroundColor = _this.meta.colors.mediumLight;\n\t          });\n\t          this.meta.button.addEventListener(\"click\", function () {\n\t            if (_this.meta.open) {\n\t              _this.hide();\n\t            } else {\n\t              _this.show();\n\t            }\n\t          });\n\t\n\t          this.meta.titleBar.appendChild(this.meta.button);\n\t\n\t          this.meta.parent.appendChild(this.meta.titleBar);\n\t        }\n\t        this.meta.parent.appendChild(this.meta.contents);\n\t\n\t        //  var width = this.meta.parent.style.width = getComputedStyle(this.meta.parent).getPropertyValue('width');\n\t        //    this.meta.parent.style.width = width;\n\t\n\t        var ui = transform.section(this.meta.target, this.meta.attribute);\n\t        for (var key in ui) {\n\t          this[key] = ui[key];\n\t        }\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        if (this.meta.title) {\n\t          this.meta.button.style.backgroundColor = this.meta.colors.mediumLight;\n\t          this.meta.button.style.border = \"solid 0px \" + this.meta.colors.fill;\n\t          this.meta.parent.style.border = \"solid 1px \" + this.meta.colors.mediumLight;\n\t          this.meta.parent.style.backgroundColor = this.meta.colors.light;\n\t          this.meta.titleBar.style.backgroundColor = this.meta.colors.fill;\n\t        }\n\t      }\n\t    },\n\t    show: {\n\t      value: function show() {\n\t        this.meta.contents.style.display = \"block\";\n\t        this.meta.open = true;\n\t      }\n\t    },\n\t    hide: {\n\t      value: function hide() {\n\t        this.meta.contents.style.display = \"none\";\n\t        this.meta.open = false;\n\t      }\n\t    },\n\t    colorize: {\n\t      value: function colorize(type, color) {\n\t        for (var key in this) {\n\t          if (this[key].colorize) {\n\t            this[key].colorize(type, color);\n\t          }\n\t        }\n\t        this.meta.colors[type] = color;\n\t        this.colorInterface();\n\t      }\n\t    },\n\t    empty: {\n\t      value: function empty() {\n\t        for (var key in this) {\n\t          if (this[key].destroy) {\n\t            this[key].destroy();\n\t          }\n\t        }\n\t      }\n\t    }\n\t  });\n\t\n\t  return Rack;\n\t})();\n\t\n\tmodule.exports = Rack;\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\"use strict\";\n\t\n\tvar dom = _interopRequire(__webpack_require__(7));\n\t\n\tvar Interfaces = _interopRequire(__webpack_require__(2));\n\t\n\tvar createInterfaceID = function (widget, interfaceIDs) {\n\t  var type = widget.type;\n\t  if (interfaceIDs[type]) {\n\t    interfaceIDs[type]++;\n\t  } else {\n\t    interfaceIDs[type] = 1;\n\t  }\n\t  return type + interfaceIDs[type];\n\t};\n\t\n\tvar element = function (element, type, options) {\n\t  options = options || {};\n\t  for (var i = 0; i < element.attributes.length; i++) {\n\t    var att = element.attributes[i];\n\t    //  try {\n\t    //    options[att.nodeName] = eval(att.nodeValue);\n\t    //  } catch(e) {\n\t    options[att.nodeName] = att.nodeValue;\n\t    //  }\n\t  }\n\t  type = type[0].toUpperCase() + type.slice(1);\n\t  var widget = new Interfaces[type](element, options);\n\t  widget.id = element.id;\n\t  return widget;\n\t};\n\t\n\tvar section = function (parent, keyword) {\n\t\n\t  keyword = keyword || \"nexus-ui\";\n\t\n\t  var interfaceIDs = {};\n\t\n\t  var container = dom.parseElement(parent);\n\t\n\t  var ui = {};\n\t\n\t  var htmlElements = container.getElementsByTagName(\"*\");\n\t  var elements = [];\n\t  for (var i = 0; i < htmlElements.length; i++) {\n\t    elements.push(htmlElements[i]);\n\t  }\n\t  for (var i = 0; i < elements.length; i++) {\n\t    var type = elements[i].getAttribute(keyword);\n\t    if (type) {\n\t      var formattedType = false;\n\t      for (var key in Interfaces) {\n\t        if (type.toLowerCase() === key.toLowerCase()) {\n\t          formattedType = key;\n\t        }\n\t      }\n\t      console.log(formattedType);\n\t      var widget = element(elements[i], formattedType);\n\t      if (widget.id) {\n\t        ui[widget.id] = widget;\n\t      } else {\n\t        var id = createInterfaceID(widget, interfaceIDs);\n\t        ui[id] = widget;\n\t      }\n\t    }\n\t  }\n\t\n\t  return ui;\n\t};\n\t\n\tvar add = function (type, options) {\n\t  var target = document.createElement(\"div\");\n\t  var parent = document.body;\n\t  if (options) {\n\t    parent = options.parent;\n\t  } else {\n\t    options = {};\n\t  }\n\t  parent = dom.parseElement(parent);\n\t  parent.appendChild(target);\n\t  options.target = target;\n\t  if (options.size) {\n\t    target.style.width = options.size[0] + \"px\";\n\t    target.style.height = options.size[1] + \"px\";\n\t  }\n\t  return element(target, type, options);\n\t};\n\t\n\texports.element = element;\n\texports.section = section;\n\texports.add = add;\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar math = _interopRequire(__webpack_require__(5));\n\t\n\tvar Tune = (function () {\n\t  function Tune() {\n\t    _classCallCheck(this, Tune);\n\t\n\t    // the scale as ratios\n\t    this.scale = [];\n\t\n\t    // i/o modes\n\t    this.mode = {\n\t      output: \"frequency\",\n\t      input: \"step\"\n\t    };\n\t\n\t    // ET major\n\t    this.etmajor = [261.62558, 293.664764, 329.627563, 349.228241, 391.995422, 440, 493.883301, 523.25116];\n\t\n\t    // Root frequency.\n\t    this.root = math.mtof(60); // * Math.pow(2,(60-69)/12);\n\t\n\t    // default is a major scale\n\t    this.createScale(0, 2, 4, 5, 7, 9, 11);\n\t  }\n\t\n\t  _createClass(Tune, {\n\t    note: {\n\t\n\t      /* Return data in the mode you are in (freq, ratio, or midi) */\n\t\n\t      value: function note(input, octave) {\n\t\n\t        var newvalue = undefined;\n\t\n\t        if (this.mode.output === \"frequency\") {\n\t          newvalue = this.frequency(input, octave);\n\t        } else if (this.mode.output === \"ratio\") {\n\t          newvalue = this.ratio(input, octave);\n\t        } else if (this.mode.output === \"MIDI\") {\n\t          newvalue = this.MIDI(input, octave);\n\t        } else {\n\t          newvalue = this.frequency(input, octave);\n\t        }\n\t\n\t        return newvalue;\n\t      }\n\t    },\n\t    frequency: {\n\t\n\t      /* Return freq data */\n\t\n\t      value: function frequency(stepIn, octaveIn) {\n\t\n\t        if (this.mode.input === \"midi\" || this.mode.input === \"MIDI\") {\n\t          this.stepIn += 60;\n\t        }\n\t\n\t        // what octave is our input\n\t        var octave = Math.floor(stepIn / this.scale.length);\n\t\n\t        if (octaveIn) {\n\t          octave += octaveIn;\n\t        }\n\t\n\t        // which scale degree (0 - scale length) is our input\n\t        var scaleDegree = stepIn % this.scale.length;\n\t\n\t        while (scaleDegree < 0) {\n\t          scaleDegree += this.scale.length;\n\t        }\n\t\n\t        var ratio = this.scale[scaleDegree];\n\t\n\t        var freq = this.root * ratio;\n\t\n\t        freq = freq * Math.pow(2, octave);\n\t\n\t        // truncate irrational numbers\n\t        freq = Math.floor(freq * 100000000000) / 100000000000;\n\t\n\t        return freq;\n\t      }\n\t    },\n\t    ratio: {\n\t\n\t      /* Force return ratio data */\n\t\n\t      value: function ratio(stepIn, octaveIn) {\n\t\n\t        if (this.mode.input === \"midi\" || this.mode.input === \"MIDI\") {\n\t          this.stepIn += 60;\n\t        }\n\t\n\t        // what octave is our input\n\t        var octave = Math.floor(stepIn / this.scale.length);\n\t\n\t        if (octaveIn) {\n\t          octave += octaveIn;\n\t        }\n\t\n\t        // which scale degree (0 - scale length) is our input\n\t        var scaleDegree = stepIn % this.scale.length;\n\t\n\t        // what ratio is our input to our key\n\t        var ratio = Math.pow(2, octave) * this.scale[scaleDegree];\n\t\n\t        ratio = Math.floor(ratio * 100000000000) / 100000000000;\n\t\n\t        return ratio;\n\t      }\n\t    },\n\t    MIDI: {\n\t\n\t      /* Force return adjusted MIDI data */\n\t\n\t      value: function MIDI(stepIn, octaveIn) {\n\t\n\t        var newvalue = this.frequency(stepIn, octaveIn);\n\t\n\t        var n = 69 + 12 * Math.log(newvalue / 440) / Math.log(2);\n\t\n\t        n = Math.floor(n * 1000000000) / 1000000000;\n\t\n\t        return n;\n\t      }\n\t    },\n\t    createScale: {\n\t      value: function createScale() {\n\t        var newScale = [];\n\t        for (var i = 0; i < arguments.length; i++) {\n\t          newScale.push(math.mtof(60 + arguments[i]));\n\t        }\n\t        this.loadScaleFromFrequencies(newScale);\n\t      }\n\t    },\n\t    createJIScale: {\n\t      value: function createJIScale() {\n\t        this.scale = [];\n\t        for (var i = 0; i < arguments.length; i++) {\n\t          this.scale.push(arguments[i]);\n\t        }\n\t      }\n\t    },\n\t    loadScaleFromFrequencies: {\n\t      value: function loadScaleFromFrequencies(freqs) {\n\t        this.scale = [];\n\t        for (var i = 0; i < freqs.length - 1; i++) {\n\t          this.scale.push(freqs[i] / freqs[0]);\n\t        }\n\t      }\n\t    },\n\t    loadScale: {\n\t\n\t      /* Load a new scale */\n\t\n\t      value: function loadScale(name) {\n\t\n\t        /* load the scale */\n\t        var freqs = this.scales[name].frequencies;\n\t        this.loadScaleFromFrequencies(freqs);\n\t      }\n\t    },\n\t    search: {\n\t\n\t      /* Search the names of tunings\n\t      \t Returns an array of names of tunings */\n\t\n\t      value: function search(letters) {\n\t        var possible = [];\n\t        for (var key in this.scales) {\n\t          if (key.toLowerCase().indexOf(letters.toLowerCase()) !== -1) {\n\t            possible.push(key);\n\t          }\n\t        }\n\t        return possible;\n\t      }\n\t    },\n\t    chord: {\n\t\n\t      /* Return a collection of notes as an array */\n\t\n\t      value: function chord(midis) {\n\t        var output = [];\n\t        for (var i = 0; i < midis.length; i++) {\n\t          output.push(this.note(midis[i]));\n\t        }\n\t        return output;\n\t      }\n\t    }\n\t  });\n\t\n\t  return Tune;\n\t})();\n\t\n\tmodule.exports = Tune;\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\t//Disable jshint warning concerning trailing regular params\n\t/*jshint -W138 */\n\t\n\tvar Radio = (function () {\n\t    //if non-existent buttons are switched, they are ignored\n\t\n\t    function Radio() {\n\t        for (var _len = arguments.length, onVals = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t            onVals[_key - 1] = arguments[_key];\n\t        }\n\t\n\t        var length = arguments[0] === undefined ? 3 : arguments[0];\n\t\n\t        _classCallCheck(this, Radio);\n\t\n\t        //each optional 'onVals' argument switches on that value in the Radio if it exists\n\t        //In the example below, a 3-button radio is created, index 0 is switched on, index 1 is switched on then then attempted again producing an warning, and the final argument produces a warning because the index value does not exist.\n\t        //Example:\n\t        //`  radio = new Radio(3, 0, 1, 1, 3);\n\t        //…  [1,1,0]\n\t\n\t        if (length < 0) {\n\t            length = 1;\n\t        }\n\t\n\t        this.length = length;\n\t        this.onVals = onVals;\n\t        this.array = new Array(length).fill(0);\n\t\n\t        if (onVals.length > 0) {\n\t            this.on.apply(this, onVals);\n\t        }\n\t    }\n\t\n\t    _createClass(Radio, {\n\t        select: {\n\t            value: function select(value) {\n\t                this.array.fill(0);\n\t                this.array[value] = 1;\n\t                return this.array;\n\t            }\n\t        },\n\t        flip: {\n\t            value: function flip() {\n\t                for (var _len = arguments.length, values = Array(_len), _key = 0; _key < _len; _key++) {\n\t                    values[_key] = arguments[_key];\n\t                }\n\t\n\t                //flips the specified values. if no value is specified, flips all buttons\n\t                var a = this.array;\n\t                if (values.length > 0) {\n\t                    values.forEach(function (v) {\n\t                        if (v > a.length - 1) {\n\t                            console.warn(\"Warning: AnonRadio[\" + v + \"] does not exist\");\n\t                        } else {\n\t                            a[v] = a[v] ? 0 : 1;\n\t                        }\n\t                    });\n\t                } else {\n\t                    a.forEach(function (v, i, arr) {\n\t                        arr[i] = v ? 0 : 1;\n\t                    });\n\t                }\n\t                return a;\n\t            }\n\t        },\n\t        on: {\n\t            value: function on() {\n\t                for (var _len = arguments.length, values = Array(_len), _key = 0; _key < _len; _key++) {\n\t                    values[_key] = arguments[_key];\n\t                }\n\t\n\t                //switch on the specified values. if no value specified, flips on all buttons\n\t                var a = this.array;\n\t                if (values.length > 0) {\n\t                    values.forEach(function (v) {\n\t                        if (v > a.length - 1) {\n\t                            console.warn(\"Warning: AnonRadio[\" + v + \"] exceeds size of object\");\n\t                        } else {\n\t                            if (a[v] === 1) {\n\t                                console.warn(\"Warning: AnonRadio[\" + v + \"] was already on.\");\n\t                            }\n\t                            a[v] = 1;\n\t                        }\n\t                    });\n\t                } else {\n\t                    a.fill(1);\n\t                }\n\t                return a;\n\t            }\n\t        },\n\t        off: {\n\t            value: function off() {\n\t                for (var _len = arguments.length, values = Array(_len), _key = 0; _key < _len; _key++) {\n\t                    values[_key] = arguments[_key];\n\t                }\n\t\n\t                //switch off the specified values. if no value specified, flips off all buttons\n\t                var a = this.array;\n\t                if (values.length > 0) {\n\t                    values.forEach(function (v) {\n\t                        a[v] = 0;\n\t                    });\n\t                } else {\n\t                    a.fill(0);\n\t                }\n\t                return a;\n\t            }\n\t        }\n\t    });\n\t\n\t    return Radio;\n\t})();\n\t\n\tmodule.exports = Radio;\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar WAAClock = __webpack_require__(43)\n\t\n\tmodule.exports = WAAClock\n\tif (typeof window !== 'undefined') window.WAAClock = WAAClock\n\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {var isBrowser = (typeof window !== 'undefined')\n\t\n\tvar CLOCK_DEFAULTS = {\n\t  toleranceLate: 0.10,\n\t  toleranceEarly: 0.001\n\t}\n\t\n\t// ==================== Event ==================== //\n\tvar Event = function(clock, deadline, func) {\n\t  this.clock = clock\n\t  this.func = func\n\t  this._cleared = false // Flag used to clear an event inside callback\n\t\n\t  this.toleranceLate = clock.toleranceLate\n\t  this.toleranceEarly = clock.toleranceEarly\n\t  this._latestTime = null\n\t  this._earliestTime = null\n\t  this.deadline = null\n\t  this.repeatTime = null\n\t\n\t  this.schedule(deadline)\n\t}\n\t\n\t// Unschedules the event\n\tEvent.prototype.clear = function() {\n\t  this.clock._removeEvent(this)\n\t  this._cleared = true\n\t  return this\n\t}\n\t\n\t// Sets the event to repeat every `time` seconds.\n\tEvent.prototype.repeat = function(time) {\n\t  if (time === 0)\n\t    throw new Error('delay cannot be 0')\n\t  this.repeatTime = time\n\t  if (!this.clock._hasEvent(this))\n\t    this.schedule(this.deadline + this.repeatTime)\n\t  return this\n\t}\n\t\n\t// Sets the time tolerance of the event.\n\t// The event will be executed in the interval `[deadline - early, deadline + late]`\n\t// If the clock fails to execute the event in time, the event will be dropped.\n\tEvent.prototype.tolerance = function(values) {\n\t  if (typeof values.late === 'number')\n\t    this.toleranceLate = values.late\n\t  if (typeof values.early === 'number')\n\t    this.toleranceEarly = values.early\n\t  this._refreshEarlyLateDates()\n\t  if (this.clock._hasEvent(this)) {\n\t    this.clock._removeEvent(this)\n\t    this.clock._insertEvent(this)\n\t  }\n\t  return this\n\t}\n\t\n\t// Returns true if the event is repeated, false otherwise\n\tEvent.prototype.isRepeated = function() { return this.repeatTime !== null }\n\t\n\t// Schedules the event to be ran before `deadline`.\n\t// If the time is within the event tolerance, we handle the event immediately.\n\t// If the event was already scheduled at a different time, it is rescheduled.\n\tEvent.prototype.schedule = function(deadline) {\n\t  this._cleared = false\n\t  this.deadline = deadline\n\t  this._refreshEarlyLateDates()\n\t\n\t  if (this.clock.context.currentTime >= this._earliestTime) {\n\t    this._execute()\n\t  \n\t  } else if (this.clock._hasEvent(this)) {\n\t    this.clock._removeEvent(this)\n\t    this.clock._insertEvent(this)\n\t  \n\t  } else this.clock._insertEvent(this)\n\t}\n\t\n\tEvent.prototype.timeStretch = function(tRef, ratio) {\n\t  if (this.isRepeated())\n\t    this.repeatTime = this.repeatTime * ratio\n\t\n\t  var deadline = tRef + ratio * (this.deadline - tRef)\n\t  // If the deadline is too close or past, and the event has a repeat,\n\t  // we calculate the next repeat possible in the stretched space.\n\t  if (this.isRepeated()) {\n\t    while (this.clock.context.currentTime >= deadline - this.toleranceEarly)\n\t      deadline += this.repeatTime\n\t  }\n\t  this.schedule(deadline)\n\t}\n\t\n\t// Executes the event\n\tEvent.prototype._execute = function() {\n\t  if (this.clock._started === false) return\n\t  this.clock._removeEvent(this)\n\t\n\t  if (this.clock.context.currentTime < this._latestTime)\n\t    this.func(this)\n\t  else {\n\t    if (this.onexpired) this.onexpired(this)\n\t    console.warn('event expired')\n\t  }\n\t  // In the case `schedule` is called inside `func`, we need to avoid\n\t  // overrwriting with yet another `schedule`.\n\t  if (!this.clock._hasEvent(this) && this.isRepeated() && !this._cleared)\n\t    this.schedule(this.deadline + this.repeatTime) \n\t}\n\t\n\t// Updates cached times\n\tEvent.prototype._refreshEarlyLateDates = function() {\n\t  this._latestTime = this.deadline + this.toleranceLate\n\t  this._earliestTime = this.deadline - this.toleranceEarly\n\t}\n\t\n\t// ==================== WAAClock ==================== //\n\tvar WAAClock = module.exports = function(context, opts) {\n\t  var self = this\n\t  opts = opts || {}\n\t  this.tickMethod = opts.tickMethod || 'ScriptProcessorNode'\n\t  this.toleranceEarly = opts.toleranceEarly || CLOCK_DEFAULTS.toleranceEarly\n\t  this.toleranceLate = opts.toleranceLate || CLOCK_DEFAULTS.toleranceLate\n\t  this.context = context\n\t  this._events = []\n\t  this._started = false\n\t}\n\t\n\t// ---------- Public API ---------- //\n\t// Schedules `func` to run after `delay` seconds.\n\tWAAClock.prototype.setTimeout = function(func, delay) {\n\t  return this._createEvent(func, this._absTime(delay))\n\t}\n\t\n\t// Schedules `func` to run before `deadline`.\n\tWAAClock.prototype.callbackAtTime = function(func, deadline) {\n\t  return this._createEvent(func, deadline)\n\t}\n\t\n\t// Stretches `deadline` and `repeat` of all scheduled `events` by `ratio`, keeping\n\t// their relative distance to `tRef`. In fact this is equivalent to changing the tempo.\n\tWAAClock.prototype.timeStretch = function(tRef, events, ratio) {\n\t  events.forEach(function(event) { event.timeStretch(tRef, ratio) })\n\t  return events\n\t}\n\t\n\t// Removes all scheduled events and starts the clock \n\tWAAClock.prototype.start = function() {\n\t  if (this._started === false) {\n\t    var self = this\n\t    this._started = true\n\t    this._events = []\n\t\n\t    if (this.tickMethod === 'ScriptProcessorNode') {\n\t      var bufferSize = 256\n\t      // We have to keep a reference to the node to avoid garbage collection\n\t      this._clockNode = this.context.createScriptProcessor(bufferSize, 1, 1)\n\t      this._clockNode.connect(this.context.destination)\n\t      this._clockNode.onaudioprocess = function () {\n\t        process.nextTick(function() { self._tick() })\n\t      }\n\t    } else if (this.tickMethod === 'manual') null // _tick is called manually\n\t\n\t    else throw new Error('invalid tickMethod ' + this.tickMethod)\n\t  }\n\t}\n\t\n\t// Stops the clock\n\tWAAClock.prototype.stop = function() {\n\t  if (this._started === true) {\n\t    this._started = false\n\t    this._clockNode.disconnect()\n\t  }  \n\t}\n\t\n\t// ---------- Private ---------- //\n\t\n\t// This function is ran periodically, and at each tick it executes\n\t// events for which `currentTime` is included in their tolerance interval.\n\tWAAClock.prototype._tick = function() {\n\t  var event = this._events.shift()\n\t\n\t  while(event && event._earliestTime <= this.context.currentTime) {\n\t    event._execute()\n\t    event = this._events.shift()\n\t  }\n\t\n\t  // Put back the last event\n\t  if(event) this._events.unshift(event)\n\t}\n\t\n\t// Creates an event and insert it to the list\n\tWAAClock.prototype._createEvent = function(func, deadline) {\n\t  return new Event(this, deadline, func)\n\t}\n\t\n\t// Inserts an event to the list\n\tWAAClock.prototype._insertEvent = function(event) {\n\t  this._events.splice(this._indexByTime(event._earliestTime), 0, event)\n\t}\n\t\n\t// Removes an event from the list\n\tWAAClock.prototype._removeEvent = function(event) {\n\t  var ind = this._events.indexOf(event)\n\t  if (ind !== -1) this._events.splice(ind, 1)\n\t}\n\t\n\t// Returns true if `event` is in queue, false otherwise\n\tWAAClock.prototype._hasEvent = function(event) {\n\t return this._events.indexOf(event) !== -1\n\t}\n\t\n\t// Returns the index of the first event whose deadline is >= to `deadline`\n\tWAAClock.prototype._indexByTime = function(deadline) {\n\t  // performs a binary search\n\t  var low = 0\n\t    , high = this._events.length\n\t    , mid\n\t  while (low < high) {\n\t    mid = Math.floor((low + high) / 2)\n\t    if (this._events[mid]._earliestTime < deadline)\n\t      low = mid + 1\n\t    else high = mid\n\t  }\n\t  return low\n\t}\n\t\n\t// Converts from relative time to absolute time\n\tWAAClock.prototype._absTime = function(relTime) {\n\t  return relTime + this.context.currentTime\n\t}\n\t\n\t// Converts from absolute time to relative time \n\tWAAClock.prototype._relTime = function(absTime) {\n\t  return absTime - this.context.currentTime\n\t}\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(44)))\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports) {\n\n\t// shim for using process in browser\n\tvar process = module.exports = {};\n\t\n\t// cached from whatever global is present so that test runners that stub it\n\t// don't break things.  But we need to wrap it in a try catch in case it is\n\t// wrapped in strict mode code which doesn't define any globals.  It's inside a\n\t// function because try/catches deoptimize in certain engines.\n\t\n\tvar cachedSetTimeout;\n\tvar cachedClearTimeout;\n\t\n\tfunction defaultSetTimout() {\n\t    throw new Error('setTimeout has not been defined');\n\t}\n\tfunction defaultClearTimeout () {\n\t    throw new Error('clearTimeout has not been defined');\n\t}\n\t(function () {\n\t    try {\n\t        if (typeof setTimeout === 'function') {\n\t            cachedSetTimeout = setTimeout;\n\t        } else {\n\t            cachedSetTimeout = defaultSetTimout;\n\t        }\n\t    } catch (e) {\n\t        cachedSetTimeout = defaultSetTimout;\n\t    }\n\t    try {\n\t        if (typeof clearTimeout === 'function') {\n\t            cachedClearTimeout = clearTimeout;\n\t        } else {\n\t            cachedClearTimeout = defaultClearTimeout;\n\t        }\n\t    } catch (e) {\n\t        cachedClearTimeout = defaultClearTimeout;\n\t    }\n\t} ())\n\tfunction runTimeout(fun) {\n\t    if (cachedSetTimeout === setTimeout) {\n\t        //normal enviroments in sane situations\n\t        return setTimeout(fun, 0);\n\t    }\n\t    // if setTimeout wasn't available but was latter defined\n\t    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n\t        cachedSetTimeout = setTimeout;\n\t        return setTimeout(fun, 0);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedSetTimeout(fun, 0);\n\t    } catch(e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n\t            return cachedSetTimeout.call(null, fun, 0);\n\t        } catch(e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n\t            return cachedSetTimeout.call(this, fun, 0);\n\t        }\n\t    }\n\t\n\t\n\t}\n\tfunction runClearTimeout(marker) {\n\t    if (cachedClearTimeout === clearTimeout) {\n\t        //normal enviroments in sane situations\n\t        return clearTimeout(marker);\n\t    }\n\t    // if clearTimeout wasn't available but was latter defined\n\t    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n\t        cachedClearTimeout = clearTimeout;\n\t        return clearTimeout(marker);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedClearTimeout(marker);\n\t    } catch (e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n\t            return cachedClearTimeout.call(null, marker);\n\t        } catch (e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n\t            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n\t            return cachedClearTimeout.call(this, marker);\n\t        }\n\t    }\n\t\n\t\n\t\n\t}\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = runTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    runClearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        runTimeout(drainQueue);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\tprocess.prependListener = noop;\n\tprocess.prependOnceListener = noop;\n\t\n\tprocess.listeners = function (name) { return [] }\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\t\n\tvar Interval = (function () {\n\t  function Interval(rate, func, on) {\n\t    _classCallCheck(this, Interval);\n\t\n\t    this.rate = rate;\n\t    this.on = on;\n\t    this.clock = Nexus.clock; // jshint ignore:line\n\t\n\t    this.pattern = [1];\n\t    this.index = 0;\n\t\n\t    this.event = func ? func : function () {};\n\t\n\t    if (this.on) {\n\t      this.start();\n\t    }\n\t  }\n\t\n\t  _createClass(Interval, {\n\t    _event: {\n\t      value: function _event(e) {\n\t        //  if (this.pattern[this.index%this.pattern.length]) {\n\t        this.event(e);\n\t        //  }\n\t        this.index++;\n\t      }\n\t    },\n\t    stop: {\n\t      value: function stop() {\n\t        this.on = false;\n\t        this.interval.clear();\n\t      }\n\t    },\n\t    start: {\n\t      value: function start() {\n\t        this.on = true;\n\t        this.interval = this.clock.callbackAtTime(this._event.bind(this), this.clock.context.currentTime).repeat(this.rate / 1000).tolerance({ early: 0.1, late: 1 });\n\t      }\n\t    },\n\t    ms: {\n\t      value: function ms(newrate) {\n\t        if (this.on) {\n\t          var ratio = newrate / this.rate;\n\t          this.rate = newrate;\n\t          this.clock.timeStretch(this.clock.context.currentTime, [this.interval], ratio);\n\t        } else {\n\t          this.rate = newrate;\n\t        }\n\t      }\n\t    }\n\t  });\n\t\n\t  return Interval;\n\t})();\n\t\n\tmodule.exports = Interval;\n\n/***/ })\n/******/ ])\n});\n;\n//# sourceMappingURL=NexusUI.map\n\n\n// WEBPACK FOOTER //\n// ./lib/js/NexusUI.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 4\n// module chunks = 0","import * as Nexus from './NexusUI';\n\nclass Sequencer {\n  constructor(){\n    this.sequencer = new Nexus.Sequencer('#sequencer',{\n     'size': [1000,500],\n     'mode': 'toggle',\n     'rows': 8,\n     'columns': 16\n   });\n\n  }\n}\n\n\n\n\nexport default Sequencer;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/sequencer.js","import * as Nexus from './NexusUI';\nimport sfx from './sounds';\nimport { library } from './sounds';\n\nclass Piano {\n  constructor() {\n    this.piano = new Nexus.Piano('#piano',{\n    'size': [500,125],\n    'mode': 'button',\n    'lowNote': 24,\n    'highNote': 60\n    });\n    this.keys = this.piano.keys;\n  }\n}\n\n\nexport default Piano;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/piano.js","import * as Nexus from './NexusUI';\n\n\nclass Button {\n  constructor(){\n    this.button = new Nexus.TextButton('#button');\n  }\n\n  play(){\n    const audio = new Audio('./lib/media/bad_company.mp3');\n    audio.play();\n  }\n}\n\nexport default Button;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/button.js","const library =\n  {\n    \"1\": {\n      \"Frequency\": {\n        \"Start\": 199.27033375477032,\n        \"Slide\": 0.21237188837511609\n      },\n      \"Generator\": {\n        \"Func\": \"noise\"\n      },\n      \"Phaser\": {\n        \"Offset\": 0.04301412486602352,\n        \"Sweep\": -0.14319710898396903\n      },\n      \"Volume\": {\n        \"Sustain\": 0.1463195500577345,\n        \"Decay\": 0.06077918145417238,\n        \"Punch\": 0.6420285625662108\n      }\n    },\n    \"2\": {\n      \"Frequency\": {\n        \"Start\": 95.74101628800832,\n        \"Slide\": 0\n      },\n      \"Generator\": {\n        \"Func\": \"noise\"\n      },\n      \"Phaser\": {\n        \"Offset\": 0.10076366999692693,\n        \"Sweep\": -0.17794971603923573\n      },\n      \"Volume\": {\n        \"Sustain\": 0.1451085985840173,\n        \"Decay\": 0.32583242326086104,\n        \"Punch\": 0.37692421278909904\n      }\n    },\n    \"3\": {\n      \"Frequency\": {\n        \"Start\": 1062.5376767410562,\n        \"Slide\": -0.5218768693306886\n      },\n      \"Generator\": {\n        \"Func\": \"square\",\n        \"A\": 0.045183659107490025,\n        \"ASlide\": -0.3918165937010962\n      },\n      \"Volume\": {\n        \"Sustain\": 0.06385365773477472,\n        \"Decay\": 0.27509507581230774\n      }\n    },\n    \"4\": {\n      \"Frequency\": {\n        \"Start\": 840.5011081127645,\n        \"Min\": 1266.2370355073792,\n        \"Max\": 1085.8771625146178,\n        \"Slide\": 0.20466251552475967,\n        \"DeltaSlide\": -0.7808375200684368,\n        \"RepeatSpeed\": 0.9233063342543593,\n        \"ChangeAmount\": 9.112754825023409,\n        \"ChangeSpeed\": 0.3474833656090921\n      },\n      \"Vibrato\": {\n        \"Depth\": 0.7533458799280763,\n        \"DepthSlide\": -0.8561223618600482,\n        \"Frequency\": 37.86778576108967,\n        \"FrequencySlide\": 0.5066501923683027\n      },\n      \"Generator\": {\n        \"Func\": \"saw\",\n        \"A\": 0.09560233003534435,\n        \"B\": 0.5054869940613229,\n        \"ASlide\": 0.03697750352961737,\n        \"BSlide\": 0.7042166850023546\n      },\n      \"Guitar\": {\n        \"A\": 0.22820962757097818,\n        \"B\": 0.5666029839103637,\n        \"C\": 0.45690472504779134\n      },\n      \"Phaser\": {\n        \"Offset\": 0.5224333872634297,\n        \"Sweep\": -0.5514501526267179\n      },\n      \"Volume\": {\n        \"Master\": 0.4,\n        \"Attack\": 0.2771710898431308,\n        \"Sustain\": 1.5909793433322963,\n        \"Punch\": 0.29401569333734856,\n        \"Decay\": 1.32408923630018\n      }\n    },\n    \"5\": {\n      \"Frequency\": {\n        \"Start\": 1336.757295460379,\n        \"ChangeSpeed\": 0.10201318364914982,\n        \"ChangeAmount\": 4.118162903285514\n      },\n      \"Volume\": {\n        \"Sustain\": 0.04572099624390416,\n        \"Decay\": 0.18061153823171489,\n        \"Punch\": 0.5713897778376296\n      }\n    },\n    \"6\": {\n      \"Frequency\": {\n        \"Start\": 556.0785746598697,\n        \"Slide\": 0.11154675459564918\n      },\n      \"Vibrato\": {\n        \"Depth\": 0.639720885632239,\n        \"Frequency\": 36.498000624630826\n      },\n      \"Generator\": {\n        \"A\": 0.14365673691415518\n      },\n      \"Volume\": {\n        \"Sustain\": 0.07393750119984173,\n        \"Decay\": 0.23189387706323458\n      }\n    },\n    \"7\": {\n      \"Frequency\": {\n        \"Start\": 604.9129400842817,\n        \"Slide\": -0.25047730157180614\n      },\n      \"Generator\": {\n        \"Func\": \"noise\"\n      },\n      \"Phaser\": {\n        \"Offset\": 0.42897957052309726,\n        \"Sweep\": -0.1012249504840073\n      },\n      \"Volume\": {\n        \"Sustain\": 0.319325227024538,\n        \"Decay\": 0.07575421527363657,\n        \"Punch\": 0.45579376256037235\n      }\n    },\n    \"8\": {\n      \"Frequency\": {\n        \"Start\": 668.1651977412896,\n        \"Slide\": -0.43306525285141684\n      },\n      \"Generator\": {\n        \"Func\": \"saw\",\n        \"A\": 0.5711117561657586,\n        \"ASlide\": 0.04509194846745568\n      },\n      \"Filter\": {\n        \"HP\": 0.031165119326274925\n      },\n      \"Volume\": {\n        \"Sustain\": 0.07143140975736416,\n        \"Decay\": 0.1277776651583285\n      }\n    },\n    \"9\": {\n      \"Frequency\": {\n        \"Start\": 579.5444006624668,\n        \"Min\": 1010.2907653700962,\n        \"Max\": 626.78454562776,\n        \"Slide\": 0.6522047446896324,\n        \"DeltaSlide\": -0.9316941556700837,\n        \"RepeatSpeed\": 0.3955410810041149,\n        \"ChangeAmount\": 5.807002797513796,\n        \"ChangeSpeed\": 0.6403348414519359\n      },\n      \"Vibrato\": {\n        \"Depth\": 0.09351633039908447,\n        \"DepthSlide\": -0.6427754723337058,\n        \"Frequency\": 22.54789928548274,\n        \"FrequencySlide\": -0.35236715311301925\n      },\n      \"Generator\": {\n        \"Func\": \"synth\",\n        \"A\": 0.6834491877167272,\n        \"B\": 0.9259045224602924,\n        \"ASlide\": 0.7891987220141599,\n        \"BSlide\": 0.3750603310516354\n      },\n      \"Guitar\": {\n        \"A\": 0.9857380380746257,\n        \"B\": 0.2715225298900714,\n        \"C\": 0.5247272581046842\n      },\n      \"Phaser\": {\n        \"Offset\": -0.7438284536560724,\n        \"Sweep\": 0.3196337180893112\n      },\n      \"Volume\": {\n        \"Master\": 0.4,\n        \"Attack\": 0.7864890839950339,\n        \"Sustain\": 0.6823301815584255,\n        \"Punch\": 0.40271456105324144,\n        \"Decay\": 1.3310582587777122\n      }\n    },\n    \"10\": {\n      \"Frequency\": {\n        \"Start\": 657.1465138691775,\n        \"Slide\": 0.5085535187211165,\n        \"RepeatSpeed\": 0.7202031290046107\n      },\n      \"Generator\": {\n        \"Func\": \"saw\"\n      },\n      \"Volume\": {\n        \"Sustain\": 0.26855607458038655,\n        \"Decay\": 0.23840891483660498\n      }\n    },\n    \"11\": {\n      \"Frequency\": {\n        \"Start\": 489.0007726874367\n      },\n      \"Generator\": {\n        \"Func\": \"saw\",\n        \"A\": 0.23045943564992444\n      },\n      \"Filter\": {\n        \"HP\": 0.2\n      },\n      \"Volume\": {\n        \"Sustain\": 0.10207051027011432,\n        \"Decay\": 0.09858808760729164\n      }\n    },\n    \"12\": {\n      \"Frequency\": {\n        \"Start\": 33.608272042025106,\n        \"Min\": 296.8291381814496,\n        \"Max\": 548.8026449449674,\n        \"Slide\": -0.15303794346439537,\n        \"DeltaSlide\": -0.08076324326251605,\n        \"RepeatSpeed\": 0.3082948667931338,\n        \"ChangeAmount\": -9.774838470384987,\n        \"ChangeSpeed\": 0.6873376734827858\n      },\n      \"Vibrato\": {\n        \"Depth\": 0.3100487243232144,\n        \"DepthSlide\": 0.5794460415540854,\n        \"Frequency\": 0.8678159768103203,\n        \"FrequencySlide\": 0.04029078039058076\n      },\n      \"Generator\": {\n        \"Func\": \"triangle\",\n        \"A\": 0.04416619099210939,\n        \"B\": 0.6297822049479846,\n        \"ASlide\": -0.6817601153677395,\n        \"BSlide\": 0.7198204122005616\n      },\n      \"Guitar\": {\n        \"A\": 0.4381231344236467,\n        \"B\": 0.38783726884453995,\n        \"C\": 0.7368145264082102\n      },\n      \"Phaser\": {\n        \"Offset\": 0.36727500328252694,\n        \"Sweep\": 0.398965930702599\n      },\n      \"Volume\": {\n        \"Master\": 0.4,\n        \"Attack\": 0.25955723212766096,\n        \"Sustain\": 1.6305148335894581,\n        \"Punch\": 1.1137077507977762,\n        \"Decay\": 1.3699553229373753\n      }\n    },\n    \"13\": {\n      \"Frequency\": {\n        \"Start\": 504.7419064225182,\n        \"Slide\": 0.4158971079296136,\n        \"RepeatSpeed\": 0.670018917245786\n      },\n      \"Generator\": {\n        \"Func\": \"saw\"\n      },\n      \"Volume\": {\n        \"Sustain\": 0.12300043401140659,\n        \"Decay\": 0.45013209586786573\n      }\n    },\n    \"14\": {\n      \"Frequency\": {\n        \"Start\": 397.94968895171564,\n        \"Slide\": 0.37715852256741567\n      },\n      \"Generator\": {\n        \"Func\": \"sine\",\n        \"A\": 0.15039838152990587\n      },\n      \"Filter\": {\n        \"HP\": 0.22172565999616664\n      },\n      \"Volume\": {\n        \"Sustain\": 0.377645797001808,\n        \"Decay\": 0.26232515754959357\n      }\n    },\n    \"15\": {\n      \"Frequency\": {\n        \"Start\": 1603.225571746589,\n        \"Min\": 995.7086198583559,\n        \"Slide\": -0.8517525117023443\n      },\n      \"Generator\": {\n        \"Func\": \"sine\",\n        \"A\": 0.03170015514980118,\n        \"ASlide\": 0.1412486854054671\n      },\n      \"Phaser\": {\n        \"Offset\": 0.1108573492944406,\n        \"Sweep\": 0.1797725577061543\n      },\n      \"Volume\": {\n        \"Sustain\": 0.1656650709619566,\n        \"Decay\": 0.17266258342618368,\n        \"Punch\": 0.14584719888494488\n      }\n    },\n    \"16\": {\n      \"Frequency\": {\n        \"Start\": 1717.1695103123393,\n        \"Min\": 546.8551014916371,\n        \"Max\": 603.6654685493712,\n        \"Slide\": 0.9131852782263996,\n        \"DeltaSlide\": -0.5172847258304092,\n        \"RepeatSpeed\": 2.6732802442396184,\n        \"ChangeAmount\": 8.713488482076578,\n        \"ChangeSpeed\": 0.3675163524032332\n      },\n      \"Vibrato\": {\n        \"Depth\": 0.5648603677141393,\n        \"DepthSlide\": 0.9271882089769354,\n        \"Frequency\": 7.818393548943951,\n        \"FrequencySlide\": 0.029273285842671637\n      },\n      \"Generator\": {\n        \"Func\": \"sine\",\n        \"A\": 0.40144855323555606,\n        \"B\": 0.36481557367935347,\n        \"ASlide\": 0.860910403478051,\n        \"BSlide\": 0.4173834566868946\n      },\n      \"Guitar\": {\n        \"A\": 0.6491052376466115,\n        \"B\": 0.5700542485286049,\n        \"C\": 0.13657774602491313\n      },\n      \"Phaser\": {\n        \"Offset\": 0.3386367336712093,\n        \"Sweep\": -0.16191957218084818\n      },\n      \"Volume\": {\n        \"Master\": 0.4,\n        \"Attack\": 0.39442692537572627,\n        \"Sustain\": 1.2288175971584336,\n        \"Punch\": 2.283715193468832,\n        \"Decay\": 1.3144724079816905\n      }\n    },\n    \"17\": {\n      \"Frequency\": {\n        \"Start\": 525.8391132664372,\n        \"Slide\": 0.20556930483727237\n      },\n      \"Generator\": {\n        \"Func\": \"saw\"\n      },\n      \"Volume\": {\n        \"Sustain\": 0.3712103737092789,\n        \"Decay\": 0.28743735986129826\n      }\n    },\n    \"18\": {\n      \"Frequency\": {\n        \"Start\": 643.5523791210577,\n        \"Min\": 169.29939184600028,\n        \"Slide\": -0.800598009172313\n      },\n      \"Generator\": {\n        \"Func\": \"sine\",\n        \"A\": 0.856674302589898,\n        \"ASlide\": 0.14567738646313969\n      },\n      \"Volume\": {\n        \"Sustain\": 0.20326262334281134,\n        \"Decay\": 0.2799922752836393,\n        \"Punch\": 0.18228721421081323\n      }\n    },\n    \"19\": {\n      \"Frequency\": {\n        \"Start\": 249.4989253352472\n      },\n      \"Generator\": {\n        \"Func\": \"square\",\n        \"A\": 0.5911830300044757\n      },\n      \"Filter\": {\n        \"HP\": 0.2\n      },\n      \"Volume\": {\n        \"Sustain\": 0.12289949268738042,\n        \"Decay\": 0.05342175748084173\n      }\n    },\n    \"20\": {\n      \"Frequency\": {\n        \"Start\": 249.4989253352472\n      },\n      \"Generator\": {\n        \"Func\": \"sine\",\n        \"A\": 0.5911830300044757\n      },\n      \"Filter\": {\n        \"HP\": 0.2\n      },\n      \"Volume\": {\n        \"Sustain\": 0.12289949268738042,\n        \"Decay\": 0.05342175748084173\n      }\n    },\n    \"21\": {\n      \"Frequency\": {\n        \"Start\": 249.4989253352472\n      },\n      \"Generator\": {\n        \"Func\": \"triangle\",\n        \"A\": 0.5911830300044757\n      },\n      \"Filter\": {\n        \"HP\": 0.2\n      },\n      \"Volume\": {\n        \"Sustain\": 0.12289949268738042,\n        \"Decay\": 0.05342175748084173,\n        \"Attack\": 0.301\n      }\n    },\n    \"22\": {\n      \"Frequency\": {\n        \"Start\": 249.4989253352472\n      },\n      \"Generator\": {\n        \"Func\": \"string\",\n        \"A\": 0.5911830300044757\n      },\n      \"Filter\": {\n        \"HP\": 0.2\n      },\n      \"Volume\": {\n        \"Sustain\": 0.12289949268738042,\n        \"Decay\": 0.05342175748084173,\n        \"Attack\": 0.301\n      },\n      \"Vibrato\": {\n        \"Depth\": 0.09,\n        \"Frequency\": 18.01\n      }\n    },\n    \"23\": {\n      \"Frequency\": {\n        \"Start\": 249.4989253352472\n      },\n      \"Generator\": {\n        \"Func\": \"synth\",\n        \"A\": 0.5911830300044757\n      },\n      \"Filter\": {\n        \"HP\": 0.2\n      },\n      \"Volume\": {\n        \"Sustain\": 0.12289949268738042,\n        \"Decay\": 0.311,\n        \"Attack\": 0.301\n      },\n      \"Vibrato\": {\n        \"Depth\": 0.09,\n        \"Frequency\": 18.01\n      }\n    },\n    \"24\": {\n      \"Frequency\": {\n        \"Start\": 249.4989253352472,\n        \"RepeatSpeed\": 0.47,\n        \"ChangeSpeed\": 0.08\n      },\n      \"Generator\": {\n        \"Func\": \"sine\",\n        \"A\": 0.5911830300044757,\n        \"ASlide\": -0.46,\n        \"B\": 0.34\n      },\n      \"Filter\": {\n        \"HP\": 0.35,\n        \"LPResonance\": 0.2\n      },\n      \"Volume\": {\n        \"Sustain\": 0.34,\n        \"Decay\": 0.701,\n        \"Attack\": 0.301\n      },\n      \"Vibrato\": {\n        \"Depth\": 0.09,\n        \"Frequency\": 18.01,\n        \"DepthSlide\": -0.41,\n        \"FrequencySlide\": 0.11\n      },\n      \"Phaser\": {\n        \"Sweep\": 0.21\n      }\n    },\n    \"25\": {\n      \"Frequency\": {\n        \"Start\": 249.4989253352472,\n        \"RepeatSpeed\": 0.47,\n        \"ChangeSpeed\": 0.08\n      },\n      \"Generator\": {\n        \"Func\": \"noise\",\n        \"A\": 0.5911830300044757,\n        \"ASlide\": -0.46,\n        \"B\": 0.34\n      },\n      \"Filter\": {\n        \"HP\": 0.35,\n        \"LPResonance\": 0.2\n      },\n      \"Volume\": {\n        \"Sustain\": 0.34,\n        \"Decay\": 0.701,\n        \"Attack\": 0.301\n      },\n      \"Vibrato\": {\n        \"Depth\": 0.09,\n        \"Frequency\": 18.01,\n        \"DepthSlide\": -0.41,\n        \"FrequencySlide\": 0.11\n      },\n      \"Phaser\": {\n        \"Sweep\": 0.21\n      }\n    },\n    \"26\": {\n      \"Frequency\": {\n        \"Start\": 249.4989253352472,\n        \"RepeatSpeed\": 0.47,\n        \"ChangeSpeed\": 0.08,\n        \"Min\": 129\n      },\n      \"Generator\": {\n        \"Func\": \"noise\",\n        \"A\": 0.5911830300044757,\n        \"ASlide\": -0.46,\n        \"B\": 0.34\n      },\n      \"Filter\": {\n        \"HP\": 0.35,\n        \"LPResonance\": 0.2\n      },\n      \"Volume\": {\n        \"Sustain\": 0.34,\n        \"Decay\": 0.701,\n        \"Attack\": 0.301\n      },\n      \"Vibrato\": {\n        \"Depth\": 0.09,\n        \"Frequency\": 18.01,\n        \"DepthSlide\": -0.41,\n        \"FrequencySlide\": 0.11\n      },\n      \"Phaser\": {\n        \"Sweep\": 0.21\n      }\n    },\n    \"27\": {\n      \"Frequency\": {\n        \"Start\": 249.4989253352472,\n        \"RepeatSpeed\": 0.47,\n        \"ChangeSpeed\": 0.08,\n        \"Min\": 129\n      },\n      \"Generator\": {\n        \"Func\": \"saw\",\n        \"A\": 0.5911830300044757,\n        \"ASlide\": -0.46,\n        \"B\": 0.34\n      },\n      \"Filter\": {\n        \"HP\": 0.35,\n        \"LPResonance\": 0.2\n      },\n      \"Volume\": {\n        \"Sustain\": 0.34,\n        \"Decay\": 0.701,\n        \"Attack\": 0.301\n      },\n      \"Vibrato\": {\n        \"Depth\": 0.09,\n        \"Frequency\": 18.01,\n        \"DepthSlide\": -0.41,\n        \"FrequencySlide\": 0.11\n      },\n      \"Phaser\": {\n        \"Sweep\": 0.21\n      }\n    },\n    \"28\": {\n      \"Frequency\": {\n        \"Start\": 249.4989253352472,\n        \"RepeatSpeed\": 0.47,\n        \"ChangeSpeed\": 0.08,\n        \"Min\": 129\n      },\n      \"Generator\": {\n        \"Func\": \"square\",\n        \"A\": 0.5911830300044757,\n        \"ASlide\": -0.46,\n        \"B\": 0.47\n      },\n      \"Filter\": {\n        \"HP\": 0.35,\n        \"LPResonance\": 0.2\n      },\n      \"Volume\": {\n        \"Sustain\": 0.34,\n        \"Decay\": 0.701,\n        \"Attack\": 0.301\n      },\n      \"Vibrato\": {\n        \"Depth\": 0.09,\n        \"Frequency\": 18.01,\n        \"DepthSlide\": -0.41,\n        \"FrequencySlide\": 0.11\n      },\n      \"Phaser\": {\n        \"Sweep\": 0.21\n      }\n    },\n    \"29\": {\n      \"Frequency\": {\n        \"Start\": 249.4989253352472,\n        \"RepeatSpeed\": 0.47,\n        \"ChangeSpeed\": 0.08,\n        \"Min\": 129\n      },\n      \"Generator\": {\n        \"Func\": \"string\",\n        \"A\": 0.5911830300044757,\n        \"ASlide\": -0.46,\n        \"B\": 0.47\n      },\n      \"Filter\": {\n        \"HP\": 0.35,\n        \"LPResonance\": 0.2\n      },\n      \"Volume\": {\n        \"Sustain\": 0.34,\n        \"Decay\": 0.701,\n        \"Attack\": 0.301,\n        \"Master\": 0.56\n      },\n      \"Vibrato\": {\n        \"Depth\": 0.09,\n        \"Frequency\": 18.01,\n        \"DepthSlide\": -0.01,\n        \"FrequencySlide\": 0.11\n      },\n      \"Phaser\": {\n        \"Sweep\": 0.21\n      }\n    },\n    \"30\": {\n      \"Frequency\": {\n        \"Start\": 615.6494702803311\n      },\n      \"Generator\": {\n        \"Func\": \"square\",\n        \"A\": 0.40135790842066854\n      },\n      \"Filter\": {\n        \"HP\": 0.2\n      },\n      \"Volume\": {\n        \"Sustain\": 0.1695272479652697,\n        \"Decay\": 0.1705148518007693\n      }\n    },\n    \"31\": {\n      \"Frequency\": {\n        \"Start\": 615.6494702803311,\n        \"ChangeSpeed\": 0.1\n      },\n      \"Generator\": {\n        \"Func\": \"noise\",\n        \"A\": 0.40135790842066854\n      },\n      \"Filter\": {\n        \"HP\": 0.2,\n        \"LPResonance\": 0.38\n      },\n      \"Volume\": {\n        \"Sustain\": 0.36,\n        \"Decay\": 0.1705148518007693,\n        \"Attack\": 0.201\n      },\n      \"Vibrato\": {\n        \"DepthSlide\": -0.35,\n        \"Depth\": 0.11\n      }\n    },\n    \"32\": {\n      \"Frequency\": {\n        \"Start\": 332.1845523650188,\n        \"Slide\": -0.38458865159124017\n      },\n      \"Generator\": {\n        \"Func\": \"saw\",\n        \"A\": 0.24214179258300614,\n        \"ASlide\": -0.18093306518511332\n      },\n      \"Filter\": {\n        \"HP\": 0.25478001983284077\n      },\n      \"Volume\": {\n        \"Sustain\": 0.08622878550108837,\n        \"Decay\": 0.20262495040717662\n      }\n    },\n    \"33\": {\n      \"Frequency\": {\n        \"Start\": 332.1845523650188,\n        \"Slide\": -0.38458865159124017\n      },\n      \"Generator\": {\n        \"Func\": \"triangle\",\n        \"A\": 0.24214179258300614,\n        \"ASlide\": -0.18093306518511332,\n        \"BSlide\": -0.54\n      },\n      \"Filter\": {\n        \"HP\": 0.25478001983284077,\n        \"LPResonance\": 0.25\n      },\n      \"Volume\": {\n        \"Sustain\": 0.08622878550108837,\n        \"Decay\": 0.20262495040717662,\n        \"Attack\": 0.251\n      },\n      \"Vibrato\": {\n        \"Frequency\": 5.01\n      }\n    },\n    \"34\": {\n      \"Frequency\": {\n        \"Start\": 349.42863263977546,\n        \"Slide\": 0.1399855109868625\n      },\n      \"Generator\": {\n        \"Func\": \"noise\",\n        \"A\": 0.3,\n        \"ASlide\": -0.37\n      },\n      \"Phaser\": {\n        \"Offset\": 0.13452160435601618,\n        \"Sweep\": -0.15454704594608001\n      },\n      \"Volume\": {\n        \"Sustain\": 0.51,\n        \"Decay\": 0.3918556934123816,\n        \"Punch\": 0.3003951975054825\n      }\n    },\n    \"35\": {\n      \"Frequency\": {\n        \"Start\": 591.6187400862045,\n        \"Slide\": 0.5478892085898146\n      },\n      \"Generator\": {\n        \"Func\": \"square\",\n        \"A\": 0.22496234156008743\n      },\n      \"Filter\": {\n        \"HP\": 0.17729220912779542,\n        \"LP\": 0.8819085294772236\n      },\n      \"Volume\": {\n        \"Sustain\": 0.38481754907100785,\n        \"Decay\": 0.11299838955771593\n      }\n    },\n    \"36\": {\n      \"Frequency\": {\n        \"Start\": 979.8695250696014,\n        \"ChangeSpeed\": 0.10791661129583746,\n        \"ChangeAmount\": 6.992337674934127,\n        \"RepeatSpeed\": 0.41,\n        \"Min\": 290\n      },\n      \"Volume\": {\n        \"Sustain\": 0.03861322651963828,\n        \"Decay\": 0.24750886723938362,\n        \"Punch\": 0.34226028037374623\n      },\n      \"Generator\": {\n        \"B\": 0.24\n      },\n      \"Filter\": {\n        \"LPResonance\": 0.23,\n        \"HP\": 0.17\n      },\n      \"Phaser\": {\n        \"Offset\": -0.43\n      },\n      \"Vibrato\": {\n        \"Depth\": 0.3,\n        \"DepthSlide\": 0.1\n      }\n    }\n};\n//\n// export const sounds = Object.keys(library).map(key =>(\n//   library[key]\n// ));\n\n// console.log(sounds);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/sounds.js"],"sourceRoot":""}