{"version":3,"sources":["webpack:///webpack/bootstrap 5269e524a9c38e9f0ce3","webpack:///./lib/js/main.js","webpack:///./lib/js/NexusUI.js","webpack:///(webpack)/buildin/module.js","webpack:///./lib/js/sequencer.js","webpack:///./lib/js/piano.js","webpack:///./lib/js/button.js","webpack:///./lib/js/toggle.js"],"names":["Nexus","document","addEventListener","board","piano","button","toggle","on","v","play","drunk","Drunk","sequencer","start","stop","value","console","log","$cells","$","addClass","matrix","window","AudioContext","webkitAudioContext","context","webpackUniversalModuleDefinition","root","factory","exports","module","modules","installedModules","__webpack_require__","moduleId","id","loaded","call","m","c","p","NexusUI","_interopRequireWildcard","obj","__esModule","_interopRequire","_createClass","defineProperties","target","props","key","prop","configurable","writable","Object","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","Interfaces","math","Rack","Tune","Transform","Counter","Radio","Sequence","Matrix","WAAClock","Interval","_key","Core","Models","_key2","_key3","DefaultContext","_context","tune","note","bind","clock","colors","accent","fill","light","dark","mediumLight","mediumDark","crimson","transform","add","get","set","ctx","Position","Slider","Toggle","Button","TextButton","RadioButton","Number","Select","Dial","Piano","Sequencer","Pan2D","Tilt","Multislider","Pan","Envelope","Spectrogram","Meter","Oscilloscope","_get","object","property","receiver","desc","getOwnPropertyDescriptor","undefined","parent","getPrototypeOf","getter","_inherits","subClass","superClass","create","constructor","enumerable","__proto__","svg","Interface","Step","Interaction","_Interface","options","defaults","size","mode","minX","maxX","stepX","x","minY","maxY","stepY","y","arguments","_x","settings","_y","position","Handle","width","height","normalized","init","render","buildInterface","knob","element","appendChild","sizeInterface","resize","_minDimension","Math","min","knobRadius","off","setAttribute","colorInterface","style","backgroundColor","clicked","knobCoordinates","click","anchor","mouse","move","update","updateNormal","emit","release","max","step","type","createElementNS","arc","radius","startAngle","endAngle","toCartesian","end","largeArcFlag","d","join","radialGradient","defs","numberOfStops","ri","stops","gradient","i","_stop","push","clip","normalize","scale","inNum","inMin","inMax","outMin","outMax","toPolar","r","sqrt","theta","atan2","PI","angle","cos","sin","prune","data","parseFloat","toFixed","invert","mtof","midi","pow","interp","loc","pick","random","length","octave","num","bound1","bound2","low","high","floor","rf","cycle","input","average","total","distance","x1","y1","x2","y2","a","b","gainToDB","gain","log10","coin","odds","dom","util","touch","EventEmitter","_EventEmitter","args","name","parseSettings","wait","defaultColors","unshift","defaultSize","splice","body","snapWithParent","event","component","setting","isObject","parseElement","HTMLElement","hasAttribute","Array","isArray","indexOf","getComputedStyle","getPropertyValue","replace","buildFrame","attachListeners","finalTouches","_this","interactionTarget","exists","evt","preTouch","preTouchMove","preTouchRelease","boundPreMove","preMove","boundPreRelease","preRelease","preClick","cursor","e","offset","findPosition","locateMouse","moveEvent","releaseEvent","preventDefault","stopPropagation","setTimeout","removeEventListener","locateTouch","touchMove","touchRelease","empty","lastChild","removeChild","destroy","removeAllListeners","instrument","customDestroy","colorize","color","el","viewportOffset","getBoundingClientRect","top","scrollY","left","scrollX","getElementById","SVGElement","pageX","pageY","targetTouches","SmartCanvas","createElement","getContext","w","h","documentElement","_events","_maxListeners","defaultMaxListeners","setMaxListeners","n","isNumber","isNaN","er","handler","len","listeners","error","Error","err","isUndefined","isFunction","slice","apply","addListener","listener","newListener","warned","trace","once","fired","g","removeListener","list","ret","listenerCount","evlistener","emitter","arg","changed","oldValue","round","defineProperty","ToggleModel","direction","xbound","ybound","previous","sensitivity","boundary","center","_anchor","convertPositionToValue","increment","abs","current","state","paintbrush","timeout","clearTimeout","turnOn","flip","turnOff","orientation","_value","bar","fillbar","barOffset","cornerRadius","knobData","level","thickness","_state","knobSize","ButtonTemplate","_ButtonTemplate","pad","down","bend","up","emitting","text","alternate","_text","_alternateText","textElement","innerHTML","textsize","textsize2","alternateText","textsize3","styles","cssText","numberOfButtons","active","buttons","_numberOfButtons","container","buttonWidth","buttonHeight","index","select","deselect","decimalPlaces","actual","which","blur","hasMoved","readOnly","initial","changeFactor","newvalue","focus","setSelectionRange","link","destination","passiveUpdate","_selectedIndex","_options","fontSize","outline","highlight","boundRender","defineOptions","border","selectedIndex","remove","Option","interaction","previousAngle","background","screw","handle","handle2","handleFill","handle2Fill","handleLine","diameter","handlePoints","handle2Points","handlePath","handle2Path","arcEndingA","arcEndingX","arcEndingY","realValue","PianoKey","interacting","lowNote","highNote","keyPattern","range","keys","toggleTo","borderRadius","display","scaleIndex","keyChange","addTouchListeners","keyX","keyPositions","nextScaleIndex","keysWide","padding","zIndex","currentElement","elementFromPoint","clientX","clientY","pastKey","setRange","toggleKey","toggleIndex","MatrixModel","CounterModel","MatrixCell","row","column","rows","columns","interval","ui","stepper","cells","_location","locate","cell","cellWidth","cellHeight","iterate","pattern","ms","next","reverse","pastCell","all","values","forEach","rotate","amount","cut","concat","proxy","populate","oddsSequence","erase","arr","f","f2","formatAsText","patternString","_row","_rowWrapper","toString","_column","_columnWrapper","_x2","sequence","_mode","drunkWalk","startValues","first","loop","speakers","levels","calculateLevels","speakerElements","speakerElement","speaker","s","moveSource","location","moveSpeaker","_active","boundUpdate","DeviceOrientationEvent","orientationListener","title","circleX","circleY","circleZ","barX","barY","barZ","barX2","barY2","barZ2","textContent","beta","gamma","z","alpha","cx","baseVal","cy","SliderTemplate","SingleSlider","_SliderTemplate","hasKnob","multislider","interpolation","lowValue","sliders","highValue","slide","customStyle","numberOfSliders","_numberOfSliders","slider","sliderWidth","sliderHeight","pastslider","setSlider","setAllSliders","L","R","Point","point","envelope","nodes","prevIndex","nextIndex","prevNode","nextNode","lowX","highX","getCoordinates","points","selected","node","sortPoints","line","calculatePath","calculatePoints","findNearestNode","scaleNode","nearestIndex","nearestDist","before","getIndexFromX","clippedX","clippedY","sort","addPoint","scan","priorIndex","priorPoint","nextPoint","movePoint","adjustPoint","xOffset","yOffset","destroyPoint","setPoints","allPoints","analyser","createAnalyser","fftSize","bufferLength","frequencyBinCount","dataArray","Uint8Array","source","canvas","requestAnimationFrame","getByteFrequencyData","fillStyle","fillRect","barWidth","barHeight","definition","subarray","connect","disconnect","channels","splitter","createChannelSplitter","analysers","smoothingTimeConstant","Float32Array","db","Infinity","meterWidth","getFloatTimeDomainData","rms","_i","linear","exp","channelCount","getByteTimeDomainData","lineWidth","strokeStyle","beginPath","sliceWidth","moveTo","lineTo","stroke","meta","attribute","open","boxSizing","userSelect","mozUserSelect","webkitUserSelect","contents","childNodes","titleBar","fontFamily","right","lineHeight","hide","show","section","createInterfaceID","widget","interfaceIDs","attributes","att","nodeName","nodeValue","toUpperCase","keyword","htmlElements","getElementsByTagName","elements","getAttribute","formattedType","toLowerCase","output","etmajor","createScale","frequency","ratio","MIDI","stepIn","octaveIn","scaleDegree","freq","newScale","loadScaleFromFrequencies","createJIScale","freqs","loadScale","scales","frequencies","search","letters","possible","chord","midis","_len","onVals","array","warn","process","isBrowser","CLOCK_DEFAULTS","toleranceLate","toleranceEarly","Event","deadline","func","_cleared","_latestTime","_earliestTime","repeatTime","schedule","clear","_removeEvent","repeat","time","_hasEvent","tolerance","late","early","_refreshEarlyLateDates","_insertEvent","isRepeated","currentTime","_execute","timeStretch","tRef","_started","onexpired","opts","self","tickMethod","delay","_createEvent","_absTime","callbackAtTime","events","bufferSize","_clockNode","createScriptProcessor","onaudioprocess","nextTick","_tick","shift","_indexByTime","ind","mid","relTime","_relTime","absTime","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","run","Item","browser","env","argv","version","versions","noop","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","rate","_event","newrate","int","sfx","sorted","filter","cellValue","audio","Audio"],"mappings":"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","file":"./lib/js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5269e524a9c38e9f0ce3","import * as Nexus from './NexusUI';\n\nimport Sequencer from './sequencer';\nimport Piano from './piano';\nimport Button from './button';\nimport Toggle from './toggle'\n;\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n\n    const board = new Sequencer();\n    const piano = new Piano();\n    const button = new Button();\n    const toggle = new Toggle();\n\n\n    button.button.on('change',function(v) {\n      button.play();\n   });\n\n  //  board.sequencer.colorize(\"accent\", \"#DC143C\");\n\n  //  board.sequencer.colorize(\"fill\", \"#6495ED\");\n\n  const drunk = new Nexus.Drunk();\n\n\n  board.sequencer.start();\n  board.sequencer.stop();\n\n   toggle.toggle.on('change', (value) => {\n     return value === true ? board.sequencer.start() : board.sequencer.stop();\n   });\n\n\n   board.sequencer.on('step',function(v) {\n   console.log(v);\n });\n\n   board.sequencer.on('change',function(v) {\n     const $cells = $(\"span\");\n     $cells.addClass('active');\n });\n\n   console.log(board.sequencer.matrix);\n\n\n  window.AudioContext = window.AudioContext || window.webkitAudioContext;\n  const context = new AudioContext();\n\n  window.piano = piano;\n\n  window.board = board;\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/main.js","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"NexusUI\"] = factory();\n\telse\n\t\troot[\"NexusUI\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar NexusUI = __webpack_require__(1);\n\tvar Nexus = new NexusUI();\n\n\tif (window) {\n\t  window.Nexus = Nexus;\n\t}\n\n\tmodule.exports = Nexus;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; };\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar Interfaces = _interopRequire(__webpack_require__(2));\n\n\tvar math = _interopRequire(__webpack_require__(5));\n\n\tvar Rack = _interopRequire(__webpack_require__(38));\n\n\tvar Tune = _interopRequire(__webpack_require__(40));\n\n\tvar Transform = _interopRequireWildcard(__webpack_require__(39));\n\n\tvar Counter = __webpack_require__(28);\n\tvar Radio = __webpack_require__(41);\n\tvar Drunk = __webpack_require__(27);\n\tvar Sequence = __webpack_require__(26);\n\tvar Matrix = __webpack_require__(25);\n\n\tvar WAAClock = _interopRequire(__webpack_require__(42));\n\n\tvar Interval = _interopRequire(__webpack_require__(45));\n\n\t/**\n\tNexusUI => created as Nexus\n\t*/\n\n\tvar NexusUI = (function () {\n\t  function NexusUI(context) {\n\t    _classCallCheck(this, NexusUI);\n\n\t    for (var key in Interfaces) {\n\t      this[key] = Interfaces[key];\n\t    }\n\n\t    for (var _key in math) {\n\t      this[_key] = math[_key];\n\t    }\n\n\t    var Core = {\n\t      Rack: Rack\n\t    };\n\n\t    var Models = {\n\t      Counter: Counter,\n\t      Radio: Radio,\n\t      Drunk: Drunk,\n\t      Sequence: Sequence,\n\t      Matrix: Matrix\n\t    };\n\n\t    for (var _key2 in Models) {\n\t      this[_key2] = Models[_key2];\n\t    }\n\n\t    for (var _key3 in Core) {\n\t      this[_key3] = Core[_key3];\n\t    }\n\n\t    var DefaultContext = window.AudioContext || window.webkitAudioContext;\n\t    this._context = context || new DefaultContext();\n\n\t    this.tune = new Tune();\n\t    this.note = this.tune.note.bind(this.tune);\n\n\t    this.clock = new WAAClock(this._context);\n\t    this.clock.start();\n\t    this.Interval = Interval;\n\n\t    this.colors = {\n\t      accent: \"#2bb\",\n\t      fill: \"#eee\",\n\t      light: \"#fff\",\n\t      dark: \"#333\",\n\t      mediumLight: \"#ccc\",\n\t      mediumDark: \"#666\",\n\t\t\t\tcrimson: \"#DC143C\"\n\t    };\n\n\t    this.transform = Transform;\n\t    this.add = Transform.add;\n\t  }\n\n\t  _createClass(NexusUI, {\n\t    context: {\n\t      get: function () {\n\t        return this._context;\n\t      },\n\t      set: function (ctx) {\n\t        this.clock.stop();\n\t        this._context = ctx;\n\t        this.clock = new WAAClock(this.context);\n\t        this.clock.start();\n\t      }\n\t    }\n\t  });\n\n\t  return NexusUI;\n\t})();\n\n\tmodule.exports = NexusUI;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tmodule.exports = {\n\t  Position: __webpack_require__(3),\n\t  Slider: __webpack_require__(14),\n\t  Toggle: __webpack_require__(15),\n\t  //  Range: require('./range'),\n\t  //  Waveform: require('./waveform'),\n\t  Button: __webpack_require__(16),\n\t  TextButton: __webpack_require__(18),\n\t  RadioButton: __webpack_require__(19),\n\t  Number: __webpack_require__(20),\n\t  Select: __webpack_require__(21),\n\t  Dial: __webpack_require__(22),\n\t  Piano: __webpack_require__(23),\n\t  Sequencer: __webpack_require__(24),\n\t  Pan2D: __webpack_require__(29),\n\t  Tilt: __webpack_require__(30),\n\t  Multislider: __webpack_require__(31),\n\t  Pan: __webpack_require__(33),\n\t  Envelope: __webpack_require__(34),\n\t  Spectrogram: __webpack_require__(35),\n\t  Meter: __webpack_require__(36),\n\t  Oscilloscope: __webpack_require__(37)\n\t};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n\t\"use strict\";\n\n\tvar _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar svg = __webpack_require__(4);\n\tvar Interface = __webpack_require__(6);\n\tvar Step = __webpack_require__(11);\n\n\tvar Interaction = _interopRequireWildcard(__webpack_require__(12));\n\n\t/**\n\t* Position\n\t*\n\t* @description Two-dimensional touch slider.\n\t*\n\t* @demo <span nexus-ui=\"position\"></span>\n\t*\n\t* @example\n\t* var position = new Nexus.Position('#target')\n\t*\n\t* @example\n\t* var position = new Nexus.Position('#target',{\n\t*   'size': [200,200],\n\t*   'mode': 'absolute',  // \"absolute\" or \"relative\"\n\t*   'x': 0.5,  // initial x value\n\t*   'minX': 0,\n\t*   'maxX': 1,\n\t*   'stepX': 0,\n\t*   'y': 0.5,  // initial y value\n\t*   'minY': 0,\n\t*   'maxY': 1,\n\t*   'stepY': 0\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* The event data is an object with x and y properties containing the x and y values of the interface.\n\t*\n\t* @outputexample\n\t* position.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*\n\t*/\n\n\tvar Position = (function (_Interface) {\n\t  function Position() {\n\t    _classCallCheck(this, Position);\n\n\t    var options = [\"value\"];\n\n\t    var defaults = {\n\t      size: [200, 200],\n\t      mode: \"absolute\",\n\t      minX: 0,\n\t      maxX: 1,\n\t      stepX: 0,\n\t      x: 0.5,\n\t      minY: 0,\n\t      maxY: 1,\n\t      stepY: 0,\n\t      y: 0.5\n\t    };\n\n\t    _get(Object.getPrototypeOf(Position.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this._x = new Step(this.settings.minX, this.settings.maxX, this.settings.stepX, this.settings.x);\n\t    this._y = new Step(this.settings.minY, this.settings.maxY, this.settings.stepY, this.settings.y);\n\n\t    this.position = {\n\t      x: new Interaction.Handle(this.settings.mode, \"horizontal\", [0, this.width], [this.height, 0]),\n\t      y: new Interaction.Handle(this.settings.mode, \"vertical\", [0, this.width], [this.height, 0])\n\t    };\n\t    this.position.x.value = this._x.normalized;\n\t    this.position.y.value = this._y.normalized;\n\n\t    this.init();\n\t    this.render();\n\t  }\n\n\t  _inherits(Position, _Interface);\n\n\t  _createClass(Position, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\n\t        this.knob = svg.create(\"circle\");\n\t        this.element.appendChild(this.knob);\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        this.position.x.resize([0, this.width], [this.height, 0]);\n\t        this.position.y.resize([0, this.width], [this.height, 0]);\n\n\t        this._minDimension = Math.min(this.width, this.height);\n\n\t        this.knobRadius = {\n\t          off: ~ ~(this._minDimension / 100) * 5 + 5 };\n\t        this.knobRadius.on = this.knobRadius.off * 2;\n\n\t        this.knob.setAttribute(\"cx\", this.width / 2);\n\t        this.knob.setAttribute(\"cy\", this.height / 2);\n\t        this.knob.setAttribute(\"r\", this.knobRadius.off);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.element.style.backgroundColor = this.colors.fill;\n\t        this.knob.setAttribute(\"fill\", this.colors.accent);\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (this.clicked) {\n\t          //  this.knobRadius = 30;\n\t          this.knob.setAttribute(\"r\", this.knobRadius.on);\n\t        } else {\n\t          //  this.knobRadius = 15;\n\t          this.knob.setAttribute(\"r\", this.knobRadius.off);\n\t        }\n\n\t        this.knobCoordinates = {\n\t          x: this._x.normalized * this.width,\n\t          y: this.height - this._y.normalized * this.height\n\t        };\n\n\t        this.knob.setAttribute(\"cx\", this.knobCoordinates.x);\n\t        this.knob.setAttribute(\"cy\", this.knobCoordinates.y);\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.position.x.anchor = this.mouse;\n\t        this.position.y.anchor = this.mouse;\n\t        this.move();\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        if (this.clicked) {\n\t          this.position.x.update(this.mouse);\n\t          this.position.y.update(this.mouse);\n\t          this._x.updateNormal(this.position.x.value);\n\t          this._y.updateNormal(this.position.y.value);\n\t          this.emit(\"change\", {\n\t            x: this._x.value,\n\t            y: this._y.value\n\t          });\n\t          this.render();\n\t        }\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {\n\t        this.render();\n\t      }\n\t    },\n\t    x: {\n\n\t      /**\n\t      * The interface's x value. When set, it will automatically adjust to fit min/max/step settings of the interface.\n\t      * @type {object}\n\t      * @example position.x = 0.5;\n\t      */\n\n\t      get: function () {\n\t        return this._x.value;\n\t      },\n\t      set: function (value) {\n\t        this._x.update(value);\n\t        this.emit(\"change\", {\n\t          x: this._x.value,\n\t          y: this._y.value\n\t        });\n\t        this.render();\n\t      }\n\t    },\n\t    y: {\n\n\t      /**\n\t      * The interface's y values. When set, it will automatically adjust to fit min/max/step settings of the interface.\n\t      * @type {object}\n\t      * @example position.x = 0.5;\n\t      */\n\n\t      get: function () {\n\t        return this._y.value;\n\t      },\n\t      set: function (value) {\n\t        this._y.update(value);\n\t        this.emit(\"change\", {\n\t          x: this._x.value,\n\t          y: this._y.value\n\t        });\n\t        this.render();\n\t      }\n\t    },\n\t    normalized: {\n\t      get: function () {\n\t        return {\n\t          x: this._x.normalized,\n\t          y: this._y.normalized\n\t        };\n\t      }\n\t    },\n\t    minX: {\n\n\t      /**\n\t      * The lower limit of value on the x axis\n\t      * @type {object}\n\t      */\n\n\t      get: function () {\n\t        return this._x.min;\n\t      },\n\t      set: function (v) {\n\t        this._x.min = v;\n\t        this.render();\n\t      }\n\t    },\n\t    minY: {\n\n\t      /**\n\t      * The lower limit of value on the y axis\n\t      * @type {object}\n\t      */\n\n\t      get: function () {\n\t        return this._y.min;\n\t      },\n\t      set: function (v) {\n\t        this._y.min = v;\n\t        this.render();\n\t      }\n\t    },\n\t    maxX: {\n\n\t      /**\n\t      * The upper limit of value on the x axis\n\t      * @type {object}\n\t      */\n\n\t      get: function () {\n\t        return this._x.max;\n\t      },\n\t      set: function (v) {\n\t        this._x.max = v;\n\t        this.render();\n\t      }\n\t    },\n\t    maxY: {\n\n\t      /**\n\t      * The upper limit of value on the y axis\n\t      * @type {object}\n\t      */\n\n\t      get: function () {\n\t        return this._y.max;\n\t      },\n\t      set: function (v) {\n\t        this._y.max = v;\n\t        this.render();\n\t      }\n\t    },\n\t    stepX: {\n\n\t      /**\n\t      * The incremental step of values on the x axis\n\t      * @type {object}\n\t      */\n\n\t      get: function () {\n\t        return this._x.step;\n\t      },\n\t      set: function (v) {\n\t        this._x.step = v;\n\t        this.render();\n\t      }\n\t    },\n\t    stepY: {\n\n\t      /**\n\t      * The incremental step of values on the y axis\n\t      * @type {object}\n\t      */\n\n\t      get: function () {\n\t        return this._y.step;\n\t      },\n\t      set: function (v) {\n\t        this._y.step = v;\n\t        this.render();\n\t      }\n\t    },\n\t    mode: {\n\n\t      /**\n\t      Absolute mode (position's value jumps to mouse click position) or relative mode (mouse drag changes value relative to its current position). Default: \"absolute\".\n\t      @type {string}\n\t      @example position.mode = \"relative\";\n\t      */\n\n\t      get: function () {\n\t        return this.position.x.mode;\n\t      },\n\t      set: function (v) {\n\t        this.position.x.mode = v;\n\t        this.position.y.mode = v;\n\t      }\n\t    }\n\t  });\n\n\t  return Position;\n\t})(Interface);\n\n\tmodule.exports = Position;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar math = __webpack_require__(5);\n\n\tmodule.exports = {\n\n\t  create: function (type) {\n\t    return document.createElementNS(\"http://www.w3.org/2000/svg\", type);\n\t  },\n\n\t  arc: function (x, y, radius, startAngle, endAngle) {\n\n\t    var start = math.toCartesian(radius, endAngle);\n\t    var end = math.toCartesian(radius, startAngle);\n\n\t    var largeArcFlag = endAngle - startAngle <= 180 ? \"0\" : \"1\";\n\n\t    var d = [\"M\", start.x + x, start.y + y, \"A\", radius, radius, 0, largeArcFlag, 0, end.x + x, end.y + y].join(\" \");\n\n\t    return d;\n\t  },\n\n\t  radialGradient: function (defs, numberOfStops) {\n\n\t    var id = \"gradient\" + math.ri(100000000000);\n\t    var stops = [];\n\n\t    var gradient = document.createElementNS(\"http://www.w3.org/2000/svg\", \"radialGradient\");\n\t    gradient.setAttribute(\"id\", id);\n\t    gradient.setAttribute(\"cx\", \"50%\");\n\t    gradient.setAttribute(\"cy\", \"50%\");\n\t    gradient.setAttribute(\"r\", \"50%\");\n\n\t    defs.appendChild(gradient);\n\n\t    for (var i = 0; i < numberOfStops; i++) {\n\t      var _stop = document.createElementNS(\"http://www.w3.org/2000/svg\", \"stop\");\n\t      _stop.setAttribute(\"id\", \"stop\" + i);\n\t      //stop.setAttribute('offset', '70%');\n\t      //stop.setAttribute('stop-color', 'White');\n\t      gradient.appendChild(_stop);\n\t      stops.push(_stop);\n\t    }\n\n\t    return {\n\t      id: id,\n\t      stops: stops,\n\t      element: gradient\n\t    };\n\t  }\n\n\t};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\n\t/**\n\t * Limit a number to within a minimum and maximum\n\t * @param  {number} value Input value\n\t * @param  {number} min   Lower limit\n\t * @param  {number} max   Upper limit\n\t * @return {number}       The input value constrained within the lower and upper limits\n\t * @example\n\t * Nexus.clip(11,0,10)   // returns 10\n\t * Nexus.clip(-1,0,10)   // returns 0\n\t * Nexus.clip(5,0,10)    // returns 5\n\t */\n\n\texports.clip = function (value, min, max) {\n\t  return Math.min(Math.max(value, min), max);\n\t};\n\n\texports.normalize = function (value, min, max) {\n\t  return (value - min) / (max - min);\n\t};\n\n\t/**\n\t * Scale a value from one range to another range.\n\t * @param  {number} inNum  Input value\n\t * @param  {number} inMin  Input range minimum\n\t * @param  {number} inMax  Input range maximum\n\t * @param  {number} outMin Output range minimum\n\t * @param  {number} outMax Output range maximum\n\t * @return {number}        The input value scaled to its new range\n\t * @example\n\t * Nexus.scale(0.5,0,1,0,10)   // returns 5\n\t * Nexus.scale(0.9,0,1,1,0)    // returns 0.1\n\t */\n\texports.scale = function (inNum, inMin, inMax, outMin, outMax) {\n\t  if (inMin === inMax) {\n\t    return outMin;\n\t  }\n\t  return (inNum - inMin) * (outMax - outMin) / (inMax - inMin) + outMin;\n\t};\n\n\texports.toPolar = function (x, y) {\n\t  var r = Math.sqrt(x * x + y * y);\n\n\t  var theta = Math.atan2(y, x);\n\t  if (theta < 0) {\n\t    theta = theta + 2 * Math.PI;\n\t  }\n\t  return { radius: r, angle: theta };\n\t};\n\n\texports.toCartesian = function (radius, angle) {\n\t  var cos = Math.cos(angle);\n\t  var sin = Math.sin(angle);\n\t  return { x: radius * cos, y: radius * sin * -1 };\n\t};\n\t/*\n\texports.polarToCartesian(centerX, centerY, radius, angleInDegrees) {\n\t  var angleInRadians = (angleInDegrees-90) * Math.PI / 180.0;\n\n\t  return {\n\t    x: centerX + (radius * Math.cos(angleInRadians)),\n\t    y: centerY + (radius * Math.sin(angleInRadians))\n\t  };\n\t}  */\n\n\texports.prune = function (data, scale) {\n\t  return parseFloat(data.toFixed(scale));\n\t};\n\n\texports.invert = function (inNum) {\n\t  return exports.scale(inNum, 1, 0, 0, 1);\n\t};\n\n\t/**\n\t * Convert a MIDi note number to a frequency value in equal temperament.\n\t * @param  {number} midi MIDI note value\n\t * @return {number}      Frequence value\n\t * @example\n\t * Nexus.mtof(60)  // returns the frequency number of Middle C\n\t */\n\texports.mtof = function (midi) {\n\t  return Math.pow(2, (midi - 69) / 12) * 440;\n\t};\n\n\t/**\n\t * Interpolate between two numbers\n\t * @param  {number} loc Interpolation index (0-1)\n\t * @param  {number} min Lower value\n\t * @param  {number} max Upper value\n\t * @return {number}     Interpolated value\n\t * @example\n\t * Nexus.interp(0.5,2,4)   // returns 3\n\t * Nexus.interp(0.1,0,10)     // returns 1\n\t */\n\texports.interp = function (loc, min, max) {\n\t  return loc * (max - min) + min;\n\t};\n\n\t/**\n\t * Return a random choice from a list of arguments\n\t * @return {various} One random argument\n\t * @example\n\t * Nexus.pick(1,2,3,4)   // returns 1, 2, 3, or 4\n\t * Nexus.pick(function1,function2)   // returns either function1 or function2\n\t */\n\texports.pick = function () {\n\t  return arguments[~ ~(Math.random() * arguments.length)];\n\t};\n\n\t/**\n\t * Returns an octave multiplier for frequency values\n\t * @param  {number} num Relative octave number (e.g. -1 for one octave down, 1 for one octave up)\n\t * @return {number}     Octave multiplier\n\t * @example\n\t * Nexus.octave(-1)  // returns 0.5\n\t * Nexus.octave(0)   // returns 1\n\t * Nexus.octave(1)   // returns 2\n\t * Nexus.octave(2)   // returns 4\n\t */\n\texports.octave = function (num) {\n\t  return Math.pow(2, num);\n\t};\n\n\t/**\n\t * Random integer generator. If no second argument is given, will return random integer from 0 to bound1.\n\t * @param  {number} bound1 Minimum random value\n\t * @param  {number} bound2 Maximum random value\n\t * @return {number}        Random integer between lower and upper boundary\n\t * @example\n\t * Nexus.ri(10)    // returns random int from 0 to 10\n\t * Nexus.ri(20,2000) // returns random int from 20 to 2000\n\t */\n\texports.ri = function (bound1, bound2) {\n\t  if (!bound2) {\n\t    bound2 = bound1;\n\t    bound1 = 0;\n\t  }\n\t  var low = Math.min(bound1, bound2);\n\t  var high = Math.max(bound1, bound2);\n\t  return Math.floor(Math.random() * (high - low) + low);\n\t};\n\n\t/**\n\t * Random float number generator. If no second argument is given, will return random float from 0 to bound1.\n\t * @param  {number} bound1 Minimum random value\n\t * @param  {number} bound2 Maximum random value\n\t * @return {number}        Random float between lower and upper boundary\n\t * @example\n\t * Nexus.rf(1)    // returns random float from 0 to 1\n\t * Nexus.rf(1,2) // returns random float from 1 to 2\n\t */\n\texports.rf = function (bound1, bound2) {\n\t  if (!bound2) {\n\t    bound2 = bound1;\n\t    bound1 = 0;\n\t  }\n\t  var low = Math.min(bound1, bound2);\n\t  var high = Math.max(bound1, bound2);\n\t  return Math.random() * (high - low) + low;\n\t};\n\n\texports.cycle = function (input, min, max) {\n\t  input++;\n\t  if (input >= max) {\n\t    input = min;\n\t  }\n\t  return input;\n\t};\n\n\t/**\n\t * Average an array of numbers\n\t * @param  {Array} data Array of numbers to average\n\t * @return {number}      Average of the input data\n\t * @example\n\t * Nexus.average([0,2,4,6,8,10])   // returns 5\n\t */\n\texports.average = function (data) {\n\t  var total = 0;\n\t  for (var i = 0; i < data.length; i++) {\n\t    total += data[i];\n\t  }\n\t  return total / data.length;\n\t};\n\n\t/**\n\t * Get the distance from one (x,y) point to another (x,y) point\n\t * @param  {number} x1 x of first point\n\t * @param  {number} y1 y of first point\n\t * @param  {number} x2 x of second point\n\t * @param  {number} y2 y of second poiny\n\t * @return {number}    Distance\n\t * @example\n\t * Nexus.distance(0,0,3,4)   // returns 5\n\t */\n\texports.distance = function (x1, y1, x2, y2) {\n\t  var a = x1 - x2;\n\t  var b = y1 - y2;\n\t  return Math.sqrt(a * a + b * b);\n\t};\n\n\texports.gainToDB = function (gain) {\n\t  return 20 * Math.log10(gain);\n\t};\n\n\t/**\n\t * Flip a coin, returning either 0 or 1 according to a probability\n\t * @param  {number} [odds=0.5] Likelihood of returning 1\n\t * @return {number}            1 or 0\n\t * @example\n\t * Nexus.coin(0.1)   // returns 1 (10% of the time) or 0 (90% of the time)\n\t */\n\texports.coin = function () {\n\t  var odds = arguments[0] === undefined ? 0.5 : arguments[0];\n\n\t  if (exports.rf(0, 1) < odds) {\n\t    return 1;\n\t  } else {\n\t    return 0;\n\t  }\n\t};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar svg = __webpack_require__(4);\n\tvar dom = __webpack_require__(7);\n\tvar util = __webpack_require__(8);\n\tvar touch = __webpack_require__(9);\n\tvar EventEmitter = __webpack_require__(10);\n\n\t/**\n\tInterface\n\t*/\n\n\tvar Interface = (function (_EventEmitter) {\n\t  function Interface(args, options, defaults) {\n\t    _classCallCheck(this, Interface);\n\n\t    _get(Object.getPrototypeOf(Interface.prototype), \"constructor\", this).call(this);\n\t    this.type = this.constructor.name;\n\t    this.settings = this.parseSettings(args, options, defaults);\n\t    this.mouse = {};\n\t    this.wait = false;\n\t    this.colors = {};\n\t    var defaultColors = Nexus.colors; // jshint ignore:line\n\t    this.colors.accent = defaultColors.accent;\n\t    this.colors.fill = defaultColors.fill;\n\t    this.colors.light = defaultColors.light;\n\t    this.colors.dark = defaultColors.dark;\n\t    this.colors.mediumLight = defaultColors.mediumLight;\n\t    this.colors.mediumDark = defaultColors.mediumDark;\n\t  }\n\n\t  _inherits(Interface, _EventEmitter);\n\n\t  _createClass(Interface, {\n\t    parseSettings: {\n\t      value: function parseSettings(args, options, defaults) {\n\n\t        options.unshift(\"target\");\n\t        defaults.defaultSize = defaults.size.splice(0, 2);\n\t        defaults.size = false;\n\n\t        var settings = {\n\t          target: document.body,\n\t          colors: {}, // should inherit from a colors module,\n\t          snapWithParent: true,\n\t          event: function event() {},\n\t          component: false\n\t        };\n\n\t        for (var key in defaults) {\n\t          settings[key] = defaults[key];\n\t        }\n\n\t        for (var i = 0; i < args.length; i++) {\n\t          // grabs the next argument\n\t          var setting = args[i];\n\t          // if it's an object, it must be the settings object\n\t          if (util.isObject(setting)) {\n\t            for (var key in setting) {\n\t              settings[key] = setting[key];\n\t            }\n\t            // if it's a function, it must be the event setting\n\t          } else if (typeof setting === \"function\") {\n\t            settings.event = setting;\n\t            // otherwise, consider it one of the widget's custom options\n\t          } else if (options.length >= 1) {\n\t            // grab the first option -- i.e. 'target'\n\t            var key = options.splice(0, 1)[0];\n\t            settings[key] = setting;\n\t          }\n\t        }\n\n\t        /*  handle common settings  */\n\n\t        // target\n\t        this.parent = dom.parseElement(settings.target);\n\n\t        // nexus-ui attribute\n\t        if (this.parent && this.parent instanceof HTMLElement && !settings.component) {\n\t          if (!this.parent.hasAttribute(\"nexus-ui\")) {\n\t            this.parent.setAttribute(\"nexus-ui\", \"\");\n\t          }\n\t        }\n\n\t        // size\n\t        if (settings.size && Array.isArray(settings.size) && settings.snapWithParent) {\n\t          this.width = settings.size[0];\n\t          this.height = settings.size[1];\n\t          this.parent.style.width = this.width + \"px\";\n\t          this.parent.style.height = this.height + \"px\";\n\t        } else if (settings.snapWithParent) {\n\t          this.width = parseFloat(this.parent.style.width);\n\t          this.height = parseFloat(this.parent.style.height);\n\n\t          if (!this.width) {\n\t            this.width = parseFloat(this.parent.width);\n\t          }\n\t          if (!this.height) {\n\t            this.height = parseFloat(this.parent.height);\n\t          }\n\n\t          if (this.parent.style.width) {\n\t            if (this.parent.style.width.indexOf(\"%\") > 0) {\n\t              this.width = parseFloat(window.getComputedStyle(this.parent, null).getPropertyValue(\"width\").replace(\"px\", \"\"));\n\t            }\n\t          }\n\t          if (this.parent.width) {\n\t            if (this.parent.width.indexOf(\"%\") > 0) {\n\t              this.width = parseFloat(window.getComputedStyle(this.parent, null).getPropertyValue(\"width\").replace(\"px\", \"\"));\n\t            }\n\t          }\n\n\t          if (this.parent.style.height) {\n\t            if (this.parent.style.height.indexOf(\"%\") > 0) {\n\t              this.height = parseFloat(window.getComputedStyle(this.parent, null).getPropertyValue(\"height\").replace(\"px\", \"\"));\n\t            }\n\t          }\n\t          if (this.parent.height) {\n\t            if (this.parent.height.indexOf(\"%\") > 0) {\n\t              this.height = parseFloat(window.getComputedStyle(this.parent, null).getPropertyValue(\"height\").replace(\"px\", \"\"));\n\t            }\n\t          }\n\n\t          /*  if (this.parent.style.height.indexOf(\"%\")>0 || this.parent.height.indexOf(\"%\")>0) {\n\t              this.height = parseFloat(window.getComputedStyle(this.parent, null).getPropertyValue('height').replace('px',''));\n\t            } */\n\n\t          //    this.width = parseFloat(window.getComputedStyle(this.parent, null).getPropertyValue('width').replace('px',''));\n\t          //    this.height = parseFloat(window.getComputedStyle(this.parent, null).getPropertyValue('height').replace('px',''));\n\t          if (!this.width) {\n\t            this.width = settings.defaultSize[0];\n\t            this.parent.style.width = this.width + \"px\";\n\t          }\n\t          if (!this.height) {\n\t            this.height = settings.defaultSize[1];\n\t            this.parent.style.height = this.height + \"px\";\n\t          }\n\t        } else {\n\t          settings.size = settings.defaultSize;\n\t          this.width = settings.size[0];\n\t          this.height = settings.size[1];\n\t        }\n\n\t        // event\n\t        if (settings.event) {\n\t          this.event = this.on(\"change\", settings.event);\n\t        } else {\n\t          this.event = false;\n\t        }\n\n\t        return settings;\n\t      }\n\t    },\n\t    init: {\n\t      value: function init() {\n\t        this.buildFrame();\n\t        this.buildInterface();\n\t        this.sizeInterface();\n\t        this.attachListeners();\n\t        this.colorInterface();\n\t        this.finalTouches();\n\t      }\n\t    },\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = svg.create(\"svg\");\n\t        this.element.setAttribute(\"width\", this.width);\n\t        this.element.setAttribute(\"height\", this.height);\n\t        this.parent.appendChild(this.element);\n\t      }\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {}\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {}\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {}\n\t    },\n\t    attachListeners: {\n\t      value: function attachListeners() {\n\t        var _this = this;\n\n\t        this.interactionTarget = this.interactionTarget || this.element;\n\n\t        // Setup interaction\n\t        if (touch.exists) {\n\t          this.interactionTarget.addEventListener(\"touchstart\", function (evt) {\n\t            return _this.preTouch(evt);\n\t          });\n\t          this.interactionTarget.addEventListener(\"touchmove\", function (evt) {\n\t            return _this.preTouchMove(evt);\n\t          });\n\t          this.interactionTarget.addEventListener(\"touchend\", function (evt) {\n\t            return _this.preTouchRelease(evt);\n\t          });\n\t        }\n\t        this.boundPreMove = function (evt) {\n\t          return _this.preMove(evt);\n\t        };\n\t        this.boundPreRelease = function (evt) {\n\t          return _this.preRelease(evt);\n\t        };\n\t        this.interactionTarget.addEventListener(\"mousedown\", function (evt) {\n\t          return _this.preClick(evt);\n\t        });\n\t      }\n\t    },\n\t    finalTouches: {\n\t      value: function finalTouches() {\n\t        this.element.style.cursor = \"pointer\";\n\t      }\n\t    },\n\t    preClick: {\n\t      value: function preClick(e) {\n\t        // 10000 getComputedStyle calls takes 100 ms.\n\t        // .:. one takes about .01ms\n\t        if (this.element instanceof HTMLElement) {\n\t          this.width = window.getComputedStyle(this.element, null).getPropertyValue(\"width\").replace(\"px\", \"\");\n\t        }\n\t        // 10000 getComputedStyle calls takes 40 ms.\n\t        // .:. one takes about .004ms\n\t        this.offset = dom.findPosition(this.element);\n\t        this.mouse = dom.locateMouse(e, this.offset);\n\t        this.clicked = true;\n\t        this.click();\n\t        this.moveEvent = document.addEventListener(\"mousemove\", this.boundPreMove);\n\t        this.releaseEvent = document.addEventListener(\"mouseup\", this.boundPreRelease);\n\t        e.preventDefault();\n\t        e.stopPropagation();\n\t      }\n\t    },\n\t    preMove: {\n\t      value: function preMove(e) {\n\t        var _this = this;\n\n\t        if (!this.wait) {\n\t          this.mouse = dom.locateMouse(e, this.offset);\n\t          this.move();\n\t          this.wait = true;\n\t          setTimeout(function () {\n\t            _this.wait = false;\n\t          }, 25);\n\t        }\n\t        e.preventDefault();\n\t        e.stopPropagation();\n\t      }\n\t    },\n\t    preRelease: {\n\t      value: function preRelease(e) {\n\t        this.mouse = dom.locateMouse(e, this.offset);\n\t        this.clicked = false;\n\t        this.release();\n\t        document.removeEventListener(\"mousemove\", this.boundPreMove);\n\t        document.removeEventListener(\"mouseup\", this.boundPreRelease);\n\t        e.preventDefault();\n\t        e.stopPropagation();\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {}\n\t    },\n\t    move: {\n\t      value: function move() {}\n\t    },\n\t    release: {\n\t      value: function release() {}\n\t    },\n\t    preTouch: {\n\n\t      /* touch */\n\n\t      value: function preTouch(e) {\n\t        if (this.element instanceof HTMLElement) {\n\t          this.width = window.getComputedStyle(this.element, null).getPropertyValue(\"width\").replace(\"px\", \"\");\n\t        }\n\t        this.offset = dom.findPosition(this.element);\n\t        this.mouse = dom.locateTouch(e, this.offset);\n\t        this.clicked = true;\n\t        this.touch(e);\n\t        e.preventDefault();\n\t        e.stopPropagation();\n\t      }\n\t    },\n\t    preTouchMove: {\n\t      value: function preTouchMove(e) {\n\t        if (this.clicked) {\n\t          this.mouse = dom.locateTouch(e, this.offset);\n\t          this.touchMove();\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        }\n\t      }\n\t    },\n\t    preTouchRelease: {\n\t      value: function preTouchRelease(e) {\n\t        this.mouse = dom.locateTouch(e, this.offset);\n\t        this.clicked = false;\n\t        this.touchRelease();\n\t        e.preventDefault();\n\t        e.stopPropagation();\n\t      }\n\t    },\n\t    touch: {\n\t      value: function touch() {\n\t        this.click();\n\t      }\n\t    },\n\t    touchMove: {\n\t      value: function touchMove() {\n\t        this.move();\n\t      }\n\t    },\n\t    touchRelease: {\n\t      value: function touchRelease() {\n\t        this.release();\n\t      }\n\t    },\n\t    resize: {\n\n\t      /**\n\t      * Resize the interface\n\t      * @param width {number} New width in pixels\n\t      * @param height {number} New height in pixels\n\t      *\n\t      * @example\n\t      * button.resize(100,100);\n\t      */\n\n\t      value: function resize(width, height) {\n\t        this.width = width;\n\t        this.height = height;\n\t        this.parent.style.width = this.width + \"px\";\n\t        this.parent.style.height = this.height + \"px\";\n\t        this.element.setAttribute(\"width\", this.width);\n\t        this.element.setAttribute(\"height\", this.height);\n\t        this.sizeInterface();\n\t      }\n\t    },\n\t    empty: {\n\t      value: function empty() {\n\t        while (this.element.lastChild) {\n\t          this.element.removeChild(this.element.lastChild);\n\t        }\n\t      }\n\t    },\n\t    destroy: {\n\n\t      /**\n\t      * Remove the interface from the page and cancel its event listener(s).\n\t      *\n\t      * @example\n\t      * button.destroy());\n\t      */\n\n\t      value: function destroy() {\n\t        this.empty();\n\t        this.parent.removeChild(this.element);\n\t        this.removeAllListeners();\n\t        if (this.instrument) {\n\t          delete this.instrument[this.id];\n\t        }\n\t        this.customDestroy();\n\t      }\n\t    },\n\t    customDestroy: {\n\t      value: function customDestroy() {}\n\t    },\n\t    colorize: {\n\t      value: function colorize(type, color) {\n\t        this.colors[type] = color;\n\t        this.colorInterface();\n\t      }\n\t    }\n\t  });\n\n\t  return Interface;\n\t})(EventEmitter);\n\n\tmodule.exports = Interface;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\n\texports.findPosition = function (el) {\n\t  var viewportOffset = el.getBoundingClientRect();\n\t  var top = viewportOffset.top + window.scrollY;\n\t  var left = viewportOffset.left + window.scrollX;\n\t  return { top: top, left: left };\n\t};\n\n\texports.parseElement = function (parent) {\n\t  if (typeof parent === \"string\") {\n\t    parent = document.getElementById(parent.replace(\"#\", \"\"));\n\t  }\n\n\t  if (parent instanceof HTMLElement || parent instanceof SVGElement) {\n\t    return parent;\n\t  } else {\n\t    return \"No valid parent argument\";\n\t  }\n\t};\n\n\texports.locateMouse = function (e, offset) {\n\t  return {\n\t    x: e.pageX - offset.left,\n\t    y: e.pageY - offset.top\n\t  };\n\t};\n\n\texports.locateTouch = function (e, offset) {\n\t  return {\n\t    x: e.targetTouches.length ? e.targetTouches[0].pageX - offset.left : false,\n\t    y: e.targetTouches.length ? e.targetTouches[0].pageY - offset.top : false\n\t  };\n\t};\n\n\texports.SmartCanvas = function (parent) {\n\t  var _this = this;\n\n\t  this.element = document.createElement(\"canvas\");\n\t  this.context = this.element.getContext(\"2d\");\n\t  parent.appendChild(this.element);\n\n\t  this.resize = function (w, h) {\n\t    _this.element.width = w * 2;\n\t    _this.element.height = h * 2;\n\t    _this.element.style.width = w + \"px\";\n\t    _this.element.style.height = h + \"px\";\n\t  };\n\t};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\n\texports.isObject = function (obj) {\n\t  if (typeof obj === \"object\" && !Array.isArray(obj) && obj !== null && obj instanceof SVGElement === false && obj instanceof HTMLElement === false) {\n\t    return true;\n\t  } else {\n\t    return false;\n\t  }\n\t};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\n\texports.exists = \"ontouchstart\" in document.documentElement;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n\t// Copyright Joyent, Inc. and other Node contributors.\n\t//\n\t// Permission is hereby granted, free of charge, to any person obtaining a\n\t// copy of this software and associated documentation files (the\n\t// \"Software\"), to deal in the Software without restriction, including\n\t// without limitation the rights to use, copy, modify, merge, publish,\n\t// distribute, sublicense, and/or sell copies of the Software, and to permit\n\t// persons to whom the Software is furnished to do so, subject to the\n\t// following conditions:\n\t//\n\t// The above copyright notice and this permission notice shall be included\n\t// in all copies or substantial portions of the Software.\n\t//\n\t// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\t// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\t// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n\t// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n\t// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n\t// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n\t// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\tfunction EventEmitter() {\n\t  this._events = this._events || {};\n\t  this._maxListeners = this._maxListeners || undefined;\n\t}\n\tmodule.exports = EventEmitter;\n\n\t// Backwards-compat with node 0.10.x\n\tEventEmitter.EventEmitter = EventEmitter;\n\n\tEventEmitter.prototype._events = undefined;\n\tEventEmitter.prototype._maxListeners = undefined;\n\n\t// By default EventEmitters will print a warning if more than 10 listeners are\n\t// added to it. This is a useful default which helps finding memory leaks.\n\tEventEmitter.defaultMaxListeners = 10;\n\n\t// Obviously not all Emitters should be limited to 10. This function allows\n\t// that to be increased. Set to zero for unlimited.\n\tEventEmitter.prototype.setMaxListeners = function(n) {\n\t  if (!isNumber(n) || n < 0 || isNaN(n))\n\t    throw TypeError('n must be a positive number');\n\t  this._maxListeners = n;\n\t  return this;\n\t};\n\n\tEventEmitter.prototype.emit = function(type) {\n\t  var er, handler, len, args, i, listeners;\n\n\t  if (!this._events)\n\t    this._events = {};\n\n\t  // If there is no 'error' event listener then throw.\n\t  if (type === 'error') {\n\t    if (!this._events.error ||\n\t        (isObject(this._events.error) && !this._events.error.length)) {\n\t      er = arguments[1];\n\t      if (er instanceof Error) {\n\t        throw er; // Unhandled 'error' event\n\t      } else {\n\t        // At least give some kind of context to the user\n\t        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n\t        err.context = er;\n\t        throw err;\n\t      }\n\t    }\n\t  }\n\n\t  handler = this._events[type];\n\n\t  if (isUndefined(handler))\n\t    return false;\n\n\t  if (isFunction(handler)) {\n\t    switch (arguments.length) {\n\t      // fast cases\n\t      case 1:\n\t        handler.call(this);\n\t        break;\n\t      case 2:\n\t        handler.call(this, arguments[1]);\n\t        break;\n\t      case 3:\n\t        handler.call(this, arguments[1], arguments[2]);\n\t        break;\n\t      // slower\n\t      default:\n\t        args = Array.prototype.slice.call(arguments, 1);\n\t        handler.apply(this, args);\n\t    }\n\t  } else if (isObject(handler)) {\n\t    args = Array.prototype.slice.call(arguments, 1);\n\t    listeners = handler.slice();\n\t    len = listeners.length;\n\t    for (i = 0; i < len; i++)\n\t      listeners[i].apply(this, args);\n\t  }\n\n\t  return true;\n\t};\n\n\tEventEmitter.prototype.addListener = function(type, listener) {\n\t  var m;\n\n\t  if (!isFunction(listener))\n\t    throw TypeError('listener must be a function');\n\n\t  if (!this._events)\n\t    this._events = {};\n\n\t  // To avoid recursion in the case that type === \"newListener\"! Before\n\t  // adding it to the listeners, first emit \"newListener\".\n\t  if (this._events.newListener)\n\t    this.emit('newListener', type,\n\t              isFunction(listener.listener) ?\n\t              listener.listener : listener);\n\n\t  if (!this._events[type])\n\t    // Optimize the case of one listener. Don't need the extra array object.\n\t    this._events[type] = listener;\n\t  else if (isObject(this._events[type]))\n\t    // If we've already got an array, just append.\n\t    this._events[type].push(listener);\n\t  else\n\t    // Adding the second element, need to change to array.\n\t    this._events[type] = [this._events[type], listener];\n\n\t  // Check for listener leak\n\t  if (isObject(this._events[type]) && !this._events[type].warned) {\n\t    if (!isUndefined(this._maxListeners)) {\n\t      m = this._maxListeners;\n\t    } else {\n\t      m = EventEmitter.defaultMaxListeners;\n\t    }\n\n\t    if (m && m > 0 && this._events[type].length > m) {\n\t      this._events[type].warned = true;\n\t      console.error('(node) warning: possible EventEmitter memory ' +\n\t                    'leak detected. %d listeners added. ' +\n\t                    'Use emitter.setMaxListeners() to increase limit.',\n\t                    this._events[type].length);\n\t      if (typeof console.trace === 'function') {\n\t        // not supported in IE 10\n\t        console.trace();\n\t      }\n\t    }\n\t  }\n\n\t  return this;\n\t};\n\n\tEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\n\tEventEmitter.prototype.once = function(type, listener) {\n\t  if (!isFunction(listener))\n\t    throw TypeError('listener must be a function');\n\n\t  var fired = false;\n\n\t  function g() {\n\t    this.removeListener(type, g);\n\n\t    if (!fired) {\n\t      fired = true;\n\t      listener.apply(this, arguments);\n\t    }\n\t  }\n\n\t  g.listener = listener;\n\t  this.on(type, g);\n\n\t  return this;\n\t};\n\n\t// emits a 'removeListener' event iff the listener was removed\n\tEventEmitter.prototype.removeListener = function(type, listener) {\n\t  var list, position, length, i;\n\n\t  if (!isFunction(listener))\n\t    throw TypeError('listener must be a function');\n\n\t  if (!this._events || !this._events[type])\n\t    return this;\n\n\t  list = this._events[type];\n\t  length = list.length;\n\t  position = -1;\n\n\t  if (list === listener ||\n\t      (isFunction(list.listener) && list.listener === listener)) {\n\t    delete this._events[type];\n\t    if (this._events.removeListener)\n\t      this.emit('removeListener', type, listener);\n\n\t  } else if (isObject(list)) {\n\t    for (i = length; i-- > 0;) {\n\t      if (list[i] === listener ||\n\t          (list[i].listener && list[i].listener === listener)) {\n\t        position = i;\n\t        break;\n\t      }\n\t    }\n\n\t    if (position < 0)\n\t      return this;\n\n\t    if (list.length === 1) {\n\t      list.length = 0;\n\t      delete this._events[type];\n\t    } else {\n\t      list.splice(position, 1);\n\t    }\n\n\t    if (this._events.removeListener)\n\t      this.emit('removeListener', type, listener);\n\t  }\n\n\t  return this;\n\t};\n\n\tEventEmitter.prototype.removeAllListeners = function(type) {\n\t  var key, listeners;\n\n\t  if (!this._events)\n\t    return this;\n\n\t  // not listening for removeListener, no need to emit\n\t  if (!this._events.removeListener) {\n\t    if (arguments.length === 0)\n\t      this._events = {};\n\t    else if (this._events[type])\n\t      delete this._events[type];\n\t    return this;\n\t  }\n\n\t  // emit removeListener for all listeners on all events\n\t  if (arguments.length === 0) {\n\t    for (key in this._events) {\n\t      if (key === 'removeListener') continue;\n\t      this.removeAllListeners(key);\n\t    }\n\t    this.removeAllListeners('removeListener');\n\t    this._events = {};\n\t    return this;\n\t  }\n\n\t  listeners = this._events[type];\n\n\t  if (isFunction(listeners)) {\n\t    this.removeListener(type, listeners);\n\t  } else if (listeners) {\n\t    // LIFO order\n\t    while (listeners.length)\n\t      this.removeListener(type, listeners[listeners.length - 1]);\n\t  }\n\t  delete this._events[type];\n\n\t  return this;\n\t};\n\n\tEventEmitter.prototype.listeners = function(type) {\n\t  var ret;\n\t  if (!this._events || !this._events[type])\n\t    ret = [];\n\t  else if (isFunction(this._events[type]))\n\t    ret = [this._events[type]];\n\t  else\n\t    ret = this._events[type].slice();\n\t  return ret;\n\t};\n\n\tEventEmitter.prototype.listenerCount = function(type) {\n\t  if (this._events) {\n\t    var evlistener = this._events[type];\n\n\t    if (isFunction(evlistener))\n\t      return 1;\n\t    else if (evlistener)\n\t      return evlistener.length;\n\t  }\n\t  return 0;\n\t};\n\n\tEventEmitter.listenerCount = function(emitter, type) {\n\t  return emitter.listenerCount(type);\n\t};\n\n\tfunction isFunction(arg) {\n\t  return typeof arg === 'function';\n\t}\n\n\tfunction isNumber(arg) {\n\t  return typeof arg === 'number';\n\t}\n\n\tfunction isObject(arg) {\n\t  return typeof arg === 'object' && arg !== null;\n\t}\n\n\tfunction isUndefined(arg) {\n\t  return arg === void 0;\n\t}\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar math = __webpack_require__(5);\n\n\t/**\n\t  Creates a steppable value with minimum, maximum, and step size. This is used in many interfaces to constrict their values to certain ranges.\n\t  @param {number} [min=0] minimum\n\t  @param {number} [max=1] maximum\n\t  @param {number} [step=0]\n\t  @param {number} [value=0] initial value\n\t  @returns {Object} Step\n\t*/\n\n\tvar Step = (function () {\n\t  function Step() {\n\t    var min = arguments[0] === undefined ? 0 : arguments[0];\n\t    var max = arguments[1] === undefined ? 1 : arguments[1];\n\t    var step = arguments[2] === undefined ? 0 : arguments[2];\n\t    var value = arguments[3] === undefined ? 0 : arguments[3];\n\n\t    _classCallCheck(this, Step);\n\n\t    //Object.assign(this,{min,max,step});\n\t    //Cannot use Object.assign because not supported in Safari.\n\t    //I would expect for Babel to take care of this but it is not.\n\t    this.min = min;\n\t    this.max = max;\n\t    this.step = step;\n\t    this.value = value;\n\t    this.changed = false;\n\t    this.oldValue = false;\n\t    this.update(this.value);\n\t  }\n\n\t  _createClass(Step, {\n\t    update: {\n\n\t      /**\n\t        Update with a new value. The value will be auto-adjusted to fit the min/max/step.\n\t        @param {number} value\n\t      */\n\n\t      value: function update(value) {\n\t        if (this.step) {\n\t          // this.value = math.clip(Math.round(value / (this.step)) * this.step, this.min,this.max);\n\t          this.value = math.clip(Math.round((value - this.min) / this.step) * this.step + this.min, this.min, this.max);\n\t        } else {\n\t          this.value = math.clip(value, this.min, this.max);\n\t        }\n\t        if (this.oldValue !== this.value) {\n\t          this.oldValue = this.value;\n\t          this.changed = true;\n\t        } else {\n\t          this.changed = false;\n\t        }\n\t        return this.value;\n\t      }\n\t    },\n\t    updateNormal: {\n\n\t      /**\n\t        Update with a normalized value 0-1.\n\t        @param {number} value\n\t      */\n\n\t      value: function updateNormal(value) {\n\t        this.value = math.scale(value, 0, 1, this.min, this.max);\n\t        return this.update(this.value);\n\t      }\n\t    },\n\t    normalized: {\n\n\t      /**\n\t        Get a normalized version of this.value . Not settable.\n\t      */\n\n\t      get: function () {\n\t        return math.normalize(this.value, this.min, this.max);\n\t      }\n\t    }\n\t  });\n\n\t  return Step;\n\t})();\n\n\tmodule.exports = Step;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\"use strict\";\n\n\tvar math = _interopRequire(__webpack_require__(5));\n\n\tvar ToggleModel = _interopRequire(__webpack_require__(13));\n\n\t/*\n\thow to use :\n\n\tdial.interaction = new Handle('radial','relative',this.width,this.height);\n\t// dial.interaction.mode = 'relative'\n\t// dial.interaction.direction = 'radial'\n\n\ton click:\n\tdial.interaction.anchor = this.mouse;\n\n\ton move:\n\tdial.interaction.update(this.mouse);\n\n\tconsole.log( dial.interaction.value ); should be a normalized value.\n\n\t*/\n\n\t/*\n\t  absolute/relative are property: mode\n\t  radial/vertical/horizontal/2d are property: direction\n\n\t  plan :\n\n\t  if relative --\n\t  NO on click, get value offset between current value and click value.\n\t  NO on move, use click value - offset\n\t  INSTEAD\n\t  use delta -- bc vertical motion on dial is impossible otherwise\n\t  also allow to set sensitivity\n\n\t*/\n\n\tvar Handle = exports.Handle = (function () {\n\t  function Handle() {\n\t    var mode = arguments[0] === undefined ? \"absolute\" : arguments[0];\n\t    var direction = arguments[1] === undefined ? \"vertical\" : arguments[1];\n\t    var xbound = arguments[2] === undefined ? [0, 100] : arguments[2];\n\t    var ybound = arguments[3] === undefined ? [0, 100] : arguments[3];\n\n\t    _classCallCheck(this, Handle);\n\n\t    this.mode = mode;\n\t    this.direction = direction;\n\t    this.previous = 0;\n\t    this.value = 0;\n\t    this.sensitivity = 1;\n\t    this.resize(xbound, ybound);\n\t  }\n\n\t  _createClass(Handle, {\n\t    resize: {\n\t      value: function resize(xbound, ybound) {\n\t        this.boundary = {\n\t          min: {\n\t            x: xbound[0],\n\t            y: ybound[0]\n\t          },\n\t          max: {\n\t            x: xbound[1],\n\t            y: ybound[1]\n\t          },\n\t          center: {\n\t            x: (xbound[1] - xbound[0]) / 2 + xbound[0],\n\t            y: (ybound[1] - ybound[0]) / 2 + ybound[0]\n\t          }\n\t        };\n\t      }\n\t    },\n\t    anchor: {\n\t      set: function (mouse) {\n\t        this._anchor = this.convertPositionToValue(mouse);\n\t      },\n\t      get: function () {\n\t        return this._anchor;\n\t      }\n\t    },\n\t    update: {\n\t      value: function update(mouse) {\n\t        if (this.mode === \"relative\") {\n\t          var increment = this.convertPositionToValue(mouse) - this.anchor;\n\t          if (Math.abs(increment) > 0.5) {\n\t            increment = 0;\n\t          }\n\t          this.anchor = mouse;\n\t          this.value = this.value + increment * this.sensitivity;\n\t        } else {\n\t          this.value = this.convertPositionToValue(mouse);\n\t        }\n\t        this.value = math.clip(this.value, 0, 1);\n\t      }\n\t    },\n\t    convertPositionToValue: {\n\t      value: function convertPositionToValue(current) {\n\t        switch (this.direction) {\n\t          case \"radial\":\n\t            var position = math.toPolar(current.x - this.boundary.center.x, current.y - this.boundary.center.y);\n\t            position = position.angle / (Math.PI * 2);\n\t            position = (position - 0.25 + 1) % 1;\n\t            return position;\n\t          case \"vertical\":\n\t            return math.scale(current.y, this.boundary.min.y, this.boundary.max.y, 0, 1);\n\t          case \"horizontal\":\n\t            return math.scale(current.x, this.boundary.min.x, this.boundary.max.x, 0, 1);\n\t        }\n\t      }\n\t    }\n\t  });\n\n\t  return Handle;\n\t})();\n\n\tvar Button = exports.Button = (function () {\n\t  function Button() {\n\t    var mode = arguments[0] === undefined ? \"button\" : arguments[0];\n\n\t    _classCallCheck(this, Button);\n\n\t    this.mode = mode;\n\t    this.state = new ToggleModel();\n\t    this.paintbrush = false;\n\t  }\n\n\t  _createClass(Button, {\n\t    click: {\n\t      value: function click() {\n\t        switch (this.mode) {\n\t          case \"impulse\":\n\t            this.state.on();\n\t            if (this.timeout) {\n\t              clearTimeout(this.timeout);\n\t            }\n\t            this.timeout = setTimeout(this.state.off.bind(this), 30);\n\t            this.emit(\"change\", this.state);\n\t            break;\n\t          case \"button\":\n\t            this.turnOn();\n\t            this.emit(\"change\", this.state);\n\t            break;\n\t          case \"aftertouch\":\n\t            this.position = {\n\t              x: math.clip(this.mouse.x / this.width, 0, 1),\n\t              y: math.clip(1 - this.mouse.y / this.height, 0, 1)\n\t            };\n\t            this.turnOn();\n\t            this.emit(\"change\", {\n\t              state: this.state,\n\t              x: this.position.x,\n\t              y: this.position.y });\n\t            break;\n\t          case \"toggle\":\n\t            this.flip();\n\t            this.emit(\"change\", this.state);\n\t            break;\n\t        }\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        if (this.mode === \"aftertouch\") {\n\t          this.position = {\n\t            x: math.clip(this.mouse.x / this.width, 0, 1),\n\t            y: math.clip(1 - this.mouse.y / this.height, 0, 1)\n\t          };\n\t          this.emit(\"change\", {\n\t            state: this.state,\n\t            x: this.position.x,\n\t            y: this.position.y });\n\t          this.render();\n\t        }\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {\n\t        switch (this.mode) {\n\t          case \"button\":\n\t            this.turnOff();\n\t            this.emit(\"change\", this.state);\n\t            break;\n\t          case \"aftertouch\":\n\t            this.turnOff();\n\t            this.position = {\n\t              x: this.mouse.x / this.width,\n\t              y: 1 - this.mouse.y / this.height\n\t            };\n\t            this.emit(\"change\", {\n\t              state: this.state,\n\t              x: this.position.x,\n\t              y: this.position.y });\n\t            break;\n\t        }\n\t      }\n\t    }\n\t  });\n\n\t  return Button;\n\t})();\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar Toggle = (function () {\n\t  function Toggle(state) {\n\t    _classCallCheck(this, Toggle);\n\n\t    this.state = state || false;\n\t  }\n\n\t  _createClass(Toggle, {\n\t    flip: {\n\t      value: function flip(state) {\n\t        if (state || state === false) {\n\t          this.state = state;\n\t        } else {\n\t          this.state = !this.state;\n\t        }\n\t      }\n\t    },\n\t    on: {\n\t      value: function on() {\n\t        this.state = true;\n\t      }\n\t    },\n\t    off: {\n\t      value: function off() {\n\t        this.state = false;\n\t      }\n\t    }\n\t  });\n\n\t  return Toggle;\n\t})();\n\n\tmodule.exports = Toggle;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar svg = __webpack_require__(4);\n\tvar Interface = __webpack_require__(6);\n\tvar Step = __webpack_require__(11);\n\n\tvar Interaction = _interopRequireWildcard(__webpack_require__(12));\n\n\t/**\n\t* Slider\n\t*\n\t* @description Horizontal or vertical slider with settable interaction modes.\n\t*\n\t* @demo <span nexus-ui=\"slider\" step=0.2></span>\n\t*\n\t* @example\n\t* var slider = new Nexus.Slider('#target')\n\t*\n\t* @example\n\t* var slider = new Nexus.Slider('#target',{\n\t*     'size': [120,20],\n\t*     'mode': 'relative',  // 'relative' or 'absolute'\n\t*     'min': 0,\n\t*     'max': 1,\n\t*     'step': 0,\n\t*     'value': 0\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires when the interface's value changes. <br>\n\t* Event data: <i>number</i> The number value of the interface.\n\t*\n\t* @outputexample\n\t* slider.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*\n\t*/\n\n\tvar Slider = (function (_Interface) {\n\t  function Slider() {\n\t    _classCallCheck(this, Slider);\n\n\t    var options = [\"min\", \"max\", \"value\"];\n\n\t    var defaults = {\n\t      size: [120, 20],\n\t      mode: \"relative\", // 'relative' or 'absolute'\n\t      min: 0,\n\t      max: 1,\n\t      step: 0,\n\t      value: 0\n\t    };\n\n\t    _get(Object.getPrototypeOf(Slider.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this.orientation = \"vertical\"; // This will change automatically to 'horizontal'if the interface is wider than it is tall.\n\n\t    this._value = new Step(this.settings.min, this.settings.max, this.settings.step, this.settings.value);\n\n\t    this.position = new Interaction.Handle(this.settings.mode, this.orientation, [0, this.width], [this.height, 0]);\n\t    this.position.value = this._value.normalized;\n\n\t    this.init();\n\n\t    this.position.direction = this.orientation;\n\n\t    this.emit(\"change\", this.value);\n\t  }\n\n\t  _inherits(Slider, _Interface);\n\n\t  _createClass(Slider, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\n\t        this.bar = svg.create(\"rect\");\n\t        this.fillbar = svg.create(\"rect\");\n\t        this.knob = svg.create(\"circle\");\n\n\t        this.element.appendChild(this.bar);\n\t        this.element.appendChild(this.fillbar);\n\t        this.element.appendChild(this.knob);\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        if (this.width < this.height) {\n\t          this.orientation = \"vertical\";\n\t        } else {\n\t          this.orientation = \"horizontal\";\n\t        }\n\n\t        if (this.position) {\n\t          this.position.resize([0, this.width], [this.height, 0]);\n\t        }\n\n\t        var x = undefined,\n\t            y = undefined,\n\t            w = undefined,\n\t            h = undefined,\n\t            barOffset = undefined,\n\t            cornerRadius = undefined;\n\t        this.knobData = {\n\t          level: 0,\n\t          r: 0\n\t        };\n\n\t        if (this.orientation === \"vertical\") {\n\t          this.thickness = this.width / 2;\n\t          x = this.width / 2;\n\t          y = 0;\n\t          w = this.thickness;\n\t          h = this.height;\n\t          this.knobData.r = this.thickness * 0.8;\n\t          this.knobData.level = h - this.knobData.r - this.normalized * (h - this.knobData.r * 2);\n\t          barOffset = \"translate(\" + this.thickness * -1 / 2 + \",0)\";\n\t          cornerRadius = w / 2;\n\t        } else {\n\t          this.thickness = this.height / 2;\n\t          x = 0;\n\t          y = this.height / 2;\n\t          w = this.width;\n\t          h = this.thickness;\n\t          this.knobData.r = this.thickness * 0.8;\n\t          this.knobData.level = this.normalized * (w - this.knobData.r * 2) + this.knobData.r;\n\t          barOffset = \"translate(0,\" + this.thickness * -1 / 2 + \")\";\n\t          cornerRadius = h / 2;\n\t        }\n\n\t        this.bar.setAttribute(\"x\", x);\n\t        this.bar.setAttribute(\"y\", y);\n\t        this.bar.setAttribute(\"transform\", barOffset);\n\t        this.bar.setAttribute(\"rx\", cornerRadius); // corner radius\n\t        this.bar.setAttribute(\"ry\", cornerRadius);\n\t        this.bar.setAttribute(\"width\", w);\n\t        this.bar.setAttribute(\"height\", h);\n\n\t        if (this.orientation === \"vertical\") {\n\t          this.fillbar.setAttribute(\"x\", x);\n\t          this.fillbar.setAttribute(\"y\", this.knobData.level);\n\t          this.fillbar.setAttribute(\"width\", w);\n\t          this.fillbar.setAttribute(\"height\", h - this.knobData.level);\n\t        } else {\n\t          this.fillbar.setAttribute(\"x\", 0);\n\t          this.fillbar.setAttribute(\"y\", y);\n\t          this.fillbar.setAttribute(\"width\", this.knobData.level);\n\t          this.fillbar.setAttribute(\"height\", h);\n\t        }\n\t        this.fillbar.setAttribute(\"transform\", barOffset);\n\t        this.fillbar.setAttribute(\"rx\", cornerRadius);\n\t        this.fillbar.setAttribute(\"ry\", cornerRadius);\n\n\t        if (this.orientation === \"vertical\") {\n\t          this.knob.setAttribute(\"cx\", x);\n\t          this.knob.setAttribute(\"cy\", this.knobData.level);\n\t        } else {\n\t          this.knob.setAttribute(\"cx\", this.knobData.level);\n\t          this.knob.setAttribute(\"cy\", y);\n\t        }\n\t        this.knob.setAttribute(\"r\", this.knobData.r);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.bar.setAttribute(\"fill\", this.colors.fill);\n\t        this.fillbar.setAttribute(\"fill\", this.colors.accent);\n\t        this.knob.setAttribute(\"fill\", this.colors.accent);\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (!this.clicked) {\n\t          this.knobData.r = this.thickness * 0.75;\n\t        }\n\t        this.knob.setAttribute(\"r\", this.knobData.r);\n\n\t        if (this.orientation === \"vertical\") {\n\t          this.knobData.level = this.knobData.r + this._value.normalized * (this.height - this.knobData.r * 2);\n\t          this.knob.setAttribute(\"cy\", this.height - this.knobData.level);\n\t          this.fillbar.setAttribute(\"y\", this.height - this.knobData.level);\n\t          this.fillbar.setAttribute(\"height\", this.knobData.level);\n\t        } else {\n\t          this.knobData.level = this._value.normalized * (this.width - this.knobData.r * 2) + this.knobData.r;\n\t          this.knob.setAttribute(\"cx\", this.knobData.level);\n\t          this.fillbar.setAttribute(\"x\", 0);\n\t          this.fillbar.setAttribute(\"width\", this.knobData.level);\n\t        }\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.knobData.r = this.thickness * 0.9;\n\t        this.position.anchor = this.mouse;\n\t        this.move();\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        if (this.clicked) {\n\t          this.position.update(this.mouse);\n\t          this._value.updateNormal(this.position.value);\n\t          this.emit(\"change\", this._value.value);\n\t          this.render();\n\t        }\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {\n\t        this.render();\n\t      }\n\t    },\n\t    normalized: {\n\t      get: function () {\n\t        return this._value.normalized;\n\t      }\n\t    },\n\t    value: {\n\n\t      /**\n\t      The slider's current value. If set manually, will update the interface and trigger the output event.\n\t      @type {number}\n\t      @example slider.value = 10;\n\t      */\n\n\t      get: function () {\n\t        return this._value.value;\n\t      },\n\t      set: function (v) {\n\t        this._value.update(v);\n\t        this.position.value = this._value.normalized;\n\t        this.emit(\"change\", this._value.value);\n\t        this.render();\n\t      }\n\t    },\n\t    min: {\n\n\t      /**\n\t      Lower limit of the sliders's output range\n\t      @type {number}\n\t      @example slider.min = 1000;\n\t      */\n\n\t      get: function () {\n\t        return this._value.min;\n\t      },\n\t      set: function (v) {\n\t        this._value.min = v;\n\t      }\n\t    },\n\t    max: {\n\n\t      /**\n\t      Upper limit of the slider's output range\n\t      @type {number}\n\t      @example slider.max = 1000;\n\t      */\n\n\t      get: function () {\n\t        return this._value.max;\n\t      },\n\t      set: function (v) {\n\t        this._value.max = v;\n\t      }\n\t    },\n\t    step: {\n\n\t      /**\n\t      The increment that the slider's value changes by.\n\t      @type {number}\n\t      @example slider.step = 5;\n\t      */\n\n\t      get: function () {\n\t        return this._value.step;\n\t      },\n\t      set: function (v) {\n\t        this._value.step = v;\n\t      }\n\t    },\n\t    mode: {\n\n\t      /**\n\t      Absolute mode (slider's value jumps to mouse click position) or relative mode (mouse drag changes value relative to its current position). Default: \"relative\".\n\t      @type {string}\n\t      @example slider.mode = \"relative\";\n\t      */\n\n\t      get: function () {\n\t        return this.position.mode;\n\t      },\n\t      set: function (v) {\n\t        this.position.mode = v;\n\t      }\n\t    }\n\t  });\n\n\t  return Slider;\n\t})(Interface);\n\n\tmodule.exports = Slider;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar svg = __webpack_require__(4);\n\tvar ToggleModel = __webpack_require__(13);\n\tvar Interface = __webpack_require__(6);\n\n\t/**\n\t* Toggle\n\t*\n\t* @description Binary switch\n\t*\n\t* @demo <span nexus-ui=\"toggle\"></span>\n\t*\n\t* @example\n\t* var toggle = new Nexus.Toggle('#target')\n\t*\n\t* @example\n\t* var toggle = new Nexus.Toggle('#target',{\n\t*     'size': [40,20],\n\t*     'state': false\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* Parameter: The boolean state of the interface.\n\t*\n\t* @outputexample\n\t* toggle.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*\n\t*/\n\n\tvar Toggle = (function (_Interface) {\n\t  function Toggle() {\n\t    _classCallCheck(this, Toggle);\n\n\t    var options = [\"value\"];\n\n\t    var defaults = {\n\t      size: [40, 20],\n\t      target: false,\n\t      state: false\n\t    };\n\n\t    _get(Object.getPrototypeOf(Toggle.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this._state = new ToggleModel(this.settings.state);\n\n\t    this.init();\n\t  }\n\n\t  _inherits(Toggle, _Interface);\n\n\t  _createClass(Toggle, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\n\t        this.bar = svg.create(\"rect\");\n\t        this.knob = svg.create(\"circle\");\n\t        this.element.appendChild(this.bar);\n\t        this.element.appendChild(this.knob);\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        if (this.height < this.width / 2) {\n\t          this.knobSize = this.height / 2;\n\t        } else {\n\t          this.knobSize = this.width / 4;\n\t        }\n\n\t        this.bar.setAttribute(\"x\", this.width / 2 - this.knobSize * 1.5);\n\t        this.bar.setAttribute(\"y\", this.height / 2 - this.knobSize / 2);\n\t        this.bar.setAttribute(\"rx\", this.knobSize / 2);\n\t        this.bar.setAttribute(\"ry\", this.knobSize / 2);\n\t        this.bar.setAttribute(\"width\", this.knobSize * 3);\n\t        this.bar.setAttribute(\"height\", this.knobSize);\n\n\t        this.knob.setAttribute(\"cx\", this.width / 2 - this.knobSize);\n\t        this.knob.setAttribute(\"cy\", this.height / 2);\n\t        this.knob.setAttribute(\"r\", this.knobSize);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.knob.setAttribute(\"fill\", this.colors.accent);\n\t        this.render();\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (!this.state) {\n\t          this.knob.setAttribute(\"cx\", this.width / 2 - this.knobSize);\n\t          this.bar.setAttribute(\"fill\", this.colors.fill);\n\t        } else {\n\t          this.knob.setAttribute(\"cx\", this.width / 2 + this.knobSize);\n\t          this.bar.setAttribute(\"fill\", this.colors.accent);\n\t        }\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.flip();\n\t        this.render();\n\t        this.emit(\"change\", this.state);\n\t      }\n\t    },\n\t    state: {\n\n\t      /**\n\t      Whether the toggle is currently on or off. Setting this property will update the toggle interface and trigger the output event.\n\t      @type {boolean}\n\t      @example toggle.state = false;\n\t      */\n\n\t      get: function () {\n\t        return this._state.state;\n\t      },\n\t      set: function (value) {\n\t        this._state.flip(value);\n\t        this.emit(\"change\", this.state);\n\t        this.render();\n\t      }\n\t    },\n\t    flip: {\n\n\t      /**\n\t      * Switch the toggle state to its opposite state\n\t      * @example\n\t      * toggle.flip();\n\t      */\n\n\t      value: function flip() {\n\t        this._state.flip();\n\t        this.render();\n\t      }\n\t    }\n\t  });\n\n\t  return Toggle;\n\t})(Interface);\n\n\tmodule.exports = Toggle;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar svg = __webpack_require__(4);\n\tvar ButtonTemplate = __webpack_require__(17);\n\n\t/**\n\t* Button\n\t*\n\t* @description Circular button with optional aftertouch.\n\t*\n\t* @demo <span nexus-ui=\"button\"></span>\n\t*\n\t* @example\n\t* var button = new Nexus.Button('#target')\n\t*\n\t* @example\n\t* var button = new Nexus.Button('#target',{\n\t*   'size': [80,80],\n\t*   'mode': 'aftertouch',\n\t*   'state': false\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* In <b>button mode</b>, <b>toggle mode</b>, and <b>impulse mode</b>, the output data is a boolean describing the state of the button.<br>\n\t* In <b>aftertouch mode</b>, the output data is an object containing x (0-1) and y (0-1) positions of aftertouch.\n\t*\n\t* @outputexample\n\t* button.on('change',function(v) {\n\t*   // v is the value of the button\n\t*   console.log(v);\n\t* })\n\t*\n\t*/\n\n\tvar Button = (function (_ButtonTemplate) {\n\t  function Button() {\n\t    _classCallCheck(this, Button);\n\n\t    var options = [\"mode\"];\n\n\t    var defaults = {\n\t      size: [80, 80],\n\t      mode: \"aftertouch\", // button, aftertouch, impulse, toggle\n\t      state: false\n\t    };\n\n\t    _get(Object.getPrototypeOf(Button.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    /**\n\t    Interaction mode\n\t    @type {string}\n\t    @example button.mode = 'toggle';\n\t    */\n\t    this.mode = this.settings.mode;\n\n\t    this.init();\n\t    this.render();\n\t  }\n\n\t  _inherits(Button, _ButtonTemplate);\n\n\t  _createClass(Button, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t        this.pad = svg.create(\"circle\");\n\t        this.element.appendChild(this.pad);\n\n\t        this.interactionTarget = this.pad;\n\n\t        // only used if in 'aftertouch' mode\n\t        this.defs = svg.create(\"defs\");\n\t        this.element.appendChild(this.defs);\n\n\t        this.gradient = svg.radialGradient(this.defs, 2);\n\n\t        this.gradient.stops[0].setAttribute(\"offset\", \"30%\");\n\n\t        this.gradient.stops[1].setAttribute(\"offset\", \"100%\");\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        this.pad.setAttribute(\"cx\", this.width / 2);\n\t        this.pad.setAttribute(\"cy\", this.height / 2);\n\t        this.pad.setAttribute(\"r\", Math.min(this.width, this.height) / 2 - this.width / 40);\n\t        this.pad.setAttribute(\"stroke-width\", this.width / 20);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\n\t        this.gradient.stops[0].setAttribute(\"stop-color\", this.colors.accent);\n\t        this.gradient.stops[1].setAttribute(\"stop-color\", this.colors.fill);\n\t        this.render();\n\t      }\n\t    },\n\t    render: {\n\n\t      /*\n\t      * Update the visual interface using its current state\n\t      *\n\t      * @example\n\t      * button.render();\n\t      */\n\n\t      value: function render() {\n\t        if (!this.state) {\n\t          this.pad.setAttribute(\"fill\", this.colors.fill);\n\t          this.pad.setAttribute(\"stroke\", this.colors.mediumLight);\n\t        } else {\n\t          if (this.mode === \"aftertouch\") {\n\t            this.pad.setAttribute(\"stroke\", \"url(#\" + this.gradient.id + \")\");\n\t            this.gradient.element.setAttribute(\"cx\", this.position.x * 100 + \"%\");\n\t            this.gradient.element.setAttribute(\"cy\", (1 - this.position.y) * 100 + \"%\");\n\t          } else {\n\t            this.pad.setAttribute(\"stroke\", this.colors.accent);\n\t          }\n\t          this.pad.setAttribute(\"fill\", this.colors.accent);\n\t        }\n\t      }\n\t    }\n\t  });\n\n\t  return Button;\n\t})(ButtonTemplate);\n\n\tmodule.exports = Button;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar svg = __webpack_require__(4);\n\tvar math = __webpack_require__(5);\n\tvar ToggleModel = __webpack_require__(13);\n\tvar Interface = __webpack_require__(6);\n\n\t/**\n\tButton Template\n\t*/\n\n\tvar ButtonTemplate = (function (_Interface) {\n\t  function ButtonTemplate(args, options, defaults) {\n\t    _classCallCheck(this, ButtonTemplate);\n\n\t    _get(Object.getPrototypeOf(ButtonTemplate.prototype), \"constructor\", this).call(this, args, options, defaults);\n\n\t    this.mode = this.settings.mode || \"button\";\n\n\t    this.position = {\n\t      x: 0,\n\t      y: 0\n\t    };\n\n\t    this._state = new ToggleModel(this.settings.state);\n\t  }\n\n\t  _inherits(ButtonTemplate, _Interface);\n\n\t  _createClass(ButtonTemplate, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t        this.pad = svg.create(\"circle\");\n\t        this.pad.setAttribute(\"fill\", \"#d18\");\n\t        this.pad.setAttribute(\"stroke\", \"#d18\");\n\t        this.pad.setAttribute(\"stroke-width\", 4);\n\n\t        this.element.appendChild(this.pad);\n\n\t        this.interactionTarget = this.pad;\n\n\t        this.sizeInterface();\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t        this.pad.setAttribute(\"cx\", this.width / 2);\n\t        this.pad.setAttribute(\"cy\", this.height / 2);\n\t        this.pad.setAttribute(\"r\", Math.min(this.width, this.height) / 2 - 2);\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (!this.state) {\n\t          this.pad.setAttribute(\"fill\", this.colors.fill);\n\t          this.pad.setAttribute(\"stroke\", this.colors.mediumLight);\n\t        } else {\n\t          this.pad.setAttribute(\"fill\", this.colors.accent);\n\t          this.pad.setAttribute(\"stroke\", this.colors.accent);\n\t        }\n\t      }\n\t    },\n\t    down: {\n\t      value: function down(paintbrush) {\n\t        switch (this.mode) {\n\t          case \"impulse\":\n\t            this.turnOn();\n\t            if (this.timeout) {\n\t              clearTimeout(this.timeout);\n\t            }\n\t            this.timeout = setTimeout(this.turnOff.bind(this), 30);\n\t            //    this.emit('change',this.state);\n\t            break;\n\t          case \"button\":\n\t            this.turnOn();\n\t            //    this.emit('change',this.state);\n\t            break;\n\t          case \"aftertouch\":\n\t            this.position = {\n\t              x: math.clip(this.mouse.x / this.width, 0, 1),\n\t              y: math.clip(1 - this.mouse.y / this.height, 0, 1)\n\t            };\n\t            this.turnOn();\n\t            //    this.emit('change',{\n\t            //      state: this.state,\n\t            //      x: this.position.x,\n\t            //      y: this.position.y,\n\t            //    });\n\t            break;\n\t          case \"toggle\":\n\t            this.flip(paintbrush);\n\t            //    this.emit('change',this.state);\n\t            break;\n\t        }\n\t      }\n\t    },\n\t    bend: {\n\t      value: function bend(mouse) {\n\t        if (this.mode === \"aftertouch\") {\n\t          this.mouse = mouse || this.mouse;\n\t          this.position = {\n\t            x: math.clip(this.mouse.x / this.width, 0, 1),\n\t            y: math.clip(1 - this.mouse.y / this.height, 0, 1)\n\t          };\n\t          this.emit(\"change\", {\n\t            state: this.state,\n\t            x: this.position.x,\n\t            y: this.position.y });\n\t          this.render();\n\t        }\n\t      }\n\t    },\n\t    up: {\n\t      value: function up() {\n\t        switch (this.mode) {\n\t          case \"button\":\n\t            this.turnOff();\n\t            //  this.emit('change',this.state);\n\t            break;\n\t          case \"aftertouch\":\n\t            this.turnOff();\n\t            this.position = {\n\t              x: math.clip(this.mouse.x / this.width, 0, 1),\n\t              y: math.clip(1 - this.mouse.y / this.height, 0, 1)\n\t            };\n\t            //  this.emit('change',{\n\t            //    state: this.state,\n\t            //    x: this.position.x,\n\t            //    y: this.position.y,\n\t            //  });\n\t            break;\n\t        }\n\t      }\n\t    },\n\t    click: {\n\n\t      /* overwritable interaction handlers */\n\n\t      value: function click() {\n\t        this.down();\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        this.bend();\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {\n\t        this.up();\n\t      }\n\t    },\n\t    state: {\n\n\t      /**\n\t      Whether the button is on (pressed) or off (not pressed)\n\t      @type {boolean}\n\t      @example button.state = true;\n\t      */\n\n\t      get: function () {\n\t        return this._state.state;\n\t      },\n\t      set: function (value) {\n\t        this._state.flip(value);\n\t        if (this.mode === \"aftertouch\") {\n\t          this.emit(\"change\", {\n\t            state: this.state,\n\t            x: this.position.x,\n\t            y: this.position.y });\n\t        } else {\n\t          this.emit(\"change\", this.state);\n\t        }\n\t        this.render();\n\t      }\n\t    },\n\t    flip: {\n\n\t      /**\n\t      Change the button to its alternate state (off=>on, on=>off), or flip it to a specified state.\n\t      @param value {boolean} (Optional) State to flip to.\n\t      @example button.flip();\n\t      */\n\n\t      value: function flip(value) {\n\t        this._state.flip(value);\n\t        if (this.mode === \"aftertouch\") {\n\t          this.emit(\"change\", {\n\t            state: this.state,\n\t            x: this.position.x,\n\t            y: this.position.y });\n\t        } else {\n\t          this.emit(\"change\", this.state);\n\t        }\n\t        this.render();\n\t      }\n\t    },\n\t    turnOn: {\n\n\t      /**\n\t      Turn the button's state to true.\n\t      @example button.turnOn();\n\t      */\n\n\t      value: function turnOn(emitting) {\n\t        this._state.on();\n\t        if (emitting !== false) {\n\t          if (this.mode === \"aftertouch\") {\n\t            this.emit(\"change\", {\n\t              state: this.state,\n\t              x: this.position.x,\n\t              y: this.position.y });\n\t          } else {\n\t            this.emit(\"change\", this.state);\n\t          }\n\t        }\n\t        this.render();\n\t      }\n\t    },\n\t    turnOff: {\n\n\t      /**\n\t      Turn the button's state to false.\n\t      @example button.turnOff();\n\t      */\n\n\t      value: function turnOff(emitting) {\n\t        this._state.off();\n\t        if (emitting !== false) {\n\t          if (this.mode === \"aftertouch\") {\n\t            this.emit(\"change\", {\n\t              state: this.state,\n\t              x: this.position.x,\n\t              y: this.position.y });\n\t          } else {\n\t            this.emit(\"change\", this.state);\n\t          }\n\t        }\n\t        this.render();\n\t      }\n\t    }\n\t  });\n\n\t  return ButtonTemplate;\n\t})(Interface);\n\n\tmodule.exports = ButtonTemplate;\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar ButtonTemplate = __webpack_require__(17);\n\n\t/**\n\t* TextButton\n\t*\n\t* @description Text button\n\t*\n\t* @demo <span nexus-ui=\"textButton\"></span>\n\t*\n\t* @example\n\t* var textbutton = new Nexus.TextButton('#target')\n\t*\n\t* @example\n\t* var textbutton = new Nexus.TextButton('#target',{\n\t*     'size': [150,50],\n\t*     'state': false,\n\t*     'text': 'Play',\n\t*     'alternate': false\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* The event data is a <i>string</i> of the text on the button at the moment it was clicked.\n\t*\n\t* @outputexample\n\t* textbutton.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*/\n\n\tvar TextButton = (function (_ButtonTemplate) {\n\t  function TextButton() {\n\t    _classCallCheck(this, TextButton);\n\n\t    var options = [\"value\"];\n\n\t    var defaults = {\n\t      size: [150, 50],\n\t      state: false,\n\t      text: \"Play\",\n\t      alternate: false\n\t    };\n\n\t    _get(Object.getPrototypeOf(TextButton.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this._text = this.settings.text;\n\t    this._alternateText = this.settings.alternate;\n\n\t    this.init();\n\t    this.render();\n\n\t    this.state = this.settings.state;\n\t  }\n\n\t  _inherits(TextButton, _ButtonTemplate);\n\n\t  _createClass(TextButton, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\n\t        this.element = document.createElement(\"div\");\n\t        this.parent.appendChild(this.element);\n\n\t        this.textElement = document.createElement(\"div\");\n\t        this.textElement.innerHTML = this._text;\n\t        this.element.appendChild(this.textElement);\n\t      }\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {}\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.element.style.color = this.colors.dark;\n\t        this.render();\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t        var textsize = this.height / 3;\n\t        var textsize2 = this.width / (this._text.length + 2);\n\t        textsize = Math.min(textsize, textsize2);\n\t        if (this.alternateText) {\n\t          var textsize3 = this.width / (this.alternateText.length + 2);\n\t          textsize = Math.min(textsize, textsize3);\n\t        }\n\t        var styles = \"width: \" + this.width + \"px;\";\n\t        styles += \"height: \" + this.height + \"px;\";\n\t        styles += \"padding: \" + (this.height - textsize) / 2 + \"px 0px;\";\n\t        styles += \"box-sizing: border-box;\";\n\t        styles += \"text-align: center;\";\n\t        styles += \"font-family: inherit;\";\n\t        styles += \"font-weight: 700;\";\n\t        styles += \"opacity: 1;\";\n\t        styles += \"font-size:\" + textsize + \"px;\";\n\t        this.textElement.style.cssText = styles;\n\t        this.render();\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (!this.state) {\n\t          this.element.style.backgroundColor = this.colors.fill;\n\t          this.textElement.style.color = this.colors.dark;\n\t          this.textElement.innerHTML = this._text;\n\t        } else {\n\t          this.element.style.backgroundColor = this.colors.accent;\n\t          this.textElement.style.color = this.colors.fill;\n\t          if (this.alternateText) {\n\t            this.textElement.innerHTML = this._alternateText;\n\t          } else {\n\t            this.textElement.innerHTML = this._text;\n\t          }\n\t        }\n\t      }\n\t    },\n\t    alternateText: {\n\n\t      /**\n\t      The text to display when the button is in its \"on\" state. If set, this puts the button in \"toggle\" mode.\n\t      @type {String}\n\t      */\n\n\t      get: function () {\n\t        return this._alternateText;\n\t      },\n\t      set: function (text) {\n\t        if (text) {\n\t          this.mode = \"toggle\";\n\t        } else {\n\t          this.mode = \"button\";\n\t        }\n\t        this._alternateText = text;\n\t        this.render();\n\t      }\n\t    },\n\t    text: {\n\n\t      /**\n\t      The text to display. (If .alternateText exists, then this .text will only be displayed when the button is in its \"off\" state.)\n\t      @type {String}\n\t      */\n\n\t      get: function () {\n\t        return this._text;\n\t      },\n\t      set: function (text) {\n\t        this._text = text;\n\t        this.sizeInterface();\n\t        this.render();\n\t      }\n\t    }\n\t  });\n\n\t  return TextButton;\n\t})(ButtonTemplate);\n\n\tmodule.exports = TextButton;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\t//let svg = require('../util/svg');\n\tvar Interface = __webpack_require__(6);\n\tvar Button = __webpack_require__(16);\n\n\t/**\n\t* RadioButton\n\t*\n\t* @description An array of buttons. By default, selecting one button will deselect all other buttons, but this can be customized using the API below.\n\t*\n\t* @demo <div nexus-ui=\"RadioButton\"></div>\n\t*\n\t* @example\n\t* var radiobutton = new Nexus.RadioButton('#target')\n\t*\n\t* @example\n\t* var radiobutton = new Nexus.RadioButton('#target',{\n\t*   'size': [120,25],\n\t*   'numberOfButtons': 4,\n\t*   'active': -1\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* The event data an <i>integer</i>, the index of the button that is currently on. If no button is selected, the value will be -1.\n\t*\n\t* @outputexample\n\t* radiobutton.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*/\n\n\tvar RadioButton = (function (_Interface) {\n\t  function RadioButton() {\n\t    _classCallCheck(this, RadioButton);\n\n\t    var options = [\"value\"];\n\n\t    var defaults = {\n\t      size: [120, 25],\n\t      numberOfButtons: 4,\n\t      active: -1\n\t    };\n\n\t    _get(Object.getPrototypeOf(RadioButton.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this.buttons = [];\n\t    this._numberOfButtons = this.settings.numberOfButtons;\n\t    this.active = this.settings.active;\n\n\t    this.init();\n\t    this.render();\n\t  }\n\n\t  _inherits(RadioButton, _Interface);\n\n\t  _createClass(RadioButton, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = document.createElement(\"div\");\n\t        this.parent.appendChild(this.element);\n\t      }\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\n\t        for (var i = 0; i < this._numberOfButtons; i++) {\n\t          var container = document.createElement(\"span\");\n\n\t          var button = new Button(container, {\n\t            mode: \"toggle\",\n\t            component: true }, this.update.bind(this, i));\n\n\t          this.buttons.push(button);\n\t          this.element.appendChild(container);\n\t        }\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        var buttonWidth = this.width / this._numberOfButtons;\n\t        var buttonHeight = this.height;\n\n\t        for (var i = 0; i < this._numberOfButtons; i++) {\n\t          this.buttons[i].resize(buttonWidth, buttonHeight);\n\t        }\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        for (var i = 0; i < this._numberOfButtons; i++) {\n\t          this.buttons[i].colors = this.colors;\n\t          this.buttons[i].render();\n\t        }\n\t      }\n\t    },\n\t    update: {\n\t      value: function update(index) {\n\t        if (this.buttons[index].state) {\n\t          this.select(index);\n\t        } else {\n\t          this.deselect();\n\t        }\n\t        //  this.render();\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        for (var i = 0; i < this.buttons.length; i++) {\n\t          if (i === this.active) {\n\t            this.buttons[i].turnOn(false);\n\t          } else {\n\t            this.buttons[i].turnOff(false);\n\t          }\n\t        }\n\t      }\n\t    },\n\t    select: {\n\n\t      /**\n\t      Select one button and deselect all other buttons.\n\t      @param index {number} The index of the button to select\n\t      */\n\n\t      value: function select(index) {\n\t        if (index >= 0 && index < this.buttons.length) {\n\t          this.active = index;\n\t          this.emit(\"change\", this.active);\n\t          this.render();\n\t        }\n\t      }\n\t    },\n\t    deselect: {\n\n\t      /**\n\t      Deselect all buttons.\n\t      */\n\n\t      value: function deselect() {\n\t        this.active = -1;\n\t        this.emit(\"change\", this.active);\n\t        this.render();\n\t      }\n\t    },\n\t    numberOfButtons: {\n\t      get: function () {\n\t        return this._numberOfButtons;\n\t      },\n\n\t      /**\n\t       * Update how many buttons are in the interface\n\t       * @param  {number} buttons How many buttons are in the interface\n\t       */\n\t      set: function (buttons) {\n\t        this._numberOfButtons = buttons;\n\t        for (var i = 0; i < this.buttons.length; i++) {\n\t          this.buttons[i].destroy();\n\t        }\n\t        this.buttons = [];\n\t        //  for (let i=0;i<this.buttons.length;i++) {\n\t        //    this.buttons[i].destroy();\n\t        //  }\n\t        this.empty();\n\t        this.buildInterface();\n\t      }\n\t    }\n\t  });\n\n\t  return RadioButton;\n\t})(Interface);\n\n\tmodule.exports = RadioButton;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar Interface = __webpack_require__(6);\n\tvar Step = __webpack_require__(11);\n\tvar math = __webpack_require__(5);\n\n\t/**\n\t* Number\n\t*\n\t* @description Number interface which is controllable by dragging or typing.\n\t*\n\t* @demo <span nexus-ui=\"number\"></span>\n\t*\n\t* @example\n\t* var number = new Nexus.Number('#target')\n\t*\n\t* @example\n\t* var number = new Nexus.Number('#target',{\n\t*   'size': [60,30],\n\t*   'value': 0,\n\t*   'min': 0,\n\t*   'max': 20000,\n\t*   'step': 1\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* The event data is the number value of the interface.\n\t*\n\t* @outputexample\n\t* number.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*\n\t*/\n\n\tvar Number = (function (_Interface) {\n\t  function Number() {\n\t    _classCallCheck(this, Number);\n\n\t    var options = [\"value\"];\n\n\t    var defaults = {\n\t      size: [60, 30],\n\t      value: 0,\n\t      min: 0,\n\t      max: 20000,\n\t      step: 1\n\t    };\n\n\t    _get(Object.getPrototypeOf(Number.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this._value = new Step(this.settings.min, this.settings.max, this.settings.step, this.settings.value);\n\n\t    /*\n\t    Default: 2. How many decimal places to clip the number's visual rendering to. This does not affect number's actual value output -- for that, set the step property to .01, .1, or 1.\n\t    @type {number}\n\t    @example number.decimalPlaces = 2;\n\t    */\n\t    this.decimalPlaces = 2;\n\t    this.actual = 0;\n\n\t    this.max = this._value.max;\n\n\t    this.min = this._value.min;\n\n\t    this.step = this._value.step;\n\n\t    this.init();\n\t    this.render();\n\t  }\n\n\t  _inherits(Number, _Interface);\n\n\t  _createClass(Number, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = document.createElement(\"input\");\n\t        this.element.type = \"text\";\n\n\t        this.element.addEventListener(\"blur\", (function () {\n\t          this.element.style.backgroundColor = this.colors.fill;\n\t          this.element.style.color = this.colors.dark;\n\t          if (this.element.value !== this.value) {\n\t            this.value = parseFloat(this.element.value);\n\t            this.render();\n\t          }\n\t        }).bind(this));\n\n\t        this.element.addEventListener(\"keydown\", (function (e) {\n\t          if (e.which < 48 || e.which > 57) {\n\t            if (e.which !== 189 && e.which !== 190 && e.which !== 8) {\n\t              e.preventDefault();\n\t            }\n\t          }\n\t          if (e.which === 13) {\n\t            this.element.blur();\n\t            this.value = this.element.value;\n\t            this.emit(\"change\", this.value);\n\t            this.render();\n\t          }\n\t        }).bind(this));\n\n\t        this.parent.appendChild(this.element);\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        this._minDimension = Math.min(this.width, this.height);\n\n\t        var styles = \"width: \" + this.width + \"px;\";\n\t        styles += \"height: \" + this.height + \"px;\";\n\t        styles += \"background-color: #e7e7e7;\";\n\t        styles += \"color: #333;\";\n\t        styles += \"font-family: arial;\";\n\t        styles += \"font-weight: 500;\";\n\t        styles += \"font-size:\" + this._minDimension / 2 + \"px;\";\n\t        //  styles += 'highlight: #d18;';\n\t        styles += \"border: none;\";\n\t        styles += \"outline: none;\";\n\t        styles += \"padding: \" + this._minDimension / 4 + \"px \" + this._minDimension / 4 + \"px;\";\n\t        styles += \"box-sizing: border-box;\";\n\t        styles += \"userSelect: text;\";\n\t        styles += \"mozUserSelect: text;\";\n\t        styles += \"webkitUserSelect: text;\";\n\t        this.element.style.cssText += styles;\n\n\t        // to add eventually\n\t        // var css = '#'+this.elementID+'::selection{ background-color: transparent }';\n\n\t        this.element.value = this.value;\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.element.style.backgroundColor = this.colors.fill;\n\t        this.element.style.color = this.colors.dark;\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\n\t        this.element.value = math.prune(this.value, this.decimalPlaces);\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.hasMoved = false;\n\t        this.element.readOnly = true;\n\t        this.actual = this.value;\n\t        this.initial = { y: this.mouse.y };\n\t        this.changeFactor = math.invert(this.mouse.x / this.width);\n\t        console.log(this.changeFactor);\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        this.hasMoved = true;\n\t        if (this.clicked) {\n\n\t          var newvalue = this.actual - (this.mouse.y - this.initial.y) * (math.clip(this.max - this.min, 0, 1000) / 200) * Math.pow(this.changeFactor, 2);\n\t          this.value = newvalue;\n\n\t          this.render();\n\t          if (this._value.changed) {\n\t            this.emit(\"change\", this.value);\n\t          }\n\t        }\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {\n\t        if (!this.hasMoved) {\n\t          this.element.readOnly = false;\n\t          this.element.focus();\n\t          this.element.setSelectionRange(0, this.element.value.length);\n\t          this.element.style.backgroundColor = this.colors.accent;\n\t          this.element.style.color = this.colors.light;\n\t        } else {\n\t          document.body.focus();\n\t        }\n\t      }\n\t    },\n\t    link: {\n\n\t      /**\n\t      Connect this number interface to a dial or slider\n\t      @param {Interface} element Element to connect to.\n\t      @example number.link(slider)\n\t      */\n\n\t      value: function link(destination) {\n\t        var _this = this;\n\n\t        this.min = destination.min;\n\t        this.max = destination.max;\n\t        this.step = destination.step;\n\t        destination.on(\"change\", function (v) {\n\t          _this.passiveUpdate(v);\n\t        });\n\t        this.on(\"change\", function (v) {\n\t          destination.value = v;\n\t        });\n\t        this.value = destination.value;\n\t        /*  return {\n\t            listener1: listener1,\n\t            listener2: listener2,\n\t            destroy: () => {\n\t              listener1.remove() (or similar)\n\t              listener2.remove() (or similar)\n\t            }\n\t          } */\n\t      }\n\t    },\n\t    passiveUpdate: {\n\t      value: function passiveUpdate(v) {\n\t        this._value.update(v);\n\t        this.render();\n\t      }\n\t    },\n\t    value: {\n\n\t      /**\n\t      The interface's current value. If set manually, will update the interface and trigger the output event.\n\t      @type {number}\n\t      @example number.value = 10;\n\t      */\n\n\t      get: function () {\n\t        return this._value.value;\n\t      },\n\t      set: function (v) {\n\t        this._value.update(v);\n\t        this.emit(\"change\", this.value);\n\t        this.render();\n\t      }\n\t    },\n\t    min: {\n\n\t      /**\n\t      Lower limit of the number's output range\n\t      @type {number}\n\t      @example number.min = 1000;\n\t      */\n\n\t      get: function () {\n\t        return this._value.min;\n\t      },\n\t      set: function (v) {\n\t        this._value.min = v;\n\t      }\n\t    },\n\t    max: {\n\n\t      /**\n\t      Upper limit of the number's output range\n\t      @type {number}\n\t      @example number.max = 1000;\n\t      */\n\n\t      get: function () {\n\t        return this._value.max;\n\t      },\n\t      set: function (v) {\n\t        this._value.max = v;\n\t      }\n\t    },\n\t    step: {\n\n\t      /**\n\t      The increment that the number's value changes by.\n\t      @type {number}\n\t      @example number.step = 5;\n\t      */\n\n\t      get: function () {\n\t        return this._value.step;\n\t      },\n\t      set: function (v) {\n\t        this._value.step = v;\n\t      }\n\t    }\n\t  });\n\n\t  return Number;\n\t})(Interface);\n\n\tmodule.exports = Number;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar Interface = __webpack_require__(6);\n\n\t/**\n\t* Select\n\t*\n\t* @description Dropdown menu\n\t*\n\t* @demo <span nexus-ui=\"select\"></span>\n\t*\n\t* @example\n\t* var select = new Nexus.Select('#target')\n\t*\n\t* @example\n\t* var select = new Nexus.Select('#target',{\n\t*   'size': [100,30],\n\t*   'options': ['default','options']\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* The event data is an object containing the text value of the selected option, as well as the numeric index of the selection.\n\t*\n\t* @outputexample\n\t* select.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*\n\t*/\n\n\tvar Select = (function (_Interface) {\n\t  function Select() {\n\t    _classCallCheck(this, Select);\n\n\t    var options = [\"value\"];\n\n\t    var defaults = {\n\t      size: [100, 30],\n\t      options: [\"default\", \"options\"]\n\t    };\n\n\t    _get(Object.getPrototypeOf(Select.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this._selectedIndex = -1;\n\t    this._value = false;\n\n\t    this._options = this.settings.options;\n\n\t    this.init();\n\t    this.render();\n\t  }\n\n\t  _inherits(Select, _Interface);\n\n\t  _createClass(Select, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = document.createElement(\"select\");\n\t        this.element.style.fontSize = this.height / 2 + \"px\";\n\t        this.element.style.outline = \"none\";\n\t        this.element.style.highlight = \"none\";\n\t        this.element.style.width = this.width + \"px\";\n\t        this.element.style.height = this.height + \"px\";\n\n\t        this.boundRender = this.render.bind(this);\n\n\t        this.element.addEventListener(\"change\", this.boundRender);\n\n\t        this.parent.appendChild(this.element);\n\t      }\n\t    },\n\t    attachListeners: {\n\t      value: function attachListeners() {}\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\n\t        this.defineOptions();\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.element.style.backgroundColor = this.colors.fill;\n\t        this.element.style.color = this.colors.dark;\n\t        this.element.style.border = \"solid 0px \" + this.colors.mediumLight;\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\n\t        this._value = this.element.options[this.element.selectedIndex].text;\n\t        this._selectedIndex = this.element.selectedIndex;\n\t        this.emit(\"change\", {\n\t          value: this._value,\n\t          index: this._selectedIndex\n\t        });\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {}\n\t    },\n\t    move: {\n\t      value: function move() {}\n\t    },\n\t    release: {\n\t      value: function release() {}\n\t    },\n\t    defineOptions: {\n\n\t      /**\n\t       * Update the list of options. This removes all existing options and creates a new list of options.\n\t       * @param  {array} options New array of options\n\t       */\n\n\t      value: function defineOptions(options) {\n\t        if (options) {\n\t          this._options = options;\n\t        }\n\n\t        for (var i = 0; i < this.element.options.length; i++) {\n\t          this.element.remove(i);\n\t        }\n\n\t        for (var i = 0; i < this._options.length; i++) {\n\t          this.element.options.add(new Option(this._options[i], i));\n\t        }\n\t      }\n\t    },\n\t    value: {\n\n\t      /**\n\t      The text of the option that is currently selected. If set, will update the interface and trigger the output event.\n\t      @type {String}\n\t      @example select.value = \"sawtooth\";\n\t      */\n\n\t      get: function () {\n\t        return this._value;\n\t      },\n\t      set: function (v) {\n\t        this._value = v;\n\t        for (var i = 0; i < this.element.options.length; i++) {\n\t          if (v === this.element.options[i].text) {\n\t            this.selectedIndex = i;\n\t            break;\n\t          }\n\t        }\n\t      }\n\t    },\n\t    selectedIndex: {\n\n\t      /**\n\t      The numeric index of the option that is currently selected. If set, will update the interface and trigger the output event.\n\t      @type {number}\n\t      @example select.selectedIndex = 2;\n\t      */\n\n\t      get: function () {\n\t        return this._selectedIndex;\n\t      },\n\t      set: function (v) {\n\t        this._selectedIndex = v;\n\t        this.element.selectedIndex = v;\n\t        this.render();\n\t      }\n\t    },\n\t    customDestroy: {\n\t      value: function customDestroy() {\n\t        this.element.removeEventListener(\"change\", this.boundRender);\n\t      }\n\t    }\n\t  });\n\n\t  return Select;\n\t})(Interface);\n\n\tmodule.exports = Select;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar svg = __webpack_require__(4);\n\tvar math = __webpack_require__(5);\n\tvar Interface = __webpack_require__(6);\n\tvar Step = __webpack_require__(11);\n\n\tvar Interaction = _interopRequireWildcard(__webpack_require__(12));\n\n\t/**\n\t* Dial\n\t*\n\t*\n\t* @description Dial with radial or linear interaction.\n\t*\n\t* @demo <span nexus-ui=\"dial\"></span>\n\t*\n\t* @example\n\t* var dial = new Nexus.Dial('#target')\n\t*\n\t* @example\n\t* var dial = new Nexus.Dial('#target',{\n\t*   'size': [75,75],\n\t*   'interaction': 'radial', // \"radial\", \"vertical\", or \"horizontal\"\n\t*   'mode': 'relative', // \"absolute\" or \"relative\"\n\t*   'min': 0,\n\t*   'max': 1,\n\t*   'step': 0,\n\t*   'value': 0\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* The event data is the number value of the interface.\n\t*\n\t* @outputexample\n\t* dial.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t* @tutorial\n\t* Dial\n\t* ygGMxq\n\t*\n\t*/\n\n\tvar Dial = (function (_Interface) {\n\t  function Dial() {\n\t    _classCallCheck(this, Dial);\n\n\t    var options = [\"min\", \"max\", \"value\"];\n\n\t    var defaults = {\n\t      size: [75, 75],\n\t      interaction: \"radial\", // radial, vertical, horizontal\n\t      mode: \"relative\", // absolute, relative\n\t      min: 0,\n\t      max: 1,\n\t      step: 0,\n\t      value: 0\n\t    };\n\n\t    _get(Object.getPrototypeOf(Dial.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this.interaction = this.settings.interaction;\n\n\t    this._value = new Step(this.settings.min, this.settings.max, this.settings.step, this.settings.value);\n\n\t    this.position = new Interaction.Handle(this.settings.mode, this.interaction, [0, this.width], [this.height, 0]);\n\n\t    this.init();\n\n\t    this.value = this._value.value;\n\n\t    this.position.value = this._value.normalized;\n\n\t    this.previousAngle = false;\n\n\t    this.emit(\"change\", this.value);\n\t  }\n\n\t  _inherits(Dial, _Interface);\n\n\t  _createClass(Dial, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\n\t        this.background = svg.create(\"circle\");\n\t        this.screw = svg.create(\"circle\");\n\t        this.handle = svg.create(\"path\");\n\t        this.handle2 = svg.create(\"path\");\n\t        this.handleFill = svg.create(\"path\");\n\t        this.handle2Fill = svg.create(\"path\");\n\t        this.handleLine = svg.create(\"path\");\n\n\t        this.element.appendChild(this.background);\n\t        this.element.appendChild(this.handle);\n\t        this.element.appendChild(this.handle2);\n\t        this.element.appendChild(this.handleFill);\n\t        this.element.appendChild(this.handle2Fill);\n\t        this.element.appendChild(this.handleLine);\n\t        this.element.appendChild(this.screw);\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        this.position.resize([0, this.width], [this.height, 0]);\n\n\t        var center = {\n\t          x: this.width / 2,\n\t          y: this.height / 2\n\t        };\n\n\t        var diameter = Math.min(this.width, this.height);\n\n\t        this.background.setAttribute(\"cx\", center.x);\n\t        this.background.setAttribute(\"cy\", center.y);\n\t        this.background.setAttribute(\"r\", diameter / 2 - diameter / 40);\n\n\t        this.screw.setAttribute(\"cx\", center.x);\n\t        this.screw.setAttribute(\"cy\", center.y);\n\t        this.screw.setAttribute(\"r\", diameter / 12);\n\n\t        var value = this.value;\n\n\t        var handlePoints = {\n\t          start: Math.PI * 1.5,\n\t          end: math.clip(math.scale(value, 0, 0.5, Math.PI * 1.5, Math.PI * 0.5), Math.PI * 0.5, Math.PI * 1.5)\n\t        };\n\t        var handle2Points = {\n\t          start: Math.PI * 2.5,\n\t          end: math.clip(math.scale(value, 0.5, 1, Math.PI * 2.5, Math.PI * 1.5), Math.PI * 1.5, Math.PI * 2.5)\n\t        };\n\n\t        var handlePath = svg.arc(center.x, center.y, diameter / 2 - diameter / 40, handlePoints.start, handlePoints.end);\n\t        var handle2Path = svg.arc(center.x, center.y, diameter / 2 - diameter / 40, handle2Points.start, handle2Points.end);\n\n\t        this.handle.setAttribute(\"d\", handlePath);\n\t        this.handle.setAttribute(\"stroke-width\", diameter / 20);\n\t        this.handle.setAttribute(\"fill\", \"none\");\n\n\t        this.handle2.setAttribute(\"d\", handle2Path);\n\t        this.handle2.setAttribute(\"stroke-width\", diameter / 20);\n\t        this.handle2.setAttribute(\"fill\", \"none\");\n\n\t        handlePath += \" L \" + center.x + \" \" + center.y;\n\n\t        this.handleFill.setAttribute(\"d\", handlePath);\n\t        this.handleFill.setAttribute(\"fill-opacity\", \"0.3\");\n\n\t        handle2Path += \" L \" + center.x + \" \" + center.y;\n\n\t        this.handle2Fill.setAttribute(\"d\", handle2Path);\n\t        this.handle2Fill.setAttribute(\"fill-opacity\", \"0.3\");\n\n\t        var arcEndingA = undefined;\n\t        if (value < 0.5) {\n\t          arcEndingA = handlePoints.end;\n\t        } else {\n\t          arcEndingA = handle2Points.end;\n\t        }\n\n\t        var arcEndingX = center.x + Math.cos(arcEndingA) * (diameter / 2);\n\t        var arcEndingY = center.y + Math.sin(arcEndingA) * (diameter / 2) * -1;\n\n\t        this.handleLine.setAttribute(\"d\", \"M \" + center.x + \" \" + center.y + \" L \" + arcEndingX + \" \" + arcEndingY);\n\t        this.handleLine.setAttribute(\"stroke-width\", diameter / 20);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.background.setAttribute(\"fill\", this.colors.fill);\n\t        this.screw.setAttribute(\"fill\", this.colors.accent);\n\t        this.handle.setAttribute(\"stroke\", this.colors.accent);\n\t        this.handle2.setAttribute(\"stroke\", this.colors.accent);\n\t        this.handleFill.setAttribute(\"fill\", this.colors.accent);\n\t        this.handle2Fill.setAttribute(\"fill\", this.colors.accent);\n\t        this.handleLine.setAttribute(\"stroke\", this.colors.accent);\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        var value = this._value.normalized;\n\n\t        var center = {\n\t          x: this.width / 2,\n\t          y: this.height / 2\n\t        };\n\n\t        var diameter = Math.min(this.width, this.height);\n\n\t        var handlePoints = {\n\t          start: Math.PI * 1.5,\n\t          end: math.clip(math.scale(value, 0, 0.5, Math.PI * 1.5, Math.PI * 0.5), Math.PI * 0.5, Math.PI * 1.5)\n\t        };\n\t        var handle2Points = {\n\t          start: Math.PI * 2.5,\n\t          end: math.clip(math.scale(value, 0.5, 1, Math.PI * 2.5, Math.PI * 1.5), Math.PI * 1.5, Math.PI * 2.5)\n\t        };\n\n\t        var handlePath = svg.arc(center.x, center.y, diameter / 2 - diameter / 40, handlePoints.start, handlePoints.end);\n\t        var handle2Path = svg.arc(center.x, center.y, diameter / 2 - diameter / 40, handle2Points.start, handle2Points.end);\n\n\t        this.handle.setAttribute(\"d\", handlePath);\n\t        this.handle2.setAttribute(\"d\", handle2Path);\n\n\t        handlePath += \" L \" + center.x + \" \" + center.y;\n\n\t        this.handleFill.setAttribute(\"d\", handlePath);\n\n\t        handle2Path += \" L \" + center.x + \" \" + center.y;\n\n\t        this.handle2Fill.setAttribute(\"d\", handle2Path);\n\n\t        var arcEndingA = undefined;\n\t        if (value <= 0.5) {\n\t          arcEndingA = handlePoints.end;\n\t        } else {\n\t          arcEndingA = handle2Points.end;\n\t        }\n\n\t        var arcEndingX = center.x + Math.cos(arcEndingA) * (diameter / 2);\n\t        var arcEndingY = center.y + Math.sin(arcEndingA) * (diameter / 2) * -1;\n\n\t        this.handleLine.setAttribute(\"d\", \"M \" + center.x + \" \" + center.y + \" L \" + arcEndingX + \" \" + arcEndingY);\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        if (this.mode === \"relative\") {\n\t          this.previousAngle = false;\n\t        }\n\t        this.position.anchor = this.mouse;\n\t        this.position.value = this._value.normalized;\n\t        this.move();\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        if (this.clicked) {\n\n\t          this.position.update(this.mouse);\n\n\t          var angle = this.position.value * Math.PI * 2;\n\n\t          if (angle < 0) {\n\t            angle += Math.PI * 2;\n\t          }\n\n\t          if (this.mode === \"relative\") {\n\t            if (this.previousAngle !== false && Math.abs(this.previousAngle - angle) > 2) {\n\t              if (this.previousAngle > 3) {\n\t                angle = Math.PI * 2;\n\t              } else {\n\t                angle = 0;\n\t              }\n\t            }\n\t          } /* else {\n\t            if (this.previousAngle !== false && Math.abs(this.previousAngle - angle) > 2) {\n\t              if (this.previousAngle > 3) {\n\t                angle = Math.PI*2;\n\t              } else {\n\t                angle = 0;\n\t              }\n\t            }\n\t            } */\n\t          this.previousAngle = angle;\n\n\t          var realValue = angle / (Math.PI * 2);\n\n\t          this.value = this._value.updateNormal(realValue);\n\n\t          if (this.mode === \"relative\") {\n\t            this.position.value = realValue;\n\t          }\n\n\t          this.emit(\"change\", this._value.value);\n\n\t          this.render();\n\t        }\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {}\n\t    },\n\t    value: {\n\n\t      /*\n\t      Dial's value. When set, it will automatically be adjust to fit min/max/step settings of the interface.\n\t      @type {number}\n\t      @example dial.value = 10;\n\t       get value() {\n\t        return this._value.value;\n\t      }\n\t       set value(value) {\n\t        this._value.update(value);\n\t        this.emit('change',this.value);\n\t        this.render();\n\t      }\n\t      */\n\n\t      /**\n\t      Dial's value. When set, it will automatically be adjust to fit min/max/step settings of the interface.\n\t      @type {number}\n\t      @example dial.value = 10;\n\t      */\n\n\t      get: function () {\n\t        return this._value.value;\n\t      },\n\t      set: function (v) {\n\t        this._value.update(v);\n\t        this.position.value = this._value.normalized;\n\t        this.emit(\"change\", this._value.value);\n\t        this.render();\n\t      }\n\t    },\n\t    min: {\n\n\t      /**\n\t      Lower limit of the dial's output range\n\t      @type {number}\n\t      @example dial.min = 1000;\n\t      */\n\n\t      get: function () {\n\t        return this._value.min;\n\t      },\n\t      set: function (v) {\n\t        this._value.min = v;\n\t      }\n\t    },\n\t    max: {\n\n\t      /**\n\t      Upper limit of the dial's output range\n\t      @type {number}\n\t      @example dial.max = 1000;\n\t      */\n\n\t      get: function () {\n\t        return this._value.max;\n\t      },\n\t      set: function (v) {\n\t        this._value.max = v;\n\t      }\n\t    },\n\t    step: {\n\n\t      /**\n\t      The increment that the dial's value changes by.\n\t      @type {number}\n\t      @example dial.step = 5;\n\t      */\n\n\t      get: function () {\n\t        return this._value.step;\n\t      },\n\t      set: function (v) {\n\t        this._value.step = v;\n\t      }\n\t    },\n\t    mode: {\n\n\t      /**\n\t      Absolute mode (dial's value jumps to mouse click position) or relative mode (mouse drag changes value relative to its current position). Default: \"relative\".\n\t      @type {string}\n\t      @example dial.mode = \"relative\";\n\t      */\n\n\t      get: function () {\n\t        return this.position.mode;\n\t      },\n\t      set: function (v) {\n\t        this.position.mode = v;\n\t      }\n\t    },\n\t    normalized: {\n\n\t      /**\n\t      Normalized value of the dial.\n\t      @type {number}\n\t      @example dial.normalized = 0.5;\n\t      */\n\n\t      get: function () {\n\t        return this._value.normalized;\n\t      },\n\t      set: function (v) {\n\t        this._value.updateNormal(v);\n\t        this.emit(\"change\", this.value);\n\t      }\n\t    }\n\t  });\n\n\t  return Dial;\n\t})(Interface);\n\n\tmodule.exports = Dial;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar svg = __webpack_require__(4);\n\tvar Interface = __webpack_require__(6);\n\tvar ButtonTemplate = __webpack_require__(17);\n\tvar touch = __webpack_require__(9);\n\n\tvar PianoKey = (function (_ButtonTemplate) {\n\t  function PianoKey() {\n\t    _classCallCheck(this, PianoKey);\n\n\t    var options = [\"value\", \"note\", \"color\"];\n\n\t    var defaults = {\n\t      size: [80, 80],\n\t      target: false,\n\t      mode: \"button\",\n\t      value: 0\n\t    };\n\n\t    _get(Object.getPrototypeOf(PianoKey.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this.note = this.settings.note;\n\t    this.color = this.settings.color;\n\n\t    this.colors = {\n\t      w: \"#fff\",\n\t      b: \"#666\" };\n\n\t    this.init();\n\t    this.render();\n\t  }\n\n\t  _inherits(PianoKey, _ButtonTemplate);\n\n\t  _createClass(PianoKey, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = svg.create(\"svg\");\n\t        this.element.setAttribute(\"width\", this.width);\n\t        this.element.setAttribute(\"height\", this.height);\n\t        this.parent.appendChild(this.element);\n\t      }\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t        var _this = this;\n\n\t        this.pad = svg.create(\"rect\");\n\n\t        this.element.appendChild(this.pad);\n\n\t        this.interactionTarget = this.pad;\n\n\t        /* events */\n\n\t        if (!touch.exists) {\n\n\t          this.click = function () {\n\t            //  console.log('click');\n\t            _this.piano.interacting = true;\n\t            _this.piano.paintbrush = !_this.state;\n\t            _this.down(_this.piano.paintbrush);\n\t          };\n\n\t          this.pad.addEventListener(\"mouseover\", function () {\n\t            if (_this.piano.interacting) {\n\t              //    console.log('mouseover');\n\t              _this.down(_this.piano.paintbrush);\n\t            }\n\t          });\n\n\t          this.move = function () {\n\t            if (_this.piano.interacting) {\n\t              //  console.log('move');\n\t              _this.bend();\n\t            }\n\t          };\n\n\t          this.release = function () {\n\t            _this.piano.interacting = false;\n\t            //  console.log('release');\n\t            //  this.up();\n\t          };\n\t          this.pad.addEventListener(\"mouseup\", function () {\n\t            if (_this.piano.interacting) {\n\t              //  console.log('mouseup');\n\t              _this.up();\n\t            }\n\t          });\n\t          this.pad.addEventListener(\"mouseout\", function () {\n\t            if (_this.piano.interacting) {\n\t              //  console.log('mouseout');\n\t              _this.up();\n\t            }\n\t          });\n\t        }\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        //let radius = Math.min(this.width,this.height) / 5;\n\t        var radius = 0;\n\n\t        this.pad.setAttribute(\"x\", 0.5);\n\t        this.pad.setAttribute(\"y\", 0.5);\n\t        if (this.width > 2) {\n\t          this.pad.setAttribute(\"width\", this.width - 1);\n\t        } else {\n\t          this.pad.setAttribute(\"width\", this.width);\n\t        }\n\t        if (this.height > 2) {\n\t          this.pad.setAttribute(\"height\", this.height);\n\t        } else {\n\t          this.pad.setAttribute(\"height\", this.height);\n\t        }\n\t        this.pad.setAttribute(\"rx\", radius);\n\t        this.pad.setAttribute(\"ry\", radius);\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (!this.state) {\n\t          this.pad.setAttribute(\"fill\", this.colors[this.color]);\n\t        } else {\n\t          this.pad.setAttribute(\"fill\", this.colors.accent);\n\t        }\n\t      }\n\t    }\n\t  });\n\n\t  return PianoKey;\n\t})(ButtonTemplate);\n\n\t/**\n\t* Piano\n\t*\n\t* @description Piano keyboard interface\n\t*\n\t* @demo <div nexus-ui=\"piano\"></div>\n\t*\n\t* @example\n\t* var piano = new Nexus.Piano('#target')\n\t*\n\t* @example\n\t* var piano = new Nexus.Piano('#target',{\n\t*     'size': [500,125],\n\t*     'mode': 'button',  // 'button', 'toggle', or 'impulse'\n\t*     'lowNote': 24,\n\t*     'highNote': 60\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time a new key is pressed or released <br>\n\t* The event data is an object containing <i>note</i> and <i>state</i> properties.\n\t*\n\t* @outputexample\n\t* piano.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*/\n\n\tvar Piano = (function (_Interface) {\n\t  function Piano() {\n\t    _classCallCheck(this, Piano);\n\n\t    var options = [\"value\"];\n\n\t    var defaults = {\n\t      size: [500, 125],\n\t      lowNote: 24,\n\t      highNote: 60,\n\t      mode: \"button\"\n\t    };\n\n\t    _get(Object.getPrototypeOf(Piano.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this.keyPattern = [\"w\", \"b\", \"w\", \"b\", \"w\", \"w\", \"b\", \"w\", \"b\", \"w\", \"b\", \"w\"];\n\n\t    this.paintbrush = false;\n\n\t    this.mode = this.settings.mode;\n\n\t    this.range = {\n\t      low: this.settings.lowNote,\n\t      high: this.settings.highNote\n\t    };\n\n\t    this.range.size = this.range.high - this.range.low;\n\n\t    this.keys = [];\n\n\t    this.toggleTo = false;\n\n\t    this.init();\n\t    this.render();\n\t  }\n\n\t  _inherits(Piano, _Interface);\n\n\t  _createClass(Piano, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = document.createElement(\"div\");\n\t        this.element.style.position = \"relative\";\n\t        this.element.style.borderRadius = \"0px\";\n\t        this.element.style.display = \"block\";\n\t        this.element.style.width = \"100%\";\n\t        this.element.style.height = \"100%\";\n\t        this.parent.appendChild(this.element);\n\t      }\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\n\t        this.keys = [];\n\n\t        for (var i = 0; i < this.range.high - this.range.low; i++) {\n\n\t          var container = document.createElement(\"span\");\n\t          var scaleIndex = (i + this.range.low) % this.keyPattern.length;\n\n\t          var key = new PianoKey(container, {\n\t            component: true,\n\t            note: i + this.range.low,\n\t            color: this.keyPattern[scaleIndex],\n\t            mode: this.mode\n\t          }, this.keyChange.bind(this, i + this.range.low));\n\n\t          key.piano = this;\n\n\t          if (touch.exists) {\n\t            key.pad.index = i;\n\t            key.preClick = key.preMove = key.preRelease = function () {};\n\t            key.click = key.move = key.release = function () {};\n\t            key.preTouch = key.preTouchMove = key.preTouchRelease = function () {};\n\t            key.touch = key.touchMove = key.touchRelease = function () {};\n\t          }\n\n\t          this.keys.push(key);\n\t          this.element.appendChild(container);\n\t        }\n\t        if (touch.exists) {\n\t          this.addTouchListeners();\n\t        }\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        var keyX = 0;\n\n\t        var keyPositions = [];\n\n\t        for (var i = 0; i < this.range.high - this.range.low; i++) {\n\n\t          keyPositions.push(keyX);\n\n\t          var scaleIndex = (i + this.range.low) % this.keyPattern.length;\n\t          var nextScaleIndex = (i + 1 + this.range.low) % this.keyPattern.length;\n\t          if (i + 1 + this.range.low >= this.range.high) {\n\t            keyX += 1;\n\t          } else if (this.keyPattern[scaleIndex] === \"w\" && this.keyPattern[nextScaleIndex] === \"w\") {\n\t            keyX += 1;\n\t          } else {\n\t            keyX += 0.5;\n\t          }\n\t        }\n\t        var keysWide = keyX;\n\n\t        //  let padding = this.width / 120;\n\t        var padding = 1;\n\t        var buttonWidth = (this.width - padding * 2) / keysWide;\n\t        var buttonHeight = (this.height - padding * 2) / 2;\n\n\t        for (var i = 0; i < this.keys.length; i++) {\n\n\t          var container = this.keys[i].parent;\n\t          container.style.position = \"absolute\";\n\t          container.style.left = keyPositions[i] * buttonWidth + padding + \"px\";\n\t          if (this.keys[i].color === \"w\") {\n\t            container.style.top = padding + \"px\";\n\t            this.keys[i].resize(buttonWidth, buttonHeight * 2);\n\t          } else {\n\t            container.style.zIndex = 1;\n\t            container.style.top = padding + \"px\";\n\t            this.keys[i].resize(buttonWidth, buttonHeight * 1.1);\n\t          }\n\t        }\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\n\t        // Piano keys don't actually have a stroke border\n\t        // They have space between them, which shows the Piano bg color\n\t        this.element.style.backgroundColor = this.colors.mediumLight;\n\n\t        for (var i = 0; i < this.keys.length; i++) {\n\t          this.keys[i].colors = {\n\t            w: this.colors.light,\n\t            b: this.colors.dark,\n\t            accent: this.colors.accent,\n\t            border: this.colors.mediumLight\n\t          };\n\t          this.keys[i].colorInterface();\n\t          this.keys[i].render();\n\t        }\n\t      }\n\t    },\n\t    keyChange: {\n\t      value: function keyChange(note, on) {\n\t        // emit data for any key turning on/off\n\t        // \"note\" is the note value\n\t        // \"on\" is a boolean whether it is on or off\n\t        // in aftertouch mode, \"on: is an object with state/x/y properties\n\t        var data = {\n\t          note: note\n\t        };\n\t        if (typeof on === \"object\") {\n\t          data.state = on.state;\n\t          //  data.x = on.x\n\t          //  data.y = on.y\n\t        } else {\n\t          data.state = on;\n\t        }\n\t        this.emit(\"change\", data);\n\t      }\n\t    },\n\t    render: {\n\n\t      /* drag(note,on) {\n\t        this.emit('change',{\n\t          note: note,\n\t          state: on\n\t        });\n\t      } */\n\n\t      value: function render() {}\n\t    },\n\t    addTouchListeners: {\n\t      value: function addTouchListeners() {\n\t        var _this = this;\n\n\t        this.preClick = this.preMove = this.preRelease = function () {};\n\t        this.click = this.move = this.release = function () {};\n\t        this.preTouch = this.preTouchMove = this.preTouchRelease = function () {};\n\t        this.touch = this.touchMove = this.touchRelease = function () {};\n\n\t        this.currentElement = false;\n\n\t        this.element.addEventListener(\"touchstart\", function (e) {\n\t          console.log(\"touchstart\");\n\t          var element = document.elementFromPoint(e.targetTouches[0].clientX, e.targetTouches[0].clientY);\n\t          var key = _this.keys[element.index];\n\t          _this.paintbrush = !key.state;\n\t          key.down(_this.paintbrush);\n\t          _this.currentElement = element.index;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\n\t        this.element.addEventListener(\"touchmove\", function (e) {\n\t          var element = document.elementFromPoint(e.targetTouches[0].clientX, e.targetTouches[0].clientY);\n\t          var key = _this.keys[element.index];\n\t          if (element.index !== _this.currentElement) {\n\t            if (_this.currentElement) {\n\t              var pastKey = _this.keys[_this.currentElement];\n\t              pastKey.up();\n\t            }\n\t            key.down(_this.paintbrush);\n\t          } else {\n\t            key.bend();\n\t          }\n\t          _this.currentElement = element.index;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\n\t        this.element.addEventListener(\"touchend\", function (e) {\n\t          // no touches to calculate because none remaining\n\t          var key = _this.keys[_this.currentElement];\n\t          key.up();\n\t          _this.interacting = false;\n\t          _this.currentElement = false;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\t      }\n\t    },\n\t    setRange: {\n\n\t      /**\n\t      Define the pitch range (lowest and highest note) of the piano keyboard.\n\t      @param low {number} MIDI note value of the lowest note on the keyboard\n\t      @param high {number} MIDI note value of the highest note on the keyboard\n\t      */\n\n\t      value: function setRange(low, high) {\n\t        this.range.low = low;\n\t        this.range.high = high;\n\t        this.empty();\n\t        this.buildInterface();\n\t      }\n\t    },\n\t    toggleKey: {\n\n\t      /**\n\t      Turn a key on or off using its MIDI note value;\n\t      @param note {number} MIDI note value of the key to change\n\t      @param on {boolean} Whether the note should turn on or off\n\t      */\n\n\t      value: function toggleKey(note, on) {\n\t        this.keys[note - this.range.low].flip(on);\n\t      }\n\t    },\n\t    toggleIndex: {\n\n\t      /**\n\t      Turn a key on or off using its key index on the piano interface.\n\t      @param index {number} Index of the key to change\n\t      @param on {boolean} Whether the note should turn on or off\n\t      */\n\n\t      value: function toggleIndex(index, on) {\n\t        this.keys[index].flip(on);\n\t      }\n\t    }\n\t  });\n\n\t  return Piano;\n\t})(Interface);\n\n\tmodule.exports = Piano;\n\n\t// loop through and render the keys?\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar svg = __webpack_require__(4);\n\tvar dom = __webpack_require__(7);\n\tvar Interface = __webpack_require__(6);\n\tvar ButtonTemplate = __webpack_require__(17);\n\tvar MatrixModel = __webpack_require__(25);\n\tvar CounterModel = __webpack_require__(28);\n\tvar touch = __webpack_require__(9);\n\n\tvar MatrixCell = (function (_ButtonTemplate) {\n\t  function MatrixCell() {\n\t    _classCallCheck(this, MatrixCell);\n\n\t    var options = [\"value\"];\n\n\t    var defaults = {\n\t      size: [80, 80],\n\t      target: false,\n\t      mode: \"toggle\",\n\t      value: 0\n\t    };\n\n\t    _get(Object.getPrototypeOf(MatrixCell.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this.index = this.settings.index;\n\t    this.row = this.settings.row;\n\t    this.column = this.settings.column;\n\n\t    this.matrix = this.settings.matrix;\n\n\t    this.interacting = false;\n\t    this.paintbrush = true;\n\n\t    this.init();\n\t    this.render();\n\t  }\n\n\t  _inherits(MatrixCell, _ButtonTemplate);\n\n\t  _createClass(MatrixCell, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = svg.create(\"svg\");\n\t        this.element.setAttribute(\"width\", this.width);\n\t        this.element.setAttribute(\"height\", this.height);\n\t        this.element.style.top = \"0px\";\n\t        this.element.style.left = \"0px\";\n\t        this.element.style.position = \"absolute\";\n\t        this.parent.appendChild(this.element);\n\t      }\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t        var _this = this;\n\n\t        this.pad = svg.create(\"rect\");\n\t        this.element.appendChild(this.pad);\n\n\t        this.interactionTarget = this.pad;\n\n\t        /* events */\n\n\t        if (!touch.exists) {\n\n\t          this.click = function () {\n\t            _this.matrix.interacting = true;\n\t            _this.matrix.paintbrush = !_this.state;\n\t            _this.down(_this.matrix.paintbrush);\n\t          };\n\t          this.pad.addEventListener(\"mouseover\", function () {\n\t            if (_this.matrix.interacting) {\n\t              _this.down(_this.matrix.paintbrush);\n\t            }\n\t          });\n\n\t          this.move = function () {};\n\t          this.pad.addEventListener(\"mousemove\", function (e) {\n\t            if (_this.matrix.interacting) {\n\t              if (!_this.offset) {\n\t                _this.offset = dom.findPosition(_this.element);\n\t              }\n\t              _this.mouse = dom.locateMouse(e, _this.offset);\n\t              _this.bend();\n\t            }\n\t          });\n\n\t          this.release = function () {\n\t            _this.matrix.interacting = false;\n\t          };\n\t          this.pad.addEventListener(\"mouseup\", function () {\n\t            if (_this.matrix.interacting) {\n\t              _this.up();\n\t            }\n\t          });\n\t          this.pad.addEventListener(\"mouseout\", function () {\n\t            if (_this.matrix.interacting) {\n\t              _this.up();\n\t            }\n\t          });\n\t        }\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        this.pad.setAttribute(\"x\", 1);\n\t        this.pad.setAttribute(\"y\", 1);\n\t        if (this.width > 2) {\n\t          this.pad.setAttribute(\"width\", this.width - 2);\n\t        } else {\n\t          this.pad.setAttribute(\"width\", this.width);\n\t        }\n\t        if (this.height > 2) {\n\t          this.pad.setAttribute(\"height\", this.height - 2);\n\t        } else {\n\t          this.pad.setAttribute(\"height\", this.height);\n\t        }\n\t        //this.pad.setAttribute('height', this.height - 2);\n\t        this.pad.setAttribute(\"fill\", this.matrix.colors.fill);\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (!this.state) {\n\t          this.pad.setAttribute(\"fill\", this.matrix.colors.fill);\n\t        } else {\n\t          this.pad.setAttribute(\"fill\", this.matrix.colors.accent);\n\t        }\n\t      }\n\t    }\n\t  });\n\n\t  return MatrixCell;\n\t})(ButtonTemplate);\n\n\t/**\n\t* Sequencer\n\t*\n\t* @description Grid of buttons with built-in step sequencer.\n\t*\n\t* @demo <div nexus-ui=\"sequencer\" style=\"width:400px;height:200px;\"></div>\n\t*\n\t* @example\n\t* var sequencer = new Nexus.Sequencer('#target')\n\t*\n\t* @example\n\t* var sequencer = new Nexus.Sequencer('#target',{\n\t*  'size': [400,200],\n\t*  'mode': 'toggle',\n\t*  'rows': 5,\n\t*  'columns': 10\n\t*})\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's matrix changes. <br>\n\t* The event data is an object containing <i>row</i> (number), <i>column</i> (number), and <i>state</i> (boolean) properties.\n\t*\n\t* @outputexample\n\t* sequencer.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t* @output\n\t* step\n\t* Fires any time the sequencer steps to the next column, in sequece mode. <br>\n\t* The event data is an <i>array</i> containing all values in the column, top first.\n\t*\n\t* @outputexample\n\t* sequencer.on('step',function(v) {\n\t*   console.log(v);\n\t* })\n\t*/\n\n\tvar Sequencer = (function (_Interface) {\n\t  function Sequencer() {\n\t    _classCallCheck(this, Sequencer);\n\n\t    var options = [\"value\"];\n\n\t    var defaults = {\n\t      size: [400, 200],\n\t      mode: \"toggle\",\n\t      rows: 5,\n\t      columns: 10\n\t    };\n\n\t    _get(Object.getPrototypeOf(Sequencer.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this.active = -1;\n\n\t    this.mode = this.settings.mode;\n\n\t    /**\n\t     * The interval object which controls timing and sequence scheduling.\n\t     * @type {interval}\n\t     */\n\t    this.interval = new Nexus.Interval(200, function () {}, false); // jshint ignore:line\n\n\t    /**\n\t    A Matrix model containing methods for manipulating the sequencer's array of values. To learn how to manipulate the matrix, read about the matrix model.\n\t    @type {matrix}\n\t    */\n\t    this.matrix = new MatrixModel(this.settings.rows, this.settings.columns);\n\t    this.matrix.ui = this;\n\n\t    /**\n\t    A Counter model which the sequencer steps through. For example, you could use this model to step through the sequencer in reverse, randomly, or in a drunk walk.\n\t    @type {counter}\n\t    */\n\t    this.stepper = new CounterModel(0, this.columns);\n\n\t    this.init();\n\t  }\n\n\t  _inherits(Sequencer, _Interface);\n\n\t  _createClass(Sequencer, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = document.createElement(\"div\");\n\t        this.element.style.position = \"relative\";\n\t        this.element.style.display = \"block\";\n\t        this.element.style.width = \"100%\";\n\t        this.element.style.height = \"100%\";\n\t        this.parent.appendChild(this.element);\n\t        if (touch.exists) {\n\t          this.addTouchListeners();\n\t        }\n\t      }\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\n\t        this.cells = [];\n\t        for (var i = 0; i < this.matrix.length; i++) {\n\n\t          var _location = this.matrix.locate(i);\n\t          // returns {row,col}\n\n\t          var container = document.createElement(\"span\");\n\t          container.style.position = \"absolute\";\n\n\t          var cell = new MatrixCell(container, {\n\t            component: true,\n\t            index: i,\n\t            row: _location.row,\n\t            column: _location.column,\n\t            mode: this.mode,\n\t            matrix: this\n\t          }, this.keyChange.bind(this, i));\n\n\t          //  cell.matrix = this;\n\t          if (touch.exists) {\n\t            cell.pad.index = i;\n\t            cell.preClick = cell.preMove = cell.preRelease = function () {};\n\t            cell.click = cell.move = cell.release = function () {};\n\t            cell.preTouch = cell.preTouchMove = cell.preTouchRelease = function () {};\n\t            cell.touch = cell.touchMove = cell.touchRelease = function () {};\n\t          }\n\n\t          this.cells.push(cell);\n\t          this.element.appendChild(container);\n\t        }\n\t        this.sizeInterface();\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        var cellWidth = this.width / this.columns;\n\t        var cellHeight = this.height / this.rows;\n\n\t        for (var i = 0; i < this.cells.length; i++) {\n\t          var container = this.cells[i].parent;\n\t          container.style.left = this.cells[i].column * cellWidth + \"px\";\n\t          container.style.top = this.cells[i].row * cellHeight + \"px\";\n\t          this.cells[i].resize(cellWidth, cellHeight);\n\t        }\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        for (var i = 0; i < this.cells.length; i++) {\n\t          this.cells[i].render();\n\t        }\n\t      }\n\t    },\n\t    update: {\n\t      value: function update() {\n\t        var _this = this;\n\n\t        //  console.log(\"updating...\")\n\t        //on = on || false;\n\t        this.matrix.iterate(function (r, c, i) {\n\t          //  console.log(this.matrix.pattern[r][c], this.cells[i].state);\n\t          if (_this.matrix.pattern[r][c] !== _this.cells[i].state) {\n\t            if (_this.matrix.pattern[r][c] > 0) {\n\t              _this.cells[i].turnOn();\n\t            } else {\n\t              _this.cells[i].turnOff();\n\t            }\n\t          }\n\t        });\n\t      }\n\t    },\n\t    keyChange: {\n\n\t      // update => cell.turnOn => cell.emit => keyChange (seq.emit) => matrix.set.cell => update\n\t      //\n\t      // interaction => keyChange => matrix.set.cell => update => cell.turnOn\n\t      //                                             => emit\n\t      //\n\t      // set.cell => update => needs to emit.\n\n\t      value: function keyChange(note, on) {\n\t        // emit data for any key turning on/off\n\t        // i is the note index\n\t        // v is whether it is on or off\n\t        var cell = this.matrix.locate(note);\n\t        //  this.matrix.set.cell(cell.column,cell.row,on);\n\t        this.matrix.pattern[cell.row][cell.column] = on;\n\t        var data = {\n\t          row: cell.row,\n\t          column: cell.column,\n\t          state: on\n\t        };\n\t        this.emit(\"change\", data);\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        var _this = this;\n\n\t        if (this.stepper.value >= 0) {\n\t          this.matrix.iterate(function (r, c, i) {\n\t            if (c === _this.stepper.value) {\n\t              _this.cells[i].pad.setAttribute(\"stroke\", _this.colors.mediumLight);\n\t              _this.cells[i].pad.setAttribute(\"stroke-width\", \"1\");\n\t              _this.cells[i].pad.setAttribute(\"stroke-opacity\", \"1\");\n\t            } else {\n\t              _this.cells[i].pad.setAttribute(\"stroke\", \"none\");\n\t            }\n\t          });\n\t        }\n\t      }\n\t    },\n\t    start: {\n\n\t      /**\n\t       * Start sequencing\n\t       * @param  {number} ms Beat tempo in milliseconds\n\t       */\n\n\t      value: function start(ms) {\n\t        this.interval.event = this.next.bind(this);\n\t        if (ms) {\n\t          this.interval.ms(ms);\n\t        }\n\t        this.interval.start();\n\t      }\n\t    },\n\t    stop: {\n\n\t      /**\n\t      Stop sequencing\n\t      */\n\n\t      value: function stop() {\n\t        this.interval.stop();\n\t      }\n\t    },\n\t    next: {\n\n\t      /**\n\t      Manually jump to the next column and trigger the 'change' event. The \"next\" column is determined by your mode of sequencing.\n\t      */\n\n\t      value: function next() {\n\t        this.stepper.next();\n\t        this.emit(\"step\", this.matrix.column(this.stepper.value).reverse());\n\t        this.render();\n\t      }\n\t    },\n\t    addTouchListeners: {\n\t      value: function addTouchListeners() {\n\t        var _this = this;\n\n\t        this.preClick = this.preMove = this.preRelease = function () {};\n\t        this.click = this.move = this.release = function () {};\n\t        this.preTouch = this.preTouchMove = this.preTouchRelease = function () {};\n\t        this.touch = this.touchMove = this.touchRelease = function () {};\n\n\t        this.currentElement = false;\n\n\t        this.element.addEventListener(\"touchstart\", function (e) {\n\t          var element = document.elementFromPoint(e.targetTouches[0].clientX, e.targetTouches[0].clientY);\n\t          var cell = _this.cells[element.index];\n\t          _this.paintbrush = !cell.state;\n\t          cell.down(_this.paintbrush);\n\t          _this.currentElement = element.index;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\n\t        this.element.addEventListener(\"touchmove\", function (e) {\n\t          var element = document.elementFromPoint(e.targetTouches[0].clientX, e.targetTouches[0].clientY);\n\t          var cell = _this.cells[element.index];\n\t          if (element.index !== _this.currentElement) {\n\t            if (_this.currentElement >= 0) {\n\t              var pastCell = _this.cells[_this.currentElement];\n\t              pastCell.up();\n\t            }\n\t            cell.down(_this.paintbrush);\n\t          } else {\n\t            cell.bend();\n\t          }\n\t          _this.currentElement = element.index;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\n\t        this.element.addEventListener(\"touchend\", function (e) {\n\t          // no touches to calculate because none remaining\n\t          var cell = _this.cells[_this.currentElement];\n\t          cell.up();\n\t          _this.interacting = false;\n\t          _this.currentElement = false;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\t      }\n\t    },\n\t    rows: {\n\n\t      /**\n\t      Number of rows in the sequencer\n\t      @type {number}\n\t      */\n\n\t      get: function () {\n\t        return this.matrix.rows;\n\t      },\n\t      set: function (v) {\n\t        this.matrix.rows = v;\n\t        this.empty();\n\t        this.buildInterface();\n\t        this.update();\n\t      }\n\t    },\n\t    columns: {\n\n\t      /**\n\t      Number of columns in the sequencer\n\t      @type {number}\n\t      */\n\n\t      get: function () {\n\t        return this.matrix.columns;\n\t      },\n\t      set: function (v) {\n\t        this.matrix.columns = v;\n\t        this.stepper.max = v;\n\t        this.empty();\n\t        this.buildInterface();\n\t        this.update();\n\t      }\n\t    }\n\t  });\n\n\t  return Sequencer;\n\t})(Interface);\n\n\tmodule.exports = Sequencer;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar math = _interopRequire(__webpack_require__(5));\n\n\tvar Sequence = _interopRequire(__webpack_require__(26));\n\n\t// For the tutorial, looking at\n\n\t//Pattern section:\n\t// .create(), .rows, .columns,\n\t// .pattern, .length, .formatAsText(), .log(),\n\t// .locate(i), .indexOf(c,r)\n\t// row(), column() (returns contents of row or colum)\n\n\t//Control section:\n\t// toggle x3\n\t// set x4\n\t// rotate x3\n\t// populate x3\n\t// erase x3\n\n\t// should some version of this have a float value for each cell?\n\t// could be like a mirror .pattern that has values. by default, everything is 1, but could be set...\n\t// not a good way to do that on interface, but as a model it would be nice...\n\t// for .formatAsText(), could multiply by 100 and floor, so each cell is an int from 0 to 9\n\n\tvar Matrix = (function () {\n\t  function Matrix(rows, columns) {\n\t    var _this = this;\n\n\t    _classCallCheck(this, Matrix);\n\n\t    // should also have ability to create using an existing matrix (2d array)\n\t    this.pattern = [];\n\t    this.create(rows, columns);\n\n\t    this.toggle = {\n\t      cell: function (column, row) {\n\t        _this.pattern[row][column] = !_this.pattern[row][column]; // math.invert(this.pattern[row][column]);\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t        return _this.pattern[row][column];\n\t      },\n\t      all: function () {\n\t        _this.iterate(function (r, c) {\n\t          _this.toggle.cell(c, r);\n\t        });\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      row: function (row) {\n\t        for (var i = 0; i < _this.columns; i++) {\n\t          _this.toggle.cell(i, row);\n\t        }\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      column: function (column) {\n\t        for (var i = 0; i < _this.rows; i++) {\n\t          _this.toggle.cell(column, i);\n\t        }\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      }\n\t    };\n\n\t    this.set = {\n\t      cell: function (column, row, value) {\n\t        _this.pattern[row][column] = value;\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      all: function (values) {\n\t        // set the whole matrix using a 2d array as input\n\t        // this should also resize the array?\n\t        _this.pattern = values;\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      row: function (row, values) {\n\t        // set a row using an array as input\n\t        _this.pattern[row] = values;\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      column: function (column, values) {\n\t        // set a column using an array as input\n\t        _this.pattern.forEach(function (row, i) {\n\t          _this.pattern[i][column] = values[i];\n\t        });\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      }\n\t    };\n\n\t    this.rotate = {\n\t      //should eventually do (amountX, amountY) here\n\t      // could just use a loop and this.rotate.row(i,amountX);\n\t      all: function (amount) {\n\t        if (!amount && amount !== 0) {\n\t          amount = 1;\n\t        }\n\t        amount %= _this.pattern[0].length;\n\t        if (amount < 0) {\n\t          amount = _this.pattern[0].length + amount;\n\t        }\n\t        for (var i = 0; i < _this.rows; i++) {\n\t          var cut = _this.pattern[i].splice(_this.pattern[i].length - amount, amount);\n\t          _this.pattern[i] = cut.concat(_this.pattern[i]);\n\t        }\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      row: function (row, amount) {\n\t        if (!amount && amount !== 0) {\n\t          amount = 1;\n\t        }\n\t        amount %= _this.pattern[0].length;\n\t        if (amount < 0) {\n\t          amount = _this.pattern[0].length + amount;\n\t        }\n\t        var cut = _this.pattern[row].splice(_this.pattern[row].length - amount, amount);\n\t        _this.pattern[row] = cut.concat(_this.pattern[row]);\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      column: function (column, amount) {\n\t        if (!amount && amount !== 0) {\n\t          amount = 1;\n\t        }\n\t        amount %= _this.pattern.length;\n\t        if (amount < 0) {\n\t          amount = _this.pattern.length + amount;\n\t        }\n\t        var proxy = [];\n\t        _this.pattern.forEach(function (row) {\n\t          proxy.push(row[column]);\n\t        });\n\t        var cut = proxy.splice(proxy.length - amount, amount);\n\t        proxy = cut.concat(proxy);\n\t        _this.pattern.forEach(function (row, i) {\n\t          row[column] = proxy[i];\n\t        });\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      }\n\t    };\n\n\t    // the idea behind populate is to be able to set a whole row or column to 0 or 1\n\t    // IF the value is a float, such as 0.7, then it would become a probability\n\t    // so populate(0.7) would give each cell a 70% chance of being 1\n\t    this.populate = {\n\t      all: function (odds) {\n\t        var oddsSequence = new Sequence(odds);\n\t        _this.iterate(function (r, c) {\n\t          _this.pattern[r][c] = math.coin(oddsSequence.next());\n\t        });\n\t        // This could be used so that each row has same odds pattern, even if row length is not divisibly by sequence length.\n\t        //,() => {\n\t        //  odds.pos = -1;\n\t        // }\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      row: function () {\n\t        var row = arguments[0] === undefined ? 0 : arguments[0];\n\t        var odds = arguments[1] === undefined ? 1 : arguments[1];\n\n\t        var oddsSequence = new Sequence(odds);\n\t        _this.pattern[row].forEach(function (cell, i) {\n\t          _this.pattern[row][i] = math.coin(oddsSequence.next());\n\t        });\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      },\n\t      column: function () {\n\t        var column = arguments[0] === undefined ? 0 : arguments[0];\n\t        var odds = arguments[1] === undefined ? 1 : arguments[1];\n\n\t        var oddsSequence = new Sequence(odds);\n\t        _this.pattern.forEach(function (row, i) {\n\t          _this.pattern[i][column] = math.coin(oddsSequence.next());\n\t        });\n\t        if (_this.ui) {\n\t          _this.ui.update();\n\t        }\n\t      }\n\t    };\n\n\t    // essentiall populate(0) so i'm not sure if this is necessary but is nice\n\t    this.erase = {\n\t      all: function () {\n\t        _this.set.all(0);\n\t      },\n\t      row: function (row) {\n\t        _this.set.row(row, 0);\n\t      },\n\t      column: function (column) {\n\t        _this.set.column(column, 0);\n\t      }\n\t    };\n\n\t    // end constructor\n\t  }\n\n\t  _createClass(Matrix, {\n\t    create: {\n\t      value: function create(rows, columns) {\n\t        var _this = this;\n\n\t        this.pattern = [];\n\t        for (var row = 0; row < rows; row++) {\n\t          var arr = new Array(columns);\n\t          this.pattern.push(arr);\n\t        }\n\t        this.iterate(function (r, c) {\n\t          _this.pattern[r][c] = false;\n\t        });\n\t      }\n\t    },\n\t    iterate: {\n\t      value: function iterate(f, f2) {\n\t        var i = 0;\n\t        for (var row = 0; row < this.rows; row++) {\n\t          if (f2) {\n\t            f2(row);\n\t          }\n\t          for (var column = 0; column < this.columns; column++) {\n\t            f(row, column, i);\n\t            i++;\n\t          }\n\t        }\n\t      }\n\t    },\n\t    formatAsText: {\n\t      value: function formatAsText() {\n\t        var _this = this;\n\n\t        var patternString = \"\";\n\t        this.iterate(function (r, c) {\n\t          patternString += (_this.pattern[r][c] ? 1 : 0) + \" \";\n\t        }, function () {\n\t          patternString += \"\\n\";\n\t        });\n\t        return patternString;\n\t      }\n\t    },\n\t    log: {\n\t      value: function log() {\n\t        console.log(this.formatAsText());\n\t      }\n\t    },\n\t    update: {\n\t      value: function update(pattern) {\n\t        this.pattern = pattern || this.pattern;\n\t      }\n\t    },\n\t    length: {\n\t      get: function () {\n\t        return this.rows * this.columns;\n\t      }\n\t    },\n\t    locate: {\n\t      value: function locate(index) {\n\t        // returns row and column of cell by index\n\t        return {\n\t          row: ~ ~(index / this.columns),\n\t          column: index % this.columns\n\t        };\n\t      }\n\t    },\n\t    indexOf: {\n\t      value: function indexOf(row, column) {\n\t        return column + row * this.columns;\n\t        // returns index of cell by row and column\n\t      }\n\t    },\n\t    row: {\n\t      value: (function (_row) {\n\t        var _rowWrapper = function row(_x) {\n\t          return _row.apply(this, arguments);\n\t        };\n\n\t        _rowWrapper.toString = function () {\n\t          return _row.toString();\n\t        };\n\n\t        return _rowWrapper;\n\t      })(function (row) {\n\t        var data = [];\n\t        for (var i = 0; i < this.columns; i++) {\n\t          data.push(this.pattern[row] ? 1 : 0);\n\t        }\n\t        return data;\n\t      })\n\t    },\n\t    column: {\n\t      value: (function (_column) {\n\t        var _columnWrapper = function column(_x2) {\n\t          return _column.apply(this, arguments);\n\t        };\n\n\t        _columnWrapper.toString = function () {\n\t          return _column.toString();\n\t        };\n\n\t        return _columnWrapper;\n\t      })(function (column) {\n\t        var data = [];\n\t        for (var i = 0; i < this.rows; i++) {\n\t          data.push(this.pattern[i][column] ? 1 : 0);\n\t        }\n\t        return data;\n\t      })\n\t    },\n\t    rows: {\n\t      get: function () {\n\t        return this.pattern.length;\n\t      },\n\t      set: function (v) {\n\t        var _this = this;\n\n\t        var previous = this.pattern.slice(0);\n\t        this.create(v, this.columns);\n\t        this.iterate(function (r, c) {\n\t          if (previous[r] && previous[r][c]) {\n\t            _this.pattern[r][c] = previous[r][c];\n\t          }\n\t        });\n\t      }\n\t    },\n\t    columns: {\n\t      get: function () {\n\t        return this.pattern[0].length;\n\t      },\n\t      set: function (v) {\n\t        var _this = this;\n\n\t        var previous = this.pattern.slice(0);\n\t        this.create(this.rows, v);\n\t        this.iterate(function (r, c) {\n\t          if (previous[r] && previous[r][c]) {\n\t            _this.pattern[r][c] = previous[r][c];\n\t          }\n\t        });\n\t      }\n\t    }\n\t  });\n\n\t  return Matrix;\n\t})();\n\n\tmodule.exports = Matrix;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar math = _interopRequire(__webpack_require__(5));\n\n\tvar Drunk = _interopRequire(__webpack_require__(27));\n\n\tvar Sequence = (function () {\n\t  function Sequence() {\n\t    var sequence = arguments[0] === undefined ? [0, 10, 20, 30] : arguments[0];\n\t    var mode = arguments[1] === undefined ? \"up\" : arguments[1];\n\t    var position = arguments[2] === undefined ? false : arguments[2];\n\n\t    _classCallCheck(this, Sequence);\n\n\t    this.values = sequence;\n\t    if (!Array.isArray(this.values)) {\n\t      this.values = [this.values];\n\t    }\n\t    this._mode = mode;\n\t    this.position = position;\n\n\t    this.drunkWalk = new Drunk(0, this.values.length - 1);\n\n\t    this.startValues = {\n\t      up: 0,\n\t      down: this.values.length - 1,\n\t      drunk: ~ ~(this.values.length / 2),\n\t      random: math.ri(this.values.length)\n\t    };\n\n\t    if (this.position !== false) {\n\t      this.next = this[this._mode];\n\t    } else {\n\t      this.next = this.first;\n\t    }\n\t  }\n\n\t  _createClass(Sequence, {\n\t    mode: {\n\t      get: function () {\n\t        return this._mode;\n\t      },\n\t      set: function (mode) {\n\t        if (!(mode === \"up\" || mode === \"down\" || mode === \"random\" || mode === \"drunk\")) {\n\t          console.error(\"The only modes currently allowed are: up, down, random, drunk\");\n\t          return;\n\t        }\n\t        this._mode = mode;\n\t        if (this.position) {\n\t          this.next = this[this._mode];\n\t        }\n\t      }\n\t    },\n\t    value: {\n\t      get: function () {\n\t        return this.values[this.position];\n\t      },\n\t      set: function (v) {\n\t        this.position = this.values.indexOf(v);\n\t      }\n\t    },\n\t    first: {\n\t      value: function first() {\n\t        if (this.position !== false) {\n\t          this.next = this[this._mode];\n\t          return this.next();\n\t        }\n\t        this.position = this.startValues[this._mode];\n\t        this.next = this[this._mode];\n\t        return this.value;\n\t      }\n\t    },\n\t    up: {\n\t      value: function up() {\n\t        this.position++;\n\t        this.position %= this.values.length;\n\t        return this.value;\n\t      }\n\t    },\n\t    down: {\n\t      value: function down() {\n\t        this.position--;\n\t        if (this.position < 0) {\n\t          this.position = (this.position + this.values.length) % this.values.length;\n\t        }\n\t        return this.value;\n\t      }\n\t    },\n\t    random: {\n\t      value: function random() {\n\t        this.position = math.ri(0, this.values.length);\n\t        return this.value;\n\t      }\n\t    },\n\t    drunk: {\n\t      value: function drunk() {\n\t        this.drunkWalk.max = this.values.length;\n\t        this.drunkWalk.value = this.position;\n\t        this.position = this.drunkWalk.next();\n\t        return this.value;\n\t      }\n\n\t      /* future methods\r\n\t      .group(start,stop) -- outputs a group of n items from the list, with wrapping\r\n\t      .loop(start,stop) -- confines sequencing to a subset of the values\r\n\t          (could even have a distinction between .originalValues and the array of values being used)\r\n\t      */\n\n\t    }\n\t  });\n\n\t  return Sequence;\n\t})();\n\n\tmodule.exports = Sequence;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar math = _interopRequire(__webpack_require__(5));\n\n\tvar Drunk = (function () {\n\t    function Drunk() {\n\t        var min = arguments[0] === undefined ? 0 : arguments[0];\n\t        var max = arguments[1] === undefined ? 9 : arguments[1];\n\t        var value = arguments[2] === undefined ? 0 : arguments[2];\n\t        var increment = arguments[3] === undefined ? 1 : arguments[3];\n\t        var loop = arguments[4] === undefined ? false : arguments[4];\n\n\t        _classCallCheck(this, Drunk);\n\n\t        this.min = min;\n\t        this.max = max;\n\t        this.value = value;\n\t        this.increment = increment;\n\t        this.loop = loop;\n\t    }\n\n\t    _createClass(Drunk, {\n\t        next: {\n\t            value: function next() {\n\t                this.value += math.pick(-1 * this.increment, this.increment);\n\t                if (this.value > this.max) {\n\t                    if (this.loop) {\n\t                        this.value = this.min;\n\t                    } else {\n\t                        this.value = this.max - this.increment;\n\t                    }\n\t                }\n\n\t                if (this.value < this.min) {\n\t                    if (this.loop) {\n\t                        this.value = this.max;\n\t                    } else {\n\t                        this.value = this.min + this.increment;\n\t                    }\n\t                }\n\t                return this.value;\n\t            }\n\t        }\n\t    });\n\n\t    return Drunk;\n\t})();\n\n\tmodule.exports = Drunk;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar math = _interopRequire(__webpack_require__(5));\n\n\tvar Drunk = _interopRequire(__webpack_require__(27));\n\n\tvar Counter = (function () {\n\t    function Counter() {\n\t        var min = arguments[0] === undefined ? 0 : arguments[0];\n\t        var max = arguments[1] === undefined ? 10 : arguments[1];\n\t        var mode = arguments[2] === undefined ? \"up\" : arguments[2];\n\t        var value = arguments[3] === undefined ? false : arguments[3];\n\n\t        _classCallCheck(this, Counter);\n\n\t        this.min = min;\n\t        this.max = max;\n\t        this.value = value;\n\t        this.mode = mode;\n\t        this.drunkWalk = new Drunk(this.min, this.max);\n\t        if (this.value !== false) {\n\t            this.next = this[this._mode];\n\t        } else {\n\t            this.next = this.first;\n\t        }\n\t    }\n\n\t    _createClass(Counter, {\n\t        mode: {\n\t            set: function (mode) {\n\t                if (!(mode === \"up\" || mode === \"down\" || mode === \"random\" || mode === \"drunk\")) {\n\t                    console.error(\"The only modes currently allowed are: up, down, random, drunk\");\n\t                    return;\n\t                }\n\t                this._mode = mode;\n\t                if (this.value) {\n\t                    this.next = this[this._mode];\n\t                }\n\t            },\n\t            get: function () {\n\t                return this._mode;\n\t            }\n\t        },\n\t        first: {\n\t            value: function first() {\n\t                if (this.value !== false) {\n\t                    this.next = this[this._mode];\n\t                    return this.next();\n\t                }\n\t                this.startValues = {\n\t                    up: this.min,\n\t                    down: this.max,\n\t                    drunk: ~ ~math.average(this.min, this.max),\n\t                    random: math.ri(this.min, this.max)\n\t                };\n\t                this.value = this.startValues[this._mode];\n\t                this.next = this[this._mode];\n\t                return this.value;\n\t            }\n\t        },\n\t        up: {\n\t            value: function up() {\n\t                this.value++;\n\t                if (this.value >= this.max) {\n\t                    this.value = this.min;\n\t                }\n\t                return this.value;\n\t            }\n\t        },\n\t        down: {\n\t            value: function down() {\n\t                this.value--;\n\t                if (this.value < this.min) {\n\t                    this.value = this.max;\n\t                }\n\t                return this.value;\n\t            }\n\t        },\n\t        random: {\n\t            value: function random() {\n\t                this.value = math.ri(this.min, this.max);\n\t                return this.value;\n\t            }\n\t        },\n\t        drunk: {\n\t            value: function drunk() {\n\t                this.drunkWalk.min = this.min;\n\t                this.drunkWalk.max = this.max;\n\t                this.drunkWalk.value = this.value;\n\t                this.value = this.drunkWalk.next();\n\t                return this.value;\n\t            }\n\t        }\n\t    });\n\n\t    return Counter;\n\t})();\n\n\tmodule.exports = Counter;\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar svg = __webpack_require__(4);\n\tvar math = __webpack_require__(5);\n\tvar Interface = __webpack_require__(6);\n\tvar Step = __webpack_require__(11);\n\n\tvar Interaction = _interopRequireWildcard(__webpack_require__(12));\n\n\t/**\n\t* Pan2D\n\t*\n\t* @description Interface for moving a sound around an array of speakers. Speaker locations can be customized. The interface calculates the closeness of the sound source to each speaker and returns that distance as a numeric value.\n\t*\n\t* @demo <span nexus-ui=\"pan2D\"></span>\n\t*\n\t* @example\n\t* var pan2d = new Nexus.Pan2d('#target')\n\t*\n\t* @example\n\t* var pan2d = new Nexus.Pan2D('#target',{\n\t*   'size': [200,200],\n\t*   'range': 0.5,  // detection radius of each speaker\n\t*   'mode': 'absolute',   // 'absolute' or 'relative' sound movement\n\t*   'speakers': [  // the speaker [x,y] positions\n\t*       [0.5,0.2],\n\t*       [0.75,0.25],\n\t*       [0.8,0.5],\n\t*       [0.75,0.75],\n\t*       [0.5,0.8],\n\t*       [0.25,0.75]\n\t*       [0.2,0.5],\n\t*       [0.25,0.25]\n\t*   ]\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the \"source\" node's position changes. <br>\n\t* The event data is an array of the amplitudes (0-1), representing the level of each speaker (as calculated by its distance to the audio source).\n\t*\n\t* @outputexample\n\t* pan2d.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*/\n\n\tvar Pan2D = (function (_Interface) {\n\t  function Pan2D() {\n\t    _classCallCheck(this, Pan2D);\n\n\t    var options = [\"range\"];\n\n\t    var defaults = {\n\t      size: [200, 200],\n\t      range: 0.5,\n\t      mode: \"absolute\",\n\t      speakers: [[0.5, 0.2], [0.75, 0.25], [0.8, 0.5], [0.75, 0.75], [0.5, 0.8], [0.25, 0.75], [0.2, 0.5], [0.25, 0.25]]\n\t    };\n\n\t    _get(Object.getPrototypeOf(Pan2D.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this.value = {\n\t      x: new Step(0, 1, 0, 0.5),\n\t      y: new Step(0, 1, 0, 0.5)\n\t    };\n\n\t    /**\n\t    Absolute or relative mouse interaction. In \"absolute\" mode, the source node will jump to your mouse position on mouse click. In \"relative\" mode, it does not.\n\t    */\n\t    this.mode = this.settings.mode;\n\n\t    this.position = {\n\t      x: new Interaction.Handle(this.mode, \"horizontal\", [0, this.width], [this.height, 0]),\n\t      y: new Interaction.Handle(this.mode, \"vertical\", [0, this.width], [this.height, 0])\n\t    };\n\t    this.position.x.value = this.value.x.normalized;\n\t    this.position.y.value = this.value.y.normalized;\n\n\t    /**\n\t    An array of speaker locations. Update this with .moveSpeaker() or .moveAllSpeakers()\n\t    */\n\t    this.speakers = this.settings.speakers;\n\n\t    /**\n\t    Rewrite: The maximum distance from a speaker that the source node can be for it to be heard from that speaker. A low range (0.1) will result in speakers only playing when the sound is very close it. Default is 0.5 (half of the interface).\n\t    */\n\t    this.range = this.settings.range;\n\n\t    /**\n\t    The current levels for each speaker. This is calculated when a source node or speaker node is moved through interaction or programatically.\n\t    */\n\t    this.levels = [];\n\n\t    this.init();\n\n\t    this.calculateLevels();\n\t    this.render();\n\t  }\n\n\t  _inherits(Pan2D, _Interface);\n\n\t  _createClass(Pan2D, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\n\t        this.knob = svg.create(\"circle\");\n\n\t        this.element.appendChild(this.knob);\n\n\t        // add speakers\n\t        this.speakerElements = [];\n\n\t        for (var i = 0; i < this.speakers.length; i++) {\n\t          var speakerElement = svg.create(\"circle\");\n\n\t          this.element.appendChild(speakerElement);\n\n\t          this.speakerElements.push(speakerElement);\n\t        }\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        this._minDimension = Math.min(this.width, this.height);\n\n\t        this.knobRadius = {\n\t          off: ~ ~(this._minDimension / 100) * 3 + 5 };\n\t        this.knobRadius.on = this.knobRadius.off * 2;\n\n\t        this.knob.setAttribute(\"cx\", this.width / 2);\n\t        this.knob.setAttribute(\"cy\", this.height / 2);\n\t        this.knob.setAttribute(\"r\", this.knobRadius.off);\n\n\t        for (var i = 0; i < this.speakers.length; i++) {\n\t          var speakerElement = this.speakerElements[i];\n\t          var speaker = this.speakers[i];\n\t          speakerElement.setAttribute(\"cx\", speaker[0] * this.width);\n\t          speakerElement.setAttribute(\"cy\", speaker[1] * this.height);\n\t          speakerElement.setAttribute(\"r\", this._minDimension / 20 + 5);\n\t          speakerElement.setAttribute(\"fill-opacity\", \"0\");\n\t        }\n\n\t        this.position.x.resize([0, this.width], [this.height, 0]);\n\t        this.position.y.resize([0, this.width], [this.height, 0]);\n\n\t        // next, need to\n\t        // resize positions\n\t        // calculate speaker distances\n\t        this.calculateLevels();\n\t        this.render();\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\n\t        this.element.style.backgroundColor = this.colors.fill;\n\t        this.knob.setAttribute(\"fill\", this.colors.mediumLight);\n\n\t        for (var i = 0; i < this.speakers.length; i++) {\n\t          var speakerElement = this.speakerElements[i];\n\t          speakerElement.setAttribute(\"fill\", this.colors.accent);\n\t          speakerElement.setAttribute(\"stroke\", this.colors.accent);\n\t        }\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        this.knobCoordinates = {\n\t          x: this.value.x.normalized * this.width,\n\t          y: this.height - this.value.y.normalized * this.height\n\t        };\n\n\t        this.knob.setAttribute(\"cx\", this.knobCoordinates.x);\n\t        this.knob.setAttribute(\"cy\", this.knobCoordinates.y);\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.position.x.anchor = this.mouse;\n\t        this.position.y.anchor = this.mouse;\n\t        this.move();\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        if (this.clicked) {\n\t          this.position.x.update(this.mouse);\n\t          this.position.y.update(this.mouse);\n\t          // position.x and position.y are normalized\n\t          // so are the levels\n\t          // likely don't need this.value at all -- only used for drawing\n\t          // not going to be a 'step' or 'min' and 'max' in this one.\n\t          this.calculateLevels();\n\t          this.emit(\"change\", this.levels);\n\t          this.render();\n\t        }\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {\n\t        this.render();\n\t      }\n\t    },\n\t    normalized: {\n\t      get: function () {\n\t        return {\n\t          x: this.value.x.normalized,\n\t          y: this.value.y.normalized\n\t        };\n\t      }\n\t    },\n\t    calculateLevels: {\n\t      value: function calculateLevels() {\n\t        var _this = this;\n\n\t        this.value.x.updateNormal(this.position.x.value);\n\t        this.value.y.updateNormal(this.position.y.value);\n\t        this.levels = [];\n\t        this.speakers.forEach(function (s, i) {\n\t          var distance = math.distance(s[0] * _this.width, s[1] * _this.height, _this.position.x.value * _this.width, (1 - _this.position.y.value) * _this.height);\n\t          var level = math.clip(1 - distance / (_this.range * _this.width), 0, 1);\n\t          _this.levels.push(level);\n\t          _this.speakerElements[i].setAttribute(\"fill-opacity\", level);\n\t        });\n\t      }\n\t    },\n\t    moveSource: {\n\n\t      /**\n\t      Move the audio source node and trigger the output event.\n\t      @param x {number} New x location, normalized 0-1\n\t      @param y {number} New y location, normalized 0-1\n\t      */\n\n\t      value: function moveSource(x, y) {\n\t        var location = {\n\t          x: x * this.width,\n\t          y: y * this.height\n\t        };\n\t        this.position.x.update(location);\n\t        this.position.y.update(location);\n\t        this.calculateLevels();\n\t        this.emit(\"change\", this.levels);\n\t        this.render();\n\t      }\n\t    },\n\t    moveSpeaker: {\n\n\t      /**\n\t      Move a speaker node and trigger the output event.\n\t      @param index {number} Index of the speaker to move\n\t      @param x {number} New x location, normalized 0-1\n\t      @param y {number} New y location, normalized 0-1\n\t      */\n\n\t      value: function moveSpeaker(index, x, y) {\n\n\t        this.speakers[index] = [x, y];\n\t        this.speakerElements[index].setAttribute(\"cx\", x * this.width);\n\t        this.speakerElements[index].setAttribute(\"cy\", y * this.height);\n\t        this.calculateLevels();\n\t        this.emit(\"change\", this.levels);\n\t        this.render();\n\t      }\n\n\t      /**\n\t      Set all speaker locations\n\t      @param locations {Array} Array of speaker locations. Each item in the array should be an array of normalized x and y coordinates.\n\t       setSpeakers(locations) {\n\t       }\n\t      */\n\n\t    }\n\t  });\n\n\t  return Pan2D;\n\t})(Interface);\n\n\tmodule.exports = Pan2D;\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar math = __webpack_require__(5);\n\tvar svg = __webpack_require__(4);\n\tvar Interface = __webpack_require__(6);\n\n\t/**\n\t* Tilt\n\t*\n\t* @description Device tilt sensor with 2 or 3 axes (depending on your device and browser).\n\t*\n\t* @demo <span nexus-ui='tilt'></span>\n\t*\n\t* @example\n\t* var tilt = new Nexus.Tilt('#target')\n\t*\n\t* @output\n\t* change\n\t* Fires at a regular interval, as long as this interface is active (see the interface's <i>.active</i> property)<br>\n\t* The event data is an <i>object</i> containing x (number) and y (number) properties which represent the current tilt state of the device.\n\t*\n\t* @outputexample\n\t* tilt.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*\n\t*/\n\n\tvar Tilt = (function (_Interface) {\n\t  function Tilt() {\n\t    _classCallCheck(this, Tilt);\n\n\t    var options = [\"value\"];\n\n\t    var defaults = {\n\t      size: [80, 80]\n\t    };\n\n\t    _get(Object.getPrototypeOf(Tilt.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this._active = true;\n\n\t    this.init();\n\n\t    // add event listener for device orientation\n\n\t    this.boundUpdate = this.update.bind(this);\n\t    //\tthis.boundMozTilt = this.mozTilt.bind(this)\n\n\t    if (window.DeviceOrientationEvent) {\n\t      this.orientationListener = window.addEventListener(\"deviceorientation\", this.boundUpdate, false);\n\t    } else {\n\t      this._active = false;\n\t      this.colorInterface();\n\t    }\n\n\t    /*else if (window.OrientationEvent) {\n\t    //\t  \twindow.addEventListener('MozOrientation', this.boundMozTilt, false);\n\t    } else {\n\t    console.log('Not supported on your device or browser.');\n\t    } */\n\t  }\n\n\t  _inherits(Tilt, _Interface);\n\n\t  _createClass(Tilt, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\n\t        this.title = svg.create(\"text\");\n\t        this.circleX = svg.create(\"circle\");\n\t        this.circleY = svg.create(\"circle\");\n\t        this.circleZ = svg.create(\"circle\");\n\n\t        this.barX = svg.create(\"path\");\n\t        this.barY = svg.create(\"path\");\n\t        this.barZ = svg.create(\"path\");\n\n\t        this.barX2 = svg.create(\"path\");\n\t        this.barY2 = svg.create(\"path\");\n\t        this.barZ2 = svg.create(\"path\");\n\n\t        this.barX.setAttribute(\"opacity\", \"0.8\");\n\t        this.barY.setAttribute(\"opacity\", \"0.8\");\n\t        this.barZ.setAttribute(\"opacity\", \"0.8\");\n\t        this.barX2.setAttribute(\"opacity\", \"0.8\");\n\t        this.barY2.setAttribute(\"opacity\", \"0.8\");\n\t        this.barZ2.setAttribute(\"opacity\", \"0.8\");\n\n\t        this.circleX.setAttribute(\"cx\", this.width * 3 / 12);\n\t        this.circleX.setAttribute(\"cy\", this.height * 3 / 4);\n\t        this.circleX.setAttribute(\"r\", this.height / 10);\n\t        this.circleX.setAttribute(\"opacity\", \"0.4\");\n\n\t        this.circleY.setAttribute(\"cx\", this.width * 6 / 12);\n\t        this.circleY.setAttribute(\"cy\", this.height * 3 / 4);\n\t        this.circleY.setAttribute(\"r\", this.height / 10);\n\t        this.circleY.setAttribute(\"opacity\", \"0.4\");\n\n\t        this.circleZ.setAttribute(\"cx\", this.width * 9 / 12);\n\t        this.circleZ.setAttribute(\"cy\", this.height * 3 / 4);\n\t        this.circleZ.setAttribute(\"r\", this.height / 10);\n\t        this.circleZ.setAttribute(\"opacity\", \"0.4\");\n\n\t        this.barX.setAttribute(\"stroke-width\", Math.round(this.height / 30));\n\t        this.barY.setAttribute(\"stroke-width\", Math.round(this.height / 30));\n\t        this.barZ.setAttribute(\"stroke-width\", Math.round(this.height / 30));\n\n\t        this.barX.setAttribute(\"fill\", \"none\");\n\t        this.barY.setAttribute(\"fill\", \"none\");\n\t        this.barZ.setAttribute(\"fill\", \"none\");\n\n\t        this.barX2.setAttribute(\"stroke-width\", Math.round(this.height / 30));\n\t        this.barY2.setAttribute(\"stroke-width\", Math.round(this.height / 30));\n\t        this.barZ2.setAttribute(\"stroke-width\", Math.round(this.height / 30));\n\n\t        this.barX2.setAttribute(\"fill\", \"none\");\n\t        this.barY2.setAttribute(\"fill\", \"none\");\n\t        this.barZ2.setAttribute(\"fill\", \"none\");\n\n\t        this.title.setAttribute(\"x\", this.width / 2);\n\t        this.title.setAttribute(\"y\", this.height / 3 + 7);\n\t        this.title.setAttribute(\"font-size\", \"15px\");\n\t        this.title.setAttribute(\"font-weight\", \"bold\");\n\t        this.title.setAttribute(\"letter-spacing\", \"2px\");\n\t        this.title.setAttribute(\"opacity\", \"0.7\");\n\t        this.title.setAttribute(\"text-anchor\", \"middle\");\n\t        this.title.textContent = \"TILT\";\n\n\t        this.element.appendChild(this.circleX);\n\t        this.element.appendChild(this.circleY);\n\t        this.element.appendChild(this.circleZ);\n\n\t        this.element.appendChild(this.barX);\n\t        this.element.appendChild(this.barY);\n\t        this.element.appendChild(this.barZ);\n\n\t        this.element.appendChild(this.barX2);\n\t        this.element.appendChild(this.barY2);\n\t        this.element.appendChild(this.barZ2);\n\n\t        this.element.appendChild(this.title);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\n\t        if (this._active) {\n\t          this.element.style.backgroundColor = this.colors.accent;\n\t          this.circleX.setAttribute(\"fill\", this.colors.light);\n\t          this.circleY.setAttribute(\"fill\", this.colors.light);\n\t          this.circleZ.setAttribute(\"fill\", this.colors.light);\n\t          this.circleX.setAttribute(\"stroke\", this.colors.light);\n\t          this.circleY.setAttribute(\"stroke\", this.colors.light);\n\t          this.circleZ.setAttribute(\"stroke\", this.colors.light);\n\t          this.barX.setAttribute(\"stroke\", this.colors.light);\n\t          this.barY.setAttribute(\"stroke\", this.colors.light);\n\t          this.barZ.setAttribute(\"stroke\", this.colors.light);\n\t          this.barX2.setAttribute(\"stroke\", this.colors.light);\n\t          this.barY2.setAttribute(\"stroke\", this.colors.light);\n\t          this.barZ2.setAttribute(\"stroke\", this.colors.light);\n\t          this.title.setAttribute(\"fill\", this.colors.light);\n\t        } else {\n\t          this.element.style.backgroundColor = this.colors.fill;\n\t          this.circleX.setAttribute(\"fill\", this.colors.mediumLight);\n\t          this.circleY.setAttribute(\"fill\", this.colors.mediumLight);\n\t          this.circleZ.setAttribute(\"fill\", this.colors.mediumLight);\n\t          this.circleX.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.circleY.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.circleZ.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.barX.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.barY.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.barZ.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.barX2.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.barY2.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.barZ2.setAttribute(\"stroke\", this.colors.mediumLight);\n\t          this.title.setAttribute(\"fill\", this.colors.mediumLight);\n\t        }\n\t      }\n\t    },\n\t    update: {\n\t      value: function update(v) {\n\t        if (this._active) {\n\n\t          var y = v.beta;\n\t          var x = v.gamma;\n\t          var z = v.alpha;\n\n\t          // take the original -90 to 90 scale and normalize it 0-1\n\t          x = math.scale(x, -90, 90, 0, 1);\n\t          y = math.scale(y, -90, 90, 0, 1);\n\t          z = math.scale(z, 0, 360, 0, 1);\n\n\t          var handlePoints = {\n\t            start: Math.PI * 1.5,\n\t            end: math.clip(math.scale(x, 0, 0.5, Math.PI * 1.5, Math.PI * 0.5), Math.PI * 0.5, Math.PI * 1.5)\n\t          };\n\t          var handle2Points = {\n\t            start: Math.PI * 2.5,\n\t            end: math.clip(math.scale(x, 0.5, 1, Math.PI * 2.5, Math.PI * 1.5), Math.PI * 1.5, Math.PI * 2.5)\n\t          };\n\n\t          var handlePath = svg.arc(this.circleX.cx.baseVal.value, this.circleX.cy.baseVal.value, this.circleX.r.baseVal.value, handlePoints.start, handlePoints.end);\n\t          var handle2Path = svg.arc(this.circleX.cx.baseVal.value, this.circleX.cy.baseVal.value, this.circleX.r.baseVal.value, handle2Points.start, handle2Points.end);\n\n\t          this.barX.setAttribute(\"d\", handlePath);\n\t          this.barX2.setAttribute(\"d\", handle2Path);\n\n\t          handlePoints = {\n\t            start: Math.PI * 1.5,\n\t            end: math.clip(math.scale(y, 0, 0.5, Math.PI * 1.5, Math.PI * 0.5), Math.PI * 0.5, Math.PI * 1.5)\n\t          };\n\t          handle2Points = {\n\t            start: Math.PI * 2.5,\n\t            end: math.clip(math.scale(y, 0.5, 1, Math.PI * 2.5, Math.PI * 1.5), Math.PI * 1.5, Math.PI * 2.5)\n\t          };\n\n\t          handlePath = svg.arc(this.circleY.cx.baseVal.value, this.circleY.cy.baseVal.value, this.circleY.r.baseVal.value, handlePoints.start, handlePoints.end);\n\t          handle2Path = svg.arc(this.circleY.cx.baseVal.value, this.circleY.cy.baseVal.value, this.circleY.r.baseVal.value, handle2Points.start, handle2Points.end);\n\n\t          this.barY.setAttribute(\"d\", handlePath);\n\t          this.barY2.setAttribute(\"d\", handle2Path);\n\n\t          handlePoints = {\n\t            start: Math.PI * 1.5,\n\t            end: math.clip(math.scale(z, 0, 0.5, Math.PI * 1.5, Math.PI * 0.5), Math.PI * 0.5, Math.PI * 1.5)\n\t          };\n\t          handle2Points = {\n\t            start: Math.PI * 2.5,\n\t            end: math.clip(math.scale(z, 0.5, 1, Math.PI * 2.5, Math.PI * 1.5), Math.PI * 1.5, Math.PI * 2.5)\n\t          };\n\n\t          handlePath = svg.arc(this.circleZ.cx.baseVal.value, this.circleZ.cy.baseVal.value, this.circleZ.r.baseVal.value, handlePoints.start, handlePoints.end);\n\t          handle2Path = svg.arc(this.circleZ.cx.baseVal.value, this.circleZ.cy.baseVal.value, this.circleZ.r.baseVal.value, handle2Points.start, handle2Points.end);\n\n\t          this.barZ.setAttribute(\"d\", handlePath);\n\t          this.barZ2.setAttribute(\"d\", handle2Path);\n\n\t          /*\n\t           let pointsX = {\n\t            start: 0,\n\t            end: math.scale( x, 0, 1, 0, Math.PI*2 )\n\t          };\n\t          //  console.log(this.circleX.cx.baseVal.value);\n\t           let pathX = svg.arc(this.circleX.cx.baseVal.value, this.circleX.cy.baseVal.value, this.circleX.r.baseVal.value*2, pointsX.start, pointsX.end);\n\t           this.barX.setAttribute('d',pathX); */\n\n\t          //this.textH.textContent = math.prune(x,2);\n\t          //this.textV.textContent = math.prune(y,2);\n\t          //\n\t          //  this.circleX.setAttribute('opacity',x);\n\t          //  this.circleY.setAttribute('opacity',y);\n\t          //  this.circleZ.setAttribute('opacity',z);\n\n\t          this.emit(\"change\", {\n\t            x: x,\n\t            y: y,\n\t            z: z\n\t          });\n\t        }\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        if (window.DeviceOrientationEvent) {\n\t          this.active = !this.active;\n\t        }\n\t      }\n\t    },\n\t    active: {\n\n\t      /**\n\t      Whether the interface is on (emitting values) or off (paused & not emitting values). Setting this property will update it.\n\t      @type {boolean}\n\t      */\n\n\t      get: function () {\n\t        return this._active;\n\t      },\n\t      set: function (on) {\n\t        this._active = on;\n\t        this.colorInterface();\n\t      }\n\t    },\n\t    customDestroy: {\n\t      value: function customDestroy() {\n\t        window.removeEventListener(\"deviceorientation\", this.boundUpdate, false);\n\t      }\n\t    }\n\t  });\n\n\t  return Tilt;\n\t})(Interface);\n\n\tmodule.exports = Tilt;\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar dom = __webpack_require__(7);\n\tvar math = __webpack_require__(5);\n\tvar Interface = __webpack_require__(6);\n\tvar SliderTemplate = __webpack_require__(32);\n\tvar touch = __webpack_require__(9);\n\n\tvar SingleSlider = (function (_SliderTemplate) {\n\t  function SingleSlider() {\n\t    var _this = this;\n\n\t    _classCallCheck(this, SingleSlider);\n\n\t    var options = [\"scale\", \"value\"];\n\n\t    var defaults = {\n\t      size: [120, 20],\n\t      orientation: \"vertical\",\n\t      mode: \"absolute\",\n\t      scale: [0, 1],\n\t      step: 0,\n\t      value: 0,\n\t      hasKnob: true\n\t    };\n\n\t    _get(Object.getPrototypeOf(SingleSlider.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    /* events */\n\n\t    if (!touch.exists) {\n\n\t      this.click = function () {\n\t        _this.multislider.interacting = true;\n\t        _this.multislider.interpolation = {\n\t          index: _this.index,\n\t          value: _this.value\n\t        };\n\t        _this.down();\n\t        _this.multislider.values[_this.index] = _this.value;\n\t      };\n\t      this.element.addEventListener(\"mouseover\", function (e) {\n\t        if (_this.multislider.interacting) {\n\t          if (!_this.offset) {\n\t            _this.offset = dom.findPosition(_this.element);\n\t          }\n\t          _this.mouse = dom.locateMouse(e, _this.offset);\n\t          _this.down();\n\t          _this.multislider.values[_this.index] = _this.value;\n\t          if (_this.multislider.interpolation) {\n\t            var distance = Math.abs(_this.multislider.interpolation.index - _this.index);\n\t            if (distance > 1) {\n\t              var low = Math.min(_this.multislider.interpolation.index, _this.index);\n\t              var high = Math.max(_this.multislider.interpolation.index, _this.index);\n\t              var lowValue = _this.multislider.sliders[low].value;\n\t              var highValue = _this.multislider.sliders[high].value;\n\t              for (var i = low; i < high; i++) {\n\t                _this.multislider.sliders[i].value = math.interp((i - low) / distance, lowValue, highValue);\n\t              }\n\t            }\n\t          }\n\n\t          _this.multislider.interpolation = {\n\t            index: _this.index,\n\t            value: _this.value\n\t          };\n\t        }\n\t      });\n\n\t      this.move = function () {};\n\t      this.element.addEventListener(\"mousemove\", function (e) {\n\t        if (_this.multislider.interacting) {\n\t          if (!_this.offset) {\n\t            _this.offset = dom.findPosition(_this.element);\n\t          }\n\t          _this.mouse = dom.locateMouse(e, _this.offset);\n\t          _this.slide();\n\t          _this.multislider.values[_this.index] = _this.value;\n\t        }\n\t      });\n\n\t      this.release = function () {\n\t        _this.multislider.interacting = false;\n\t        _this.multislider.interpolation = false;\n\t      };\n\t      this.element.addEventListener(\"mouseup\", function () {\n\t        if (_this.multislider.interacting) {\n\t          _this.up();\n\t          _this.multislider.interpolation = false;\n\t          _this.multislider.values[_this.index] = _this.value;\n\t        }\n\t      });\n\t      this.element.addEventListener(\"mouseout\", function () {\n\t        if (_this.multislider.interacting) {\n\t          _this.up();\n\t          _this.multislider.values[_this.index] = _this.value;\n\t        }\n\t      });\n\t    }\n\n\t    this.customStyle();\n\t  }\n\n\t  _inherits(SingleSlider, _SliderTemplate);\n\n\t  _createClass(SingleSlider, {\n\t    customStyle: {\n\t      value: function customStyle() {\n\n\t        /* style changes */\n\n\t        this.bar.setAttribute(\"x\", 0);\n\t        this.bar.setAttribute(\"transform\", \"translate(0,0)\");\n\t        this.bar.setAttribute(\"rx\", 0); // corner radius\n\t        this.bar.setAttribute(\"ry\", 0);\n\t        this.bar.setAttribute(\"width\", this.width);\n\t        this.bar.setAttribute(\"height\", this.height);\n\n\t        this.fillbar.setAttribute(\"x\", 0);\n\t        this.fillbar.setAttribute(\"transform\", \"translate(0,0)\");\n\t        this.fillbar.setAttribute(\"rx\", 0); // corner radius\n\t        this.fillbar.setAttribute(\"ry\", 0);\n\t        this.fillbar.setAttribute(\"width\", this.width);\n\t        this.fillbar.setAttribute(\"height\", this.height);\n\t      }\n\t    }\n\t  });\n\n\t  return SingleSlider;\n\t})(SliderTemplate);\n\n\t/**\n\t* Multislider\n\t*\n\t* @description Multislider\n\t*\n\t* @demo <span nexus-ui=\"multislider\"></span>\n\t*\n\t* @example\n\t* var multislider = new Nexus.Multislider('#target')\n\t*\n\t* @example\n\t* var multislider = new Nexus.Multislider('#target',{\n\t*  'size': [200,100],\n\t*  'numberOfSliders': 5,\n\t*  'min': 0,\n\t*  'max': 1,\n\t*  'step': 0,\n\t*  'values': [0.7,0.7,0.7,0.7,0.7]\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* The event data an object containing <i>index</i> and <i>value</i> properties\n\t*\n\t* @outputexample\n\t* multislider.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*/\n\n\t/*\n\tProperties\n\t.values\n\n\t*/\n\n\tvar Multislider = (function (_Interface) {\n\t  function Multislider() {\n\t    _classCallCheck(this, Multislider);\n\n\t    var options = [\"value\"];\n\n\t    var defaults = {\n\t      size: [200, 100],\n\t      numberOfSliders: 5,\n\t      min: 0,\n\t      max: 1,\n\t      step: 0,\n\t      values: [0.7, 0.7, 0.7, 0.7, 0.7]\n\t    };\n\n\t    _get(Object.getPrototypeOf(Multislider.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this._numberOfSliders = this.settings.numberOfSliders;\n\t    this.values = this.settings.values;\n\n\t    this.sliders = [];\n\n\t    this.interacting = false;\n\n\t    this.init();\n\t  }\n\n\t  _inherits(Multislider, _Interface);\n\n\t  _createClass(Multislider, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.element = document.createElement(\"div\");\n\t        this.parent.appendChild(this.element);\n\t      }\n\t    },\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\n\t        var min = this.settings.min;\n\t        var max = this.settings.max;\n\t        var step = this.settings.step;\n\n\t        if (this.sliders.length) {\n\t          min = this.sliders[0].min;\n\t          max = this.sliders[0].max;\n\t          step = this.sliders[0].step;\n\t        }\n\n\t        this.sliders = [];\n\n\t        for (var i = 0; i < this._numberOfSliders; i++) {\n\t          var container = document.createElement(\"span\");\n\n\t          var slider = new SingleSlider(container, {\n\t            scale: [min, max],\n\t            step: step,\n\t            mode: \"absolute\",\n\t            orientation: \"vertical\",\n\t            value: this.values[i],\n\t            hasKnob: false,\n\t            component: true }, this.update.bind(this, i));\n\t          slider.multislider = this;\n\n\t          slider.index = i;\n\t          if (touch.exists) {\n\t            slider.bar.index = i;\n\t            slider.fillbar.index = i;\n\t            slider.preClick = slider.preMove = slider.preRelease = function () {};\n\t            slider.click = slider.move = slider.release = function () {};\n\t            slider.preTouch = slider.preTouchMove = slider.preTouchRelease = function () {};\n\t            slider.touch = slider.touchMove = slider.touchRelease = function () {};\n\t          }\n\n\t          this.sliders.push(slider);\n\t          this.element.appendChild(container);\n\t        }\n\t        if (touch.exists) {\n\t          this.addTouchListeners();\n\t        }\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        for (var i = 0; i < this.sliders.length; i++) {\n\t          this.sliders[i].colors = this.colors;\n\t          this.sliders[i].colorInterface();\n\t        }\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        var sliderWidth = this.width / this.sliders.length;\n\t        var sliderHeight = this.height;\n\n\t        for (var i = 0; i < this.sliders.length; i++) {\n\t          this.sliders[i].resize(sliderWidth, sliderHeight);\n\t          this.sliders[i].customStyle();\n\t        }\n\t      }\n\t    },\n\t    update: {\n\t      value: function update(index, value) {\n\t        this.emit(\"change\", {\n\t          index: index,\n\t          value: value\n\t        });\n\t      }\n\t    },\n\t    addTouchListeners: {\n\t      value: function addTouchListeners() {\n\t        var _this = this;\n\n\t        this.preClick = this.preMove = this.preRelease = function () {};\n\t        this.click = this.move = this.release = function () {};\n\t        this.preTouch = this.preTouchMove = this.preTouchRelease = function () {};\n\t        this.touch = this.touchMove = this.touchRelease = function () {};\n\n\t        this.currentElement = false;\n\n\t        this.element.addEventListener(\"touchstart\", function (e) {\n\t          var element = document.elementFromPoint(e.targetTouches[0].clientX, e.targetTouches[0].clientY);\n\t          var slider = _this.sliders[element.index];\n\t          if (!slider.offset) {\n\t            slider.offset = dom.findPosition(slider.element);\n\t          }\n\t          slider.mouse = dom.locateMouse(e, slider.offset);\n\t          slider.down();\n\t          _this.currentElement = element.index;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\n\t        this.element.addEventListener(\"touchmove\", function (e) {\n\t          var element = document.elementFromPoint(e.targetTouches[0].clientX, e.targetTouches[0].clientY);\n\t          var slider = _this.sliders[element.index];\n\t          if (!slider.offset) {\n\t            slider.offset = dom.findPosition(slider.element);\n\t          }\n\t          slider.mouse = dom.locateMouse(e, slider.offset);\n\t          if (element.index !== _this.currentElement) {\n\t            if (_this.currentElement >= 0) {\n\t              var pastslider = _this.sliders[_this.currentElement];\n\t              pastslider.up();\n\t            }\n\t            slider.down();\n\t          } else {\n\t            slider.slide();\n\t          }\n\t          _this.currentElement = element.index;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\n\t        this.element.addEventListener(\"touchend\", function (e) {\n\t          // no touches to calculate because none remaining\n\t          var slider = _this.sliders[_this.currentElement];\n\t          slider.up();\n\t          _this.interacting = false;\n\t          _this.currentElement = false;\n\t          e.preventDefault();\n\t          e.stopPropagation();\n\t        });\n\t      }\n\t    },\n\t    numberOfSliders: {\n\n\t      /**\n\t      Get or set the number of sliders\n\t      @type {Number}\n\t      */\n\n\t      get: function () {\n\t        return this.sliders.length;\n\t      },\n\t      set: function (v) {\n\t        if (v === this.sliders.length) {\n\t          return;\n\t        }\n\t        this.sliders.forEach(function (slider) {\n\t          slider.destroy();\n\t        });\n\t        this.empty();\n\t        this._numberOfSliders = v;\n\t        this.buildInterface();\n\t      }\n\t    },\n\t    min: {\n\n\t      /**\n\t      Lower limit of the multislider's output range\n\t      @type {number}\n\t      @example multislider.min = 1000;\n\t      */\n\n\t      get: function () {\n\t        return this.sliders[0].min;\n\t      },\n\t      set: function (v) {\n\t        this.sliders.forEach(function (slider) {\n\t          slider.min = v;\n\t        });\n\t      }\n\t    },\n\t    max: {\n\n\t      /**\n\t      Upper limit of the multislider's output range\n\t      @type {number}\n\t      @example multislider.max = 1000;\n\t      */\n\n\t      get: function () {\n\t        return this.sliders[0].max;\n\t      },\n\t      set: function (v) {\n\t        this.sliders.forEach(function (slider) {\n\t          slider.max = v;\n\t        });\n\t      }\n\t    },\n\t    step: {\n\n\t      /**\n\t      The increment that the multislider's value changes by.\n\t      @type {number}\n\t      @example multislider.step = 5;\n\t      */\n\n\t      get: function () {\n\t        return this.sliders[0].step;\n\t      },\n\t      set: function (v) {\n\t        this.sliders.forEach(function (slider) {\n\t          slider.step = v;\n\t        });\n\t      }\n\t    },\n\t    setSlider: {\n\n\t      /**\n\t      Set the value of an individual slider\n\t      @param index {number} Slider index\n\t      @param value {number} New slider value\n\t      @example\n\t      // Set the first slider to value 0.5\n\t      multislider.setSlider(0,0.5)\n\t      */\n\n\t      value: function setSlider(index, value) {\n\t        this.sliders[index].value = value;\n\t        this.emit(\"change\", {\n\t          index: index,\n\t          value: value\n\t        });\n\t      }\n\t    },\n\t    setAllSliders: {\n\n\t      /**\n\t      Set the value of all sliders at once. If the size of the input array does not match the current number of sliders, the value array will repeat until all sliders have been set. I.e. an input array of length 1 will set all sliders to that value.\n\t      @param values {Array} All slider values\n\t      @example\n\t      multislider.setAllSliders([0.2,0.3,0.4,0.5,0.6])\n\t      */\n\n\t      value: function setAllSliders(values) {\n\t        var _this = this;\n\n\t        this.values = values;\n\t        this.sliders.forEach(function (slider, i) {\n\t          slider.value = values[i % values.length];\n\t          _this.emit(\"change\", {\n\t            index: i,\n\t            value: slider.value\n\t          });\n\t        });\n\t      }\n\t    }\n\t  });\n\n\t  return Multislider;\n\t})(Interface);\n\n\tmodule.exports = Multislider;\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar svg = __webpack_require__(4);\n\tvar Interface = __webpack_require__(6);\n\tvar Step = __webpack_require__(11);\n\n\tvar Interaction = _interopRequireWildcard(__webpack_require__(12));\n\n\tvar SliderTemplate = (function (_Interface) {\n\t  function SliderTemplate(args, options, defaults) {\n\t    _classCallCheck(this, SliderTemplate);\n\n\t    _get(Object.getPrototypeOf(SliderTemplate.prototype), \"constructor\", this).call(this, args, options, defaults);\n\n\t    this.orientation = this.settings.orientation;\n\n\t    //  this.mode = this.settings.mode;\n\n\t    this.hasKnob = this.settings.hasKnob;\n\n\t    // this.step should eventually be get/set\n\t    // updating it will update the _value step model\n\t    //  this.step = this.settings.step; // float\n\n\t    this._value = new Step(this.settings.scale[0], this.settings.scale[1], this.settings.step, this.settings.value);\n\n\t    this.init();\n\n\t    this.position = new Interaction.Handle(this.settings.mode, this.orientation, [0, this.width], [this.height, 0]);\n\t    this.position.value = this._value.normalized;\n\n\t    this.value = this._value.value;\n\n\t    this.emit(\"change\", this.value);\n\t  }\n\n\t  _inherits(SliderTemplate, _Interface);\n\n\t  _createClass(SliderTemplate, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\n\t        this.bar = svg.create(\"rect\");\n\t        this.fillbar = svg.create(\"rect\");\n\t        this.knob = svg.create(\"circle\");\n\n\t        this.element.appendChild(this.bar);\n\t        this.element.appendChild(this.fillbar);\n\t        this.element.appendChild(this.knob);\n\n\t        this.sizeInterface();\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        if (!this.settings.orientation) {\n\t          if (this.width < this.height) {\n\t            this.orientation = \"vertical\";\n\t          } else {\n\t            this.orientation = \"horizontal\";\n\t          }\n\t        }\n\n\t        var x = undefined,\n\t            y = undefined,\n\t            w = undefined,\n\t            h = undefined,\n\t            barOffset = undefined,\n\t            cornerRadius = undefined;\n\t        this.knobData = {\n\t          level: 0,\n\t          r: 0\n\t        };\n\n\t        if (this.orientation === \"vertical\") {\n\t          this.thickness = this.width / 2;\n\t          x = this.width / 2;\n\t          y = 0;\n\t          w = this.thickness;\n\t          h = this.height;\n\t          this.knobData.r = this.thickness * 0.8;\n\t          this.knobData.level = h - this.normalized * h;\n\t          barOffset = \"translate(\" + this.thickness * -1 / 2 + \",0)\";\n\t          cornerRadius = w / 2;\n\t        } else {\n\t          this.thickness = this.height / 2;\n\t          x = 0;\n\t          y = this.height / 2;\n\t          w = this.width;\n\t          h = this.thickness;\n\t          this.knobData.r = this.thickness * 0.8;\n\t          this.knobData.level = this.normalized * w;\n\t          barOffset = \"translate(0,\" + this.thickness * -1 / 2 + \")\";\n\t          cornerRadius = h / 2;\n\t        }\n\n\t        this.bar.setAttribute(\"x\", x);\n\t        this.bar.setAttribute(\"y\", y);\n\t        this.bar.setAttribute(\"transform\", barOffset);\n\t        this.bar.setAttribute(\"rx\", cornerRadius); // corner radius\n\t        this.bar.setAttribute(\"ry\", cornerRadius);\n\t        this.bar.setAttribute(\"width\", w);\n\t        this.bar.setAttribute(\"height\", h);\n\n\t        if (this.orientation === \"vertical\") {\n\t          this.fillbar.setAttribute(\"x\", x);\n\t          this.fillbar.setAttribute(\"y\", this.knobData.level);\n\t          this.fillbar.setAttribute(\"width\", w);\n\t          this.fillbar.setAttribute(\"height\", h - this.knobData.level);\n\t        } else {\n\t          this.fillbar.setAttribute(\"x\", 0);\n\t          this.fillbar.setAttribute(\"y\", y);\n\t          this.fillbar.setAttribute(\"width\", this.knobData.level);\n\t          this.fillbar.setAttribute(\"height\", h);\n\t        }\n\t        this.fillbar.setAttribute(\"transform\", barOffset);\n\t        this.fillbar.setAttribute(\"rx\", cornerRadius);\n\t        this.fillbar.setAttribute(\"ry\", cornerRadius);\n\n\t        if (this.orientation === \"vertical\") {\n\t          this.knob.setAttribute(\"cx\", x);\n\t          this.knob.setAttribute(\"cy\", this.knobData.level);\n\t        } else {\n\t          this.knob.setAttribute(\"cx\", this.knobData.level);\n\t          this.knob.setAttribute(\"cy\", y);\n\t        }\n\t        this.knob.setAttribute(\"r\", this.knobData.r);\n\n\t        if (this.position) {\n\t          this.position.resize([0, this.width], [this.height, 0]);\n\t        }\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\n\t        this.bar.setAttribute(\"fill\", this.colors.fill);\n\t        this.fillbar.setAttribute(\"fill\", this.colors.accent);\n\t        this.knob.setAttribute(\"fill\", this.colors.accent);\n\t        if (!this.hasKnob) {\n\t          this.knob.setAttribute(\"fill\", \"none\");\n\t        }\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (!this.clicked) {\n\t          this.knobData.r = this.thickness * 0.75;\n\t        }\n\t        this.knob.setAttribute(\"r\", this.knobData.r);\n\n\t        if (this.orientation === \"vertical\") {\n\t          this.knobData.level = this._value.normalized * this.height;\n\t          this.knob.setAttribute(\"cy\", this.height - this.knobData.level);\n\t          this.fillbar.setAttribute(\"y\", this.height - this.knobData.level);\n\t          this.fillbar.setAttribute(\"height\", this.knobData.level);\n\t        } else {\n\t          this.knobData.level = this._value.normalized * this.width;\n\t          this.knob.setAttribute(\"cx\", this.knobData.level);\n\t          this.fillbar.setAttribute(\"x\", 0);\n\t          this.fillbar.setAttribute(\"width\", this.knobData.level);\n\t        }\n\t      }\n\t    },\n\t    down: {\n\t      value: function down() {\n\t        this.clicked = true;\n\t        this.knobData.r = this.thickness * 0.9;\n\t        this.position.anchor = this.mouse;\n\t        this.slide();\n\t      }\n\t    },\n\t    slide: {\n\t      value: function slide() {\n\t        if (this.clicked) {\n\t          this.position.update(this.mouse);\n\t          this.value = this._value.updateNormal(this.position.value);\n\t          this.emit(\"change\", this.value);\n\t        }\n\t      }\n\t    },\n\t    up: {\n\t      value: function up() {\n\t        this.clicked = false;\n\t        this.render();\n\t      }\n\t    },\n\t    normalized: {\n\t      get: function () {\n\t        return this._value.normalized;\n\t      }\n\t    },\n\t    value: {\n\n\t      /**\n\t      The slider's current value. If set manually, will update the interface and trigger the output event.\n\t      @type {number}\n\t      @example slider.value = 10;\n\t      */\n\n\t      get: function () {\n\t        return this._value.value;\n\t      },\n\t      set: function (v) {\n\t        this._value.update(v);\n\t        this.position.value = this._value.normalized;\n\t        this.render();\n\t      }\n\t    },\n\t    min: {\n\n\t      /**\n\t      Lower limit of the sliders's output range\n\t      @type {number}\n\t      @example slider.min = 1000;\n\t      */\n\n\t      get: function () {\n\t        return this._value.min;\n\t      },\n\t      set: function (v) {\n\t        this._value.min = v;\n\t      }\n\t    },\n\t    max: {\n\n\t      /**\n\t      Upper limit of the slider's output range\n\t      @type {number}\n\t      @example slider.max = 1000;\n\t      */\n\n\t      get: function () {\n\t        return this._value.max;\n\t      },\n\t      set: function (v) {\n\t        this._value.max = v;\n\t      }\n\t    },\n\t    step: {\n\n\t      /**\n\t      The increment that the slider's value changes by.\n\t      @type {number}\n\t      @example slider.step = 5;\n\t      */\n\n\t      get: function () {\n\t        return this._value.step;\n\t      },\n\t      set: function (v) {\n\t        this._value.step = v;\n\t      }\n\t    },\n\t    mode: {\n\n\t      /**\n\t      Absolute mode (slider's value jumps to mouse click position) or relative mode (mouse drag changes value relative to its current position). Default: \"relative\".\n\t      @type {string}\n\t      @example slider.mode = \"relative\";\n\t      */\n\n\t      get: function () {\n\t        return this.position.mode;\n\t      },\n\t      set: function (v) {\n\t        this.position.mode = v;\n\t      }\n\t    }\n\t  });\n\n\t  return SliderTemplate;\n\t})(Interface);\n\n\tmodule.exports = SliderTemplate;\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar svg = __webpack_require__(4);\n\tvar math = __webpack_require__(5);\n\tvar Interface = __webpack_require__(6);\n\tvar Step = __webpack_require__(11);\n\n\tvar Interaction = _interopRequireWildcard(__webpack_require__(12));\n\n\t/**\n\t* Pan\n\t*\n\t* @description Stereo crossfader.\n\t*\n\t* @demo <span nexus-ui=\"pan\"></span>\n\t*\n\t* @example\n\t* var pan = new Nexus.Pan('#target')\n\t*\n\t* @output\n\t* change\n\t* Fires any time the interface's value changes. <br>\n\t* The event data is an object containing the interface's <i>value</i> (-1 to 1), as well as <i>L</i> and <i>R</i> amplitude values (0-1) for left and right speakers, calculated by a square-root crossfade algorithm.\n\t*\n\t* @outputexample\n\t* pan.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*\n\t*/\n\n\tvar Pan = (function (_Interface) {\n\t  function Pan() {\n\t    _classCallCheck(this, Pan);\n\n\t    var options = [\"scale\", \"value\"];\n\n\t    var defaults = {\n\t      size: [120, 20],\n\t      orientation: \"horizontal\",\n\t      mode: \"relative\",\n\t      scale: [-1, 1],\n\t      step: 0,\n\t      value: 0,\n\t      hasKnob: true\n\t    };\n\n\t    _get(Object.getPrototypeOf(Pan.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this.orientation = this.settings.orientation;\n\n\t    this.mode = this.settings.mode;\n\n\t    this.hasKnob = this.settings.hasKnob;\n\n\t    // this.step should eventually be get/set\n\t    // updating it will update the _value step model\n\t    this.step = this.settings.step; // float\n\n\t    this._value = new Step(this.settings.scale[0], this.settings.scale[1], this.settings.step, this.settings.value);\n\n\t    this.init();\n\n\t    this.position = new Interaction.Handle(this.mode, this.orientation, [0, this.width], [this.height, 0]);\n\t    this.position.value = this._value.normalized;\n\n\t    this.value = this._value.value;\n\n\t    this.emit(\"change\", this.value);\n\t  }\n\n\t  _inherits(Pan, _Interface);\n\n\t  _createClass(Pan, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\n\t        this.bar = svg.create(\"rect\");\n\t        this.knob = svg.create(\"circle\");\n\n\t        this.element.appendChild(this.bar);\n\t        this.element.appendChild(this.knob);\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        if (this.position) {\n\t          this.position.resize([0, this.width], [this.height, 0]);\n\t        }\n\n\t        if (this.width < this.height) {\n\t          this.orientation = \"vertical\";\n\t        } else {\n\t          this.orientation = \"horizontal\";\n\t        }\n\n\t        var x = undefined,\n\t            y = undefined,\n\t            w = undefined,\n\t            h = undefined,\n\t            barOffset = undefined,\n\t            cornerRadius = undefined;\n\t        this.knobData = {\n\t          level: 0,\n\t          r: 0\n\t        };\n\n\t        if (this.orientation === \"vertical\") {\n\t          this.thickness = this.width / 2;\n\t          x = this.width / 2;\n\t          y = 0;\n\t          w = this.thickness;\n\t          h = this.height;\n\t          this.knobData.r = this.thickness * 0.8;\n\t          this.knobData.level = h - this.knobData.r - this.normalized * (h - this.knobData.r * 2);\n\t          barOffset = \"translate(\" + this.thickness * -1 / 2 + \",0)\";\n\t          cornerRadius = w / 2;\n\t        } else {\n\t          this.thickness = this.height / 2;\n\t          x = 0;\n\t          y = this.height / 2;\n\t          w = this.width;\n\t          h = this.thickness;\n\t          this.knobData.r = this.thickness * 0.8;\n\t          this.knobData.level = this.normalized * (w - this.knobData.r * 2) + this.knobData.r;\n\t          barOffset = \"translate(0,\" + this.thickness * -1 / 2 + \")\";\n\t          cornerRadius = h / 2;\n\t        }\n\n\t        this.bar.setAttribute(\"x\", x);\n\t        this.bar.setAttribute(\"y\", y);\n\t        this.bar.setAttribute(\"transform\", barOffset);\n\t        this.bar.setAttribute(\"rx\", cornerRadius); // corner radius\n\t        this.bar.setAttribute(\"ry\", cornerRadius);\n\t        this.bar.setAttribute(\"width\", w);\n\t        this.bar.setAttribute(\"height\", h);\n\n\t        if (this.orientation === \"vertical\") {\n\t          this.knob.setAttribute(\"cx\", x);\n\t          this.knob.setAttribute(\"cy\", this.knobData.level);\n\t        } else {\n\t          this.knob.setAttribute(\"cx\", this.knobData.level);\n\t          this.knob.setAttribute(\"cy\", y);\n\t        }\n\t        this.knob.setAttribute(\"r\", this.knobData.r);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\n\t        this.bar.setAttribute(\"fill\", this.colors.fill);\n\t        this.knob.setAttribute(\"fill\", this.colors.accent);\n\n\t        if (!this.hasKnob) {\n\t          this.knob.setAttribute(\"fill\", \"transparent\");\n\t        }\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        if (!this.clicked) {\n\t          this.knobData.r = this.thickness * 0.75;\n\t        }\n\t        this.knob.setAttribute(\"r\", this.knobData.r);\n\n\t        if (this.orientation === \"vertical\") {\n\t          this.knobData.level = this.knobData.r + this._value.normalized * (this.height - this.knobData.r * 2);\n\t          this.knob.setAttribute(\"cy\", this.height - this.knobData.level);\n\t        } else {\n\t          this.knobData.level = this._value.normalized * (this.width - this.knobData.r * 2) + this.knobData.r;\n\t          this.knob.setAttribute(\"cx\", this.knobData.level);\n\t        }\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.knobData.r = this.thickness * 0.9;\n\t        this.position.anchor = this.mouse;\n\t        this.move();\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        if (this.clicked) {\n\t          this.position.update(this.mouse);\n\n\t          this.value = this._value.updateNormal(this.position.value);\n\n\t          this.emit(\"change\", {\n\t            value: this.value,\n\t            L: Math.pow(math.scale(this.value, -1, 1, 1, 0), 2),\n\t            R: Math.pow(math.scale(this.value, -1, 1, 0, 1), 2)\n\t          });\n\t        }\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {\n\t        this.render();\n\t      }\n\t    },\n\t    value: {\n\n\t      /**\n\t      The position of crossfader, from -1 (left) to 1 (right). Setting this value updates the interface and triggers the output event.\n\t      @type {number}\n\t      */\n\n\t      get: function () {\n\t        return this._value.value;\n\t      },\n\t      set: function (value) {\n\t        this._value.update(value);\n\t        this.position.value = this._value.normalized;\n\t        this.emit(\"change\", {\n\t          value: this.value,\n\t          L: Math.pow(math.scale(this.value, -1, 1, 1, 0), 2),\n\t          R: Math.pow(math.scale(this.value, -1, 1, 0, 1), 2)\n\t        });\n\t        this.render();\n\t      }\n\t    },\n\t    normalized: {\n\t      get: function () {\n\t        return this._value.normalized;\n\t      }\n\t    }\n\t  });\n\n\t  return Pan;\n\t})(Interface);\n\n\tmodule.exports = Pan;\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar math = __webpack_require__(5);\n\tvar svg = __webpack_require__(4);\n\tvar Interface = __webpack_require__(6);\n\n\tvar Point = function Point(point, envelope) {\n\n\t  this.x = point.x;\n\t  this.y = point.y;\n\t  this.envelope = envelope;\n\n\t  this.element = svg.create(\"circle\");\n\t  this.element.setAttribute(\"fill\", this.envelope.colors.accent);\n\n\t  this.envelope.element.appendChild(this.element);\n\n\t  this.resize = function () {\n\t    var r = ~ ~(Math.min(this.envelope.width, this.envelope.height) / 50) + 2;\n\t    this.element.setAttribute(\"r\", r);\n\t  };\n\n\t  this.move = function (x, y) {\n\n\t    this.x = x || x === 0 ? x : this.x;\n\t    this.y = y || y === 0 ? y : this.y;\n\n\t    if (this.envelope.nodes.indexOf(this) >= 0) {\n\n\t      var prevIndex = this.envelope.nodes.indexOf(this) - 1;\n\t      var nextIndex = this.envelope.nodes.indexOf(this) + 1;\n\n\t      var prevNode = this.envelope.nodes[prevIndex];\n\t      var nextNode = this.envelope.nodes[nextIndex];\n\n\t      var lowX = prevIndex >= 0 ? prevNode.x : 0;\n\t      var highX = nextIndex < this.envelope.nodes.length ? nextNode.x : 1;\n\n\t      if (this.x < lowX) {\n\t        this.x = lowX;\n\t      }\n\t      if (this.x > highX) {\n\t        this.x = highX;\n\t      }\n\t    }\n\n\t    this.location = this.getCoordinates();\n\t    this.element.setAttribute(\"cx\", this.location.x);\n\t    this.element.setAttribute(\"cy\", this.location.y);\n\t  };\n\n\t  this.getCoordinates = function () {\n\t    return {\n\t      x: this.x * this.envelope.width,\n\t      y: (1 - this.y) * this.envelope.height\n\t    };\n\t  };\n\n\t  this.move(this.x, this.y);\n\t  this.resize();\n\n\t  this.destroy = function () {\n\t    this.envelope.element.removeChild(this.element);\n\t  };\n\t};\n\n\t/**\n\t* Envelope\n\t*\n\t* @description Interactive linear ramp visualization.\n\t*\n\t* @demo <span nexus-ui=\"envelope\"></span>\n\t*\n\t* @example\n\t* var envelope = new Nexus.Envelope('#target')\n\t*\n\t* @example\n\t* var envelope = new Nexus.Envelope('#target',{\n\t*   'size': [300,150],\n\t*   'points': [\n\t*     {\n\t*       x: 0.1,\n\t*       y: 0.4\n\t*     },\n\t*     {\n\t*       x: 0.35,\n\t*       y: 0.6\n\t*     },\n\t*     {\n\t*       x: 0.65,\n\t*       y: 0.2\n\t*     },\n\t*     {\n\t*       x: 0.9,\n\t*       y: 0.4\n\t*     },\n\t*   ]\n\t* })\n\t*\n\t* @output\n\t* change\n\t* Fires any time a node is moved. <br>\n\t* The event data is an array of point locations. Each item in the array is an object containing <i>x</i> and <i>y</i> properties describing the location of a point on the envelope.\n\t*\n\t* @outputexample\n\t* envelope.on('change',function(v) {\n\t*   console.log(v);\n\t* })\n\t*\n\t*/\n\n\tvar Envelope = (function (_Interface) {\n\t  function Envelope() {\n\t    _classCallCheck(this, Envelope);\n\n\t    var options = [\"value\"];\n\n\t    var defaults = {\n\t      size: [300, 150],\n\t      points: [{\n\t        x: 0.1,\n\t        y: 0.4\n\t      }, {\n\t        x: 0.35,\n\t        y: 0.6\n\t      }, {\n\t        x: 0.65,\n\t        y: 0.2\n\t      }, {\n\t        x: 0.9,\n\t        y: 0.4\n\t      }]\n\t    };\n\n\t    _get(Object.getPrototypeOf(Envelope.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this.points = this.settings.points;\n\n\t    this.nodes = [];\n\n\t    this.selected = false;\n\n\t    this.init();\n\t  }\n\n\t  _inherits(Envelope, _Interface);\n\n\t  _createClass(Envelope, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t        var _this = this;\n\n\t        this.points.forEach(function (point) {\n\t          var node = new Point(point, _this);\n\t          _this.nodes.push(node);\n\t        });\n\n\t        this.sortPoints();\n\n\t        this.line = svg.create(\"polyline\");\n\t        this.line.setAttribute(\"stroke-width\", 2);\n\t        this.line.setAttribute(\"fill\", \"none\");\n\n\t        this.element.appendChild(this.line);\n\n\t        this.fill = svg.create(\"polyline\");\n\t        this.fill.setAttribute(\"fill-opacity\", \"0.2\");\n\n\t        this.element.appendChild(this.fill);\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\n\t        for (var i = 0; i < this.nodes.length; i++) {\n\t          this.nodes[i].resize();\n\t          this.nodes[i].move();\n\t        }\n\n\t        this.render();\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        var _this = this;\n\n\t        this.element.style.backgroundColor = this.colors.fill;\n\t        this.line.setAttribute(\"stroke\", this.colors.accent);\n\t        this.fill.setAttribute(\"fill\", this.colors.accent);\n\t        this.nodes.forEach(function (node) {\n\t          node.element.setAttribute(\"fill\", _this.colors.accent);\n\t        });\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\t        //  this.nodes[this.selected].move( this.points )\n\t        this.calculatePath();\n\t      }\n\t    },\n\t    calculatePoints: {\n\t      value: function calculatePoints() {\n\t        var _this = this;\n\n\t        this.points = [];\n\t        this.nodes.forEach(function (node) {\n\t          _this.points.push({ x: node.x, y: node.y });\n\t        });\n\t      }\n\t    },\n\t    calculatePath: {\n\t      value: function calculatePath() {\n\n\t        //stroke data\n\t        var data = \"0 \" + this.nodes[0].location.y + \", \";\n\n\t        // data should be re-ordered based on x location.\n\t        // whatever function adds a node should add it at the right index\n\n\t        this.nodes.forEach(function (node) {\n\t          //  let location = node.getCoordinates();\n\t          data += node.location.x + \" \" + node.location.y + \", \";\n\t        });\n\n\t        //  data += point.x*this.width+' '+ point.y*this.height+', ';\n\t        data += this.width + \" \" + this.nodes[this.nodes.length - 1].location.y;\n\n\t        this.line.setAttribute(\"points\", data);\n\n\t        // fill data\n\t        // add bottom corners\n\n\t        data += \", \" + this.width + \" \" + this.height + \", \";\n\t        data += \"0 \" + this.height;\n\n\t        this.fill.setAttribute(\"points\", data);\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        // find nearest node and set this.selected (index)\n\t        this.hasMoved = false;\n\t        this.selected = this.findNearestNode();\n\n\t        this.nodes[this.selected].move(this.mouse.x / this.width, 1 - this.mouse.y / this.height);\n\t        this.scaleNode(this.selected);\n\n\t        // must do this b/c new node may have been created\n\t        this.calculatePoints();\n\t        this.emit(\"change\", this.points);\n\t        this.render();\n\t      }\n\t    },\n\t    move: {\n\t      value: function move() {\n\t        if (this.clicked) {\n\t          this.mouse.x = math.clip(this.mouse.x, 0, this.width);\n\t          this.hasMoved = true;\n\n\t          this.nodes[this.selected].move(this.mouse.x / this.width, 1 - this.mouse.y / this.height);\n\t          this.scaleNode(this.selected);\n\n\t          this.calculatePoints();\n\t          this.emit(\"change\", this.points);\n\t          this.render();\n\t        }\n\t      }\n\t    },\n\t    release: {\n\t      value: function release() {\n\n\t        if (!this.hasMoved) {\n\t          this.nodes[this.selected].destroy();\n\t          this.nodes.splice(this.selected, 1);\n\t        }\n\n\t        this.calculatePoints();\n\t        this.emit(\"change\", this.points);\n\t        this.render();\n\n\t        // reset this.selected\n\t        this.selected = null;\n\t      }\n\t    },\n\t    findNearestNode: {\n\t      value: function findNearestNode() {\n\t        var nearestIndex = null;\n\t        // set this unreasonably high so that every distance will be lower than it.\n\t        var nearestDist = 10000;\n\t        var before = false;\n\t        var x = this.mouse.x / this.width;\n\t        var y = 1 - this.mouse.y / this.height;\n\t        var nodes = this.nodes;\n\t        for (var i = 0; i < nodes.length; i++) {\n\n\t          // calculate the distance from mouse to this node using pythagorean theorem\n\t          var distance = Math.sqrt(Math.pow(nodes[i].x - x, 2) + Math.pow(nodes[i].y - y, 2));\n\n\t          // if this distance is less than the previous shortest distance, use this index\n\t          if (distance < nearestDist) {\n\t            nearestDist = distance;\n\t            nearestIndex = i;\n\t            before = x > nodes[i].x;\n\t          }\n\t        }\n\n\t        // if not very close to any node, create a node\n\t        if (nearestDist > 0.07) {\n\n\t          nearestIndex = this.getIndexFromX(this.mouse.x / this.width);\n\n\t          this.nodes.splice(nearestIndex, 0, new Point({\n\t            x: this.mouse.x / this.width,\n\t            y: 1 - this.mouse.y / this.height\n\t          }, this));\n\t          this.hasMoved = true;\n\t        }\n\n\t        return nearestIndex;\n\t      }\n\t    },\n\t    getIndexFromX: {\n\t      value: function getIndexFromX(x) {\n\t        var _this = this;\n\n\t        var index = 0;\n\t        this.nodes.forEach(function (node, i) {\n\t          if (_this.nodes[i].x <= x) {\n\t            index = i + 1;\n\t          }\n\t        });\n\t        return index;\n\t      }\n\t    },\n\t    scaleNode: {\n\t      value: function scaleNode(i) {\n\n\t        var clippedX = math.clip(this.nodes[i].x, 0, 1);\n\t        var clippedY = math.clip(this.nodes[i].y, 0, 1);\n\n\t        this.nodes[i].move(clippedX, clippedY);\n\t      }\n\t    },\n\t    sortPoints: {\n\n\t      /**\n\t      Sort the this.points array from left-most point to right-most point. You should not regularly need to use this, however it may be useful if the points get unordered.\n\t      */\n\n\t      value: function sortPoints() {\n\t        this.nodes.sort(function (a, b) {\n\t          return a.x > b.x;\n\t        });\n\t      }\n\t    },\n\t    addPoint: {\n\n\t      /**\n\t      Add a breakpoint on the envelope.\n\t      @param x {number} x location of the point, normalized (0-1)\n\t      @param y {number} y location of the point, normalized (0-1)\n\t      */\n\n\t      value: function addPoint(x, y) {\n\t        var index = 0;\n\n\t        this.sortPoints();\n\n\t        for (var i = 0; i < this.nodes.length; i++) {\n\t          if (x < this.nodes[i].x) {\n\t            index = i;\n\t            break;\n\t          }\n\t        }\n\n\t        this.nodes.splice(index, 0, new Point({\n\t          x: x,\n\t          y: y\n\t        }, this));\n\n\t        this.scaleNode(index);\n\n\t        this.calculatePoints();\n\t        this.emit(\"change\", this.points);\n\n\t        this.render();\n\t      }\n\t    },\n\t    scan: {\n\n\t      /**\n\t      Find the level at a certain x location on the envelope.\n\t      @param x {number} The x location to find the level of, normalized 0-1\n\t      */\n\n\t      value: function scan(x) {\n\t        // find surrounding points\n\t        var nextIndex = this.getIndexFromX(x);\n\t        var priorIndex = nextIndex - 1;\n\t        if (priorIndex < 0) {\n\t          priorIndex = 0;\n\t        }\n\t        if (nextIndex >= this.nodes.length) {\n\t          nextIndex = this.nodes.length - 1;\n\t        }\n\t        var priorPoint = this.nodes[priorIndex];\n\t        var nextPoint = this.nodes[nextIndex];\n\t        var loc = math.scale(x, priorPoint.x, nextPoint.x, 0, 1);\n\t        var value = math.interp(loc, priorPoint.y, nextPoint.y);\n\t        this.emit(\"scan\", value);\n\t        return value;\n\t      }\n\t    },\n\t    movePoint: {\n\n\t      /**\n\t      Move a breakpoint on the envelope.\n\t      @param index {number} The index of the breakpoint to move\n\t      @param x {number} New x location, normalized 0-1\n\t      @param y {number} New y location, normalized 0-1\n\t      */\n\n\t      value: function movePoint(index, x, y) {\n\t        this.nodes[index].move(x, y);\n\t        this.scaleNode(index);\n\t        this.calculatePoints();\n\t        this.emit(\"change\", this.points);\n\t        this.render();\n\t      }\n\t    },\n\t    adjustPoint: {\n\n\t      /**\n\t      Move a breakpoint on the envelope by a certain amount.\n\t      @param index {number} The index of the breakpoint to move\n\t      @param xOffset {number} X displacement, normalized 0-1\n\t      @param yOffset {number} Y displacement, normalized 0-1\n\t      */\n\n\t      value: function adjustPoint(index, xOffset, yOffset) {\n\t        this.nodes[index].move(this.nodes[index].x + xOffset, this.nodes[index].y + yOffset);\n\t        this.scaleNode(index);\n\t        this.calculatePoints();\n\t        this.emit(\"change\", this.points);\n\t        this.render();\n\t      }\n\t    },\n\t    destroyPoint: {\n\n\t      /**\n\t      Remove a breakpoint from the envelope.\n\t      @param index {number} Index of the breakpoint to remove\n\t      */\n\n\t      value: function destroyPoint(index) {\n\t        this.nodes[index].destroy();\n\t        this.calculatePoints();\n\t        this.emit(\"change\", this.points);\n\t        this.render();\n\t      }\n\t    },\n\t    setPoints: {\n\n\t      /**\n\t      Remove all existing breakpoints and add an entirely new set of breakpoints.\n\t      @param allPoints {array} An array of objects with x/y properties (normalized 0-1). Each object in the array specifices the x/y location of a new breakpoint to be added.\n\t      */\n\n\t      value: function setPoints(allPoints) {\n\t        var _this = this;\n\n\t        this.nodes.forEach(function (point) {\n\t          point.destroy();\n\t        });\n\t        allPoints.forEach(function (point) {\n\t          _this.addPoint(point.x, point.y);\n\t        });\n\t        this.calculatePoints();\n\t        this.emit(\"change\", this.points);\n\t        this.render();\n\t      }\n\t    }\n\t  });\n\n\t  return Envelope;\n\t})(Interface);\n\n\tmodule.exports = Envelope;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar dom = __webpack_require__(7);\n\t//let math = require('../util/math');\n\tvar Interface = __webpack_require__(6);\n\n\t/**\n\t* Spectrogram\n\t*\n\t* @description Audio spectrum visualization\n\t*\n\t* @demo <span nexus-ui=\"spectrogram\"></span>\n\t*\n\t* @example\n\t* var spectrogram = new Nexus.Spectrogram('#target')\n\t*\n\t* @example\n\t* var spectrogram = new Nexus.Spectrogram('#target',{\n\t*   'size': [300,150]\n\t* })\n\t*\n\t* @output\n\t* &nbsp;\n\t* No events\n\t*\n\t*/\n\n\tvar Spectrogram = (function (_Interface) {\n\t  function Spectrogram() {\n\t    _classCallCheck(this, Spectrogram);\n\n\t    var options = [\"scale\", \"value\"];\n\n\t    var defaults = {\n\t      size: [300, 150]\n\t    };\n\n\t    _get(Object.getPrototypeOf(Spectrogram.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this.context = Nexus.context; // jshint ignore:line\n\n\t    this.analyser = this.context.createAnalyser();\n\t    this.analyser.fftSize = 2048;\n\t    this.bufferLength = this.analyser.frequencyBinCount;\n\t    this.dataArray = new Uint8Array(this.bufferLength);\n\n\t    this.active = true;\n\n\t    this.source = false;\n\n\t    this.init();\n\t  }\n\n\t  _inherits(Spectrogram, _Interface);\n\n\t  _createClass(Spectrogram, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.canvas = new dom.SmartCanvas(this.parent);\n\t        this.element = this.canvas.element;\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t        this.canvas.resize(this.width, this.height);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.canvas.element.style.backgroundColor = this.colors.fill;\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\n\t        if (this.active) {\n\t          requestAnimationFrame(this.render.bind(this));\n\t        }\n\n\t        this.analyser.getByteFrequencyData(this.dataArray);\n\n\t        this.canvas.context.fillStyle = this.colors.fill;\n\t        this.canvas.context.fillRect(0, 0, this.canvas.element.width, this.canvas.element.height);\n\n\t        if (this.source && this.dataArray) {\n\n\t          //console.log(this.dataArray);\n\n\t          var barWidth = this.canvas.element.width / this.bufferLength;\n\t          var barHeight = undefined;\n\t          var x = 0;\n\n\t          var definition = this.canvas.element.width / 50;\n\n\t          for (var i = 0; i < this.bufferLength; i = i + definition) {\n\t            barHeight = Math.max.apply(null, this.dataArray.subarray(i, i + definition));\n\t            barHeight /= 255;\n\t            barHeight *= this.canvas.element.height;\n\n\t            this.canvas.context.fillStyle = this.colors.accent;\n\t            this.canvas.context.fillRect(x, this.canvas.element.height - barHeight, barWidth * definition, barHeight);\n\n\t            x += barWidth * definition;\n\t          }\n\t        }\n\t      }\n\t    },\n\t    connect: {\n\n\t      /**\n\t      Equivalent to \"patching in\" an audio node to visualize.\n\t      @param node {AudioNode} The audio node to visualize\n\t      */\n\n\t      value: function connect(node) {\n\t        if (this.source) {\n\t          this.disconnect();\n\t        }\n\t        this.source = node;\n\t        this.source.connect(this.analyser);\n\t        this.render();\n\t      }\n\t    },\n\t    disconnect: {\n\n\t      /**\n\t      Stop visualizing the source node and disconnect it.\n\t      */\n\n\t      value: function disconnect() {\n\t        this.source.disconnect(this.analyser);\n\t        this.source = null;\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.active = !this.active;\n\t        this.render();\n\t      }\n\t    },\n\t    customDestroy: {\n\t      value: function customDestroy() {\n\t        this.active = false;\n\t      }\n\t    }\n\t  });\n\n\t  return Spectrogram;\n\t})(Interface);\n\n\tmodule.exports = Spectrogram;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar dom = __webpack_require__(7);\n\tvar math = __webpack_require__(5);\n\tvar Interface = __webpack_require__(6);\n\n\t/**\n\t* Meter\n\t*\n\t* @description Stereo decibel meter\n\t*\n\t* @demo <span nexus-ui=\"meter\"></span>\n\t*\n\t* @example\n\t* var meter = new Nexus.Meter('#target')\n\t*\n\t* @example\n\t* var meter = new Nexus.Meter('#target',{\n\t*   size: [75,75]\n\t* })\n\t*\n\t* @output\n\t* &nbsp;\n\t* No events\n\t*\n\t*/\n\n\tvar Meter = (function (_Interface) {\n\t  function Meter() {\n\t    _classCallCheck(this, Meter);\n\n\t    var options = [\"scale\", \"value\"];\n\n\t    var defaults = {\n\t      size: [30, 100]\n\t    };\n\n\t    _get(Object.getPrototypeOf(Meter.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this.context = Nexus.context; // jshint ignore:line\n\n\t    this.channels = 2;\n\n\t    this.splitter = this.context.createChannelSplitter(this.channels);\n\n\t    this.analysers = [];\n\n\t    for (var i = 0; i < this.channels; i++) {\n\t      var analyser = this.context.createAnalyser();\n\t      this.splitter.connect(analyser, i);\n\t      analyser.fftSize = 1024;\n\t      analyser.smoothingTimeConstant = 1;\n\t      this.analysers.push(analyser);\n\t    }\n\t    this.bufferLength = this.analysers[0].frequencyBinCount;\n\t    this.dataArray = new Float32Array(this.bufferLength);\n\n\t    /*\n\t        // add linear gradient\n\t        var grd = canvasCtx.createLinearGradient(0, 0, 0, canvas.height);\n\t        // light blue\n\t        grd.addColorStop(0, '#000');\n\t        grd.addColorStop(0.2, '#bbb');\n\t        grd.addColorStop(0.4, '#d18');\n\t        // dark blue\n\t        grd.addColorStop(1, '#d18');\n\t        canvasCtx.fillStyle = grd; */\n\n\t    this.active = true;\n\n\t    this.db = -Infinity;\n\n\t    this.init();\n\n\t    this.meterWidth = this.canvas.element.width / this.channels;\n\n\t    this.render();\n\t  }\n\n\t  _inherits(Meter, _Interface);\n\n\t  _createClass(Meter, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.canvas = new dom.SmartCanvas(this.parent);\n\t        this.element = this.canvas.element;\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t        this.canvas.resize(this.width, this.height);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.canvas.element.style.backgroundColor = this.colors.fill;\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\n\t        if (this.active) {\n\t          requestAnimationFrame(this.render.bind(this));\n\t        }\n\n\t        this.canvas.context.fillStyle = this.colors.fill;\n\t        this.canvas.context.fillRect(0, 0, this.canvas.element.width, this.canvas.element.height);\n\n\t        for (var i = 0; i < this.analysers.length; i++) {\n\n\t          if (this.source) {\n\n\t            this.analysers[i].getFloatTimeDomainData(this.dataArray);\n\n\t            var rms = 0;\n\n\t            for (var _i = 0; _i < this.dataArray.length; _i++) {\n\t              rms += this.dataArray[_i] * this.dataArray[_i];\n\t            }\n\n\t            rms = Math.sqrt(rms / this.dataArray.length);\n\n\t            this.db = 20 * Math.log10(rms);\n\t          } else if (this.db > -200 && this.db !== -Infinity) {\n\t            this.db -= 1;\n\t          } else {\n\t            this.db = -Infinity;\n\t          }\n\n\t          //console.log(db)\n\n\t          if (this.db > -70) {\n\n\t            var linear = math.normalize(this.db, -70, 5);\n\t            var exp = linear * linear;\n\t            var y = math.scale(exp, 0, 1, this.element.height, 0);\n\n\t            this.canvas.context.fillStyle = this.colors.accent;\n\t            this.canvas.context.fillRect(this.meterWidth * i, y, this.meterWidth, this.canvas.element.height - y);\n\n\t            //console.log(\"rendering...\")\n\t          }\n\t        }\n\t      }\n\t    },\n\t    connect: {\n\n\t      /**\n\t      Equivalent to \"patching in\" an audio node to visualize.\n\t      @param node {AudioNode} The audio node to visualize\n\t      @param channels {number} (optional) The number of channels in the source node to watch. If not specified, the interface will look for a .channelCount property on the input node. If it does not exist, the interface will default to 1 channel.\n\t      */\n\n\t      value: function connect(node, channels) {\n\t        if (this.source) {\n\t          this.disconnect();\n\t        }\n\t        //this.dummy.disconnect(this.splitter);\n\n\t        if (channels) {\n\t          this.channels = channels;\n\t        } else if (node.channelCount) {\n\t          this.channels = node.channelCount;\n\t        } else {\n\t          this.channels = 2;\n\t        }\n\t        this.meterWidth = this.canvas.element.width / this.channels;\n\n\t        this.source = node;\n\t        this.source.connect(this.splitter);\n\n\t        //  this.render();\n\t      }\n\t    },\n\t    disconnect: {\n\n\t      /**\n\t      Stop visualizing the source node and disconnect it.\n\t      */\n\n\t      value: function disconnect() {\n\n\t        this.source.disconnect(this.splitter);\n\t        this.source = false;\n\t        //  this.dummy.connect(this.splitter);\n\t        this.meterWidth = this.canvas.element.width / this.channels;\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.active = !this.active;\n\t        this.render();\n\t      }\n\t    },\n\t    customDestroy: {\n\t      value: function customDestroy() {\n\t        this.active = false;\n\t      }\n\t    }\n\t  });\n\n\t  return Meter;\n\t})(Interface);\n\n\tmodule.exports = Meter;\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar dom = __webpack_require__(7);\n\tvar Interface = __webpack_require__(6);\n\n\t/**\n\t* Oscilloscope\n\t*\n\t* @description Visualizes a waveform's stream of values.\n\t*\n\t* @demo <span nexus-ui=\"oscilloscope\"></span>\n\t*\n\t* @example\n\t* var oscilloscope = new Nexus.Oscilloscope('#target')\n\t*\n\t* @example\n\t* var oscilloscope = new Nexus.Oscilloscope('#target',{\n\t*   'size': [300,150]\n\t* })\n\t*\n\t* @output\n\t* &nbsp;\n\t* No events\n\t*\n\t*/\n\n\tvar Oscilloscope = (function (_Interface) {\n\t  function Oscilloscope() {\n\t    _classCallCheck(this, Oscilloscope);\n\n\t    var options = [\"scale\", \"value\"];\n\n\t    var defaults = {\n\t      size: [300, 150]\n\t    };\n\n\t    _get(Object.getPrototypeOf(Oscilloscope.prototype), \"constructor\", this).call(this, arguments, options, defaults);\n\n\t    this.context = Nexus.context; // jshint ignore:line\n\n\t    this.analyser = this.context.createAnalyser();\n\t    this.analyser.fftSize = 2048;\n\t    this.bufferLength = this.analyser.frequencyBinCount;\n\t    this.dataArray = new Uint8Array(this.bufferLength);\n\t    this.analyser.getByteTimeDomainData(this.dataArray);\n\n\t    this.active = true;\n\n\t    this.source = false;\n\n\t    this.init();\n\n\t    this.render();\n\t  }\n\n\t  _inherits(Oscilloscope, _Interface);\n\n\t  _createClass(Oscilloscope, {\n\t    buildFrame: {\n\t      value: function buildFrame() {\n\t        this.canvas = new dom.SmartCanvas(this.parent);\n\t        this.element = this.canvas.element;\n\t      }\n\t    },\n\t    sizeInterface: {\n\t      value: function sizeInterface() {\n\t        this.canvas.resize(this.width, this.height);\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        this.canvas.element.style.backgroundColor = this.colors.fill;\n\t      }\n\t    },\n\t    render: {\n\t      value: function render() {\n\n\t        if (this.active) {\n\t          requestAnimationFrame(this.render.bind(this));\n\t        }\n\n\t        this.analyser.getByteTimeDomainData(this.dataArray);\n\n\t        this.canvas.context.fillStyle = this.colors.fill;\n\t        this.canvas.context.fillRect(0, 0, this.canvas.element.width, this.canvas.element.height);\n\n\t        this.canvas.context.lineWidth = ~ ~(this.height / 100 + 2);\n\t        this.canvas.context.strokeStyle = this.colors.accent;\n\n\t        this.canvas.context.beginPath();\n\n\t        if (this.source) {\n\n\t          var sliceWidth = this.canvas.element.width * 1 / this.bufferLength;\n\t          var x = 0;\n\n\t          for (var i = 0; i < this.bufferLength; i++) {\n\n\t            var v = this.dataArray[i] / 128;\n\t            var y = v * this.canvas.element.height / 2;\n\n\t            if (i === 0) {\n\t              this.canvas.context.moveTo(x, y);\n\t            } else {\n\t              this.canvas.context.lineTo(x, y);\n\t            }\n\n\t            x += sliceWidth;\n\t          }\n\t        } else {\n\t          this.canvas.context.moveTo(0, this.canvas.element.height / 2);\n\t          this.canvas.context.lineTo(this.canvas.element.width, this.canvas.element.height / 2);\n\t        }\n\n\t        this.canvas.context.stroke();\n\t      }\n\t    },\n\t    connect: {\n\n\t      /**\n\t      Equivalent to \"patching in\" an audio node to visualize.\n\t      @param node {AudioNode} The audio node to visualize\n\t      */\n\n\t      value: function connect(node) {\n\n\t        if (this.source) {\n\t          this.disconnect();\n\t        }\n\n\t        this.source = node;\n\t        this.source.connect(this.analyser);\n\n\t        this.render();\n\t      }\n\t    },\n\t    disconnect: {\n\n\t      /**\n\t      Stop visualizing the source node and disconnect it.\n\t      */\n\n\t      value: function disconnect() {\n\t        if (this.source) {\n\t          this.source.disconnect(this.analyser);\n\t          this.source = null;\n\t        }\n\t      }\n\t    },\n\t    click: {\n\t      value: function click() {\n\t        this.active = !this.active;\n\t        this.render();\n\t      }\n\t    },\n\t    customDestroy: {\n\t      value: function customDestroy() {\n\t        this.active = false;\n\t      }\n\t    }\n\t  });\n\n\t  return Oscilloscope;\n\t})(Interface);\n\n\tmodule.exports = Oscilloscope;\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\t/*\n\tMain concept:\n\tsynth = new Nexus.Rack('elementID');\n\n\tTransform all elements inside the div\n\tsynth.elementID will hold the first slider interface\n\n\t2) In future, potentially writing a rack that is re-usable?\n\tCould also take JSON\n\n\tnew Nexus.Rack('#target',{\n\t  pre: () => {\n\t    create some divs here, or some audio code\n\t  },\n\t  interface: {\n\t    slider1: Nexus.add.slider({\n\t      top:10,\n\t      left:10,\n\t      width:50,\n\t      height:100,\n\t      min: 0,\n\t      max: 100,\n\t      step: 1\n\t    }),\n\t    wave1: Nexus.add.waveform({\n\t      file: './path/to/file.mp3',\n\t      width:500,\n\t      height:100,\n\t      mode: 'range'\n\t    })\n\t  },\n\t  init: () => {\n\t    // some audio init code goes here...\n\t  }\n\t});\n\n\t*/\n\n\tvar transform = _interopRequireWildcard(__webpack_require__(39));\n\n\tvar dom = _interopRequire(__webpack_require__(7));\n\n\tvar Rack = (function () {\n\t  function Rack(target, settings) {\n\t    _classCallCheck(this, Rack);\n\n\t    this.meta = {};\n\t    this.meta.target = target;\n\t    this.meta.parent = dom.parseElement(target); // should be a generic function for parsing a 'target' argument that checks for string/DOM/jQUERY\n\t    this.meta.colors = {};\n\n\t    if (settings) {\n\t      this.meta.attribute = settings.attribute || \"nexus-ui\";\n\t      this.meta.title = settings.name || false;\n\t      this.meta.open = settings.open || false;\n\t    } else {\n\t      this.meta.attribute = \"nexus-ui\";\n\t      this.meta.title = false;\n\t      this.meta.open = false;\n\t    }\n\n\t    var defaultColors = Nexus.colors; // jshint ignore:line\n\t    this.meta.colors.accent = defaultColors.accent;\n\t    this.meta.colors.fill = defaultColors.fill;\n\t    this.meta.colors.light = defaultColors.light;\n\t    this.meta.colors.dark = defaultColors.dark;\n\t    this.meta.colors.mediumLight = defaultColors.mediumLight;\n\t    this.meta.colors.mediumDark = defaultColors.mediumDark;\n\t    this.buildInterface();\n\t    this.colorInterface();\n\t  }\n\n\t  _createClass(Rack, {\n\t    buildInterface: {\n\t      value: function buildInterface() {\n\t        var _this = this;\n\n\t        this.meta.parent.style.boxSizing = \"border-box\";\n\t        this.meta.parent.style.userSelect = \"none\";\n\t        this.meta.parent.style.mozUserSelect = \"none\";\n\t        this.meta.parent.style.webkitUserSelect = \"none\";\n\n\t        this.meta.contents = document.createElement(\"div\");\n\n\t        while (this.meta.parent.childNodes.length > 0) {\n\t          this.meta.contents.appendChild(this.meta.parent.childNodes[0]);\n\t        }\n\n\t        this.meta.contents.style.padding = \"0px\";\n\t        this.meta.contents.style.boxSizing = \"border-box\";\n\n\t        if (this.meta.title) {\n\t          this.meta.titleBar = document.createElement(\"div\");\n\t          this.meta.titleBar.innerHTML = this.meta.title;\n\t          this.meta.titleBar.style.fontFamily = \"arial\";\n\t          this.meta.titleBar.style.position = \"relative\";\n\t          this.meta.titleBar.style.color = \"#888\";\n\t          this.meta.titleBar.style.padding = \"7px\";\n\t          this.meta.titleBar.style.fontSize = \"12px\";\n\n\t          this.meta.button = document.createElement(\"div\");\n\t          this.meta.button.style.position = \"absolute\";\n\t          this.meta.button.style.top = \"5px\";\n\t          this.meta.button.style.right = \"5px\";\n\t          this.meta.button.innerHTML = \"-\";\n\t          this.meta.button.style.padding = \"0px 5px 2px\";\n\t          this.meta.button.style.lineHeight = \"12px\";\n\t          this.meta.button.style.fontSize = \"15px\";\n\n\t          this.meta.button.style.cursor = \"pointer\";\n\n\t          this.meta.button.addEventListener(\"mouseover\", function () {\n\t            _this.meta.button.style.backgroundColor = _this.meta.colors.mediumDark;\n\t          });\n\t          this.meta.button.addEventListener(\"mouseleave\", function () {\n\t            _this.meta.button.style.backgroundColor = _this.meta.colors.mediumLight;\n\t          });\n\t          this.meta.button.addEventListener(\"click\", function () {\n\t            if (_this.meta.open) {\n\t              _this.hide();\n\t            } else {\n\t              _this.show();\n\t            }\n\t          });\n\n\t          this.meta.titleBar.appendChild(this.meta.button);\n\n\t          this.meta.parent.appendChild(this.meta.titleBar);\n\t        }\n\t        this.meta.parent.appendChild(this.meta.contents);\n\n\t        //  var width = this.meta.parent.style.width = getComputedStyle(this.meta.parent).getPropertyValue('width');\n\t        //    this.meta.parent.style.width = width;\n\n\t        var ui = transform.section(this.meta.target, this.meta.attribute);\n\t        for (var key in ui) {\n\t          this[key] = ui[key];\n\t        }\n\t      }\n\t    },\n\t    colorInterface: {\n\t      value: function colorInterface() {\n\t        if (this.meta.title) {\n\t          this.meta.button.style.backgroundColor = this.meta.colors.mediumLight;\n\t          this.meta.button.style.border = \"solid 0px \" + this.meta.colors.fill;\n\t          this.meta.parent.style.border = \"solid 1px \" + this.meta.colors.mediumLight;\n\t          this.meta.parent.style.backgroundColor = this.meta.colors.light;\n\t          this.meta.titleBar.style.backgroundColor = this.meta.colors.fill;\n\t        }\n\t      }\n\t    },\n\t    show: {\n\t      value: function show() {\n\t        this.meta.contents.style.display = \"block\";\n\t        this.meta.open = true;\n\t      }\n\t    },\n\t    hide: {\n\t      value: function hide() {\n\t        this.meta.contents.style.display = \"none\";\n\t        this.meta.open = false;\n\t      }\n\t    },\n\t    colorize: {\n\t      value: function colorize(type, color) {\n\t        for (var key in this) {\n\t          if (this[key].colorize) {\n\t            this[key].colorize(type, color);\n\t          }\n\t        }\n\t        this.meta.colors[type] = color;\n\t        this.colorInterface();\n\t      }\n\t    },\n\t    empty: {\n\t      value: function empty() {\n\t        for (var key in this) {\n\t          if (this[key].destroy) {\n\t            this[key].destroy();\n\t          }\n\t        }\n\t      }\n\t    }\n\t  });\n\n\t  return Rack;\n\t})();\n\n\tmodule.exports = Rack;\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\"use strict\";\n\n\tvar dom = _interopRequire(__webpack_require__(7));\n\n\tvar Interfaces = _interopRequire(__webpack_require__(2));\n\n\tvar createInterfaceID = function (widget, interfaceIDs) {\n\t  var type = widget.type;\n\t  if (interfaceIDs[type]) {\n\t    interfaceIDs[type]++;\n\t  } else {\n\t    interfaceIDs[type] = 1;\n\t  }\n\t  return type + interfaceIDs[type];\n\t};\n\n\tvar element = function (element, type, options) {\n\t  options = options || {};\n\t  for (var i = 0; i < element.attributes.length; i++) {\n\t    var att = element.attributes[i];\n\t    //  try {\n\t    //    options[att.nodeName] = eval(att.nodeValue);\n\t    //  } catch(e) {\n\t    options[att.nodeName] = att.nodeValue;\n\t    //  }\n\t  }\n\t  type = type[0].toUpperCase() + type.slice(1);\n\t  var widget = new Interfaces[type](element, options);\n\t  widget.id = element.id;\n\t  return widget;\n\t};\n\n\tvar section = function (parent, keyword) {\n\n\t  keyword = keyword || \"nexus-ui\";\n\n\t  var interfaceIDs = {};\n\n\t  var container = dom.parseElement(parent);\n\n\t  var ui = {};\n\n\t  var htmlElements = container.getElementsByTagName(\"*\");\n\t  var elements = [];\n\t  for (var i = 0; i < htmlElements.length; i++) {\n\t    elements.push(htmlElements[i]);\n\t  }\n\t  for (var i = 0; i < elements.length; i++) {\n\t    var type = elements[i].getAttribute(keyword);\n\t    if (type) {\n\t      var formattedType = false;\n\t      for (var key in Interfaces) {\n\t        if (type.toLowerCase() === key.toLowerCase()) {\n\t          formattedType = key;\n\t        }\n\t      }\n\t      console.log(formattedType);\n\t      var widget = element(elements[i], formattedType);\n\t      if (widget.id) {\n\t        ui[widget.id] = widget;\n\t      } else {\n\t        var id = createInterfaceID(widget, interfaceIDs);\n\t        ui[id] = widget;\n\t      }\n\t    }\n\t  }\n\n\t  return ui;\n\t};\n\n\tvar add = function (type, options) {\n\t  var target = document.createElement(\"div\");\n\t  var parent = document.body;\n\t  if (options) {\n\t    parent = options.parent;\n\t  } else {\n\t    options = {};\n\t  }\n\t  parent = dom.parseElement(parent);\n\t  parent.appendChild(target);\n\t  options.target = target;\n\t  if (options.size) {\n\t    target.style.width = options.size[0] + \"px\";\n\t    target.style.height = options.size[1] + \"px\";\n\t  }\n\t  return element(target, type, options);\n\t};\n\n\texports.element = element;\n\texports.section = section;\n\texports.add = add;\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar math = _interopRequire(__webpack_require__(5));\n\n\tvar Tune = (function () {\n\t  function Tune() {\n\t    _classCallCheck(this, Tune);\n\n\t    // the scale as ratios\n\t    this.scale = [];\n\n\t    // i/o modes\n\t    this.mode = {\n\t      output: \"frequency\",\n\t      input: \"step\"\n\t    };\n\n\t    // ET major\n\t    this.etmajor = [261.62558, 293.664764, 329.627563, 349.228241, 391.995422, 440, 493.883301, 523.25116];\n\n\t    // Root frequency.\n\t    this.root = math.mtof(60); // * Math.pow(2,(60-69)/12);\n\n\t    // default is a major scale\n\t    this.createScale(0, 2, 4, 5, 7, 9, 11);\n\t  }\n\n\t  _createClass(Tune, {\n\t    note: {\n\n\t      /* Return data in the mode you are in (freq, ratio, or midi) */\n\n\t      value: function note(input, octave) {\n\n\t        var newvalue = undefined;\n\n\t        if (this.mode.output === \"frequency\") {\n\t          newvalue = this.frequency(input, octave);\n\t        } else if (this.mode.output === \"ratio\") {\n\t          newvalue = this.ratio(input, octave);\n\t        } else if (this.mode.output === \"MIDI\") {\n\t          newvalue = this.MIDI(input, octave);\n\t        } else {\n\t          newvalue = this.frequency(input, octave);\n\t        }\n\n\t        return newvalue;\n\t      }\n\t    },\n\t    frequency: {\n\n\t      /* Return freq data */\n\n\t      value: function frequency(stepIn, octaveIn) {\n\n\t        if (this.mode.input === \"midi\" || this.mode.input === \"MIDI\") {\n\t          this.stepIn += 60;\n\t        }\n\n\t        // what octave is our input\n\t        var octave = Math.floor(stepIn / this.scale.length);\n\n\t        if (octaveIn) {\n\t          octave += octaveIn;\n\t        }\n\n\t        // which scale degree (0 - scale length) is our input\n\t        var scaleDegree = stepIn % this.scale.length;\n\n\t        while (scaleDegree < 0) {\n\t          scaleDegree += this.scale.length;\n\t        }\n\n\t        var ratio = this.scale[scaleDegree];\n\n\t        var freq = this.root * ratio;\n\n\t        freq = freq * Math.pow(2, octave);\n\n\t        // truncate irrational numbers\n\t        freq = Math.floor(freq * 100000000000) / 100000000000;\n\n\t        return freq;\n\t      }\n\t    },\n\t    ratio: {\n\n\t      /* Force return ratio data */\n\n\t      value: function ratio(stepIn, octaveIn) {\n\n\t        if (this.mode.input === \"midi\" || this.mode.input === \"MIDI\") {\n\t          this.stepIn += 60;\n\t        }\n\n\t        // what octave is our input\n\t        var octave = Math.floor(stepIn / this.scale.length);\n\n\t        if (octaveIn) {\n\t          octave += octaveIn;\n\t        }\n\n\t        // which scale degree (0 - scale length) is our input\n\t        var scaleDegree = stepIn % this.scale.length;\n\n\t        // what ratio is our input to our key\n\t        var ratio = Math.pow(2, octave) * this.scale[scaleDegree];\n\n\t        ratio = Math.floor(ratio * 100000000000) / 100000000000;\n\n\t        return ratio;\n\t      }\n\t    },\n\t    MIDI: {\n\n\t      /* Force return adjusted MIDI data */\n\n\t      value: function MIDI(stepIn, octaveIn) {\n\n\t        var newvalue = this.frequency(stepIn, octaveIn);\n\n\t        var n = 69 + 12 * Math.log(newvalue / 440) / Math.log(2);\n\n\t        n = Math.floor(n * 1000000000) / 1000000000;\n\n\t        return n;\n\t      }\n\t    },\n\t    createScale: {\n\t      value: function createScale() {\n\t        var newScale = [];\n\t        for (var i = 0; i < arguments.length; i++) {\n\t          newScale.push(math.mtof(60 + arguments[i]));\n\t        }\n\t        this.loadScaleFromFrequencies(newScale);\n\t      }\n\t    },\n\t    createJIScale: {\n\t      value: function createJIScale() {\n\t        this.scale = [];\n\t        for (var i = 0; i < arguments.length; i++) {\n\t          this.scale.push(arguments[i]);\n\t        }\n\t      }\n\t    },\n\t    loadScaleFromFrequencies: {\n\t      value: function loadScaleFromFrequencies(freqs) {\n\t        this.scale = [];\n\t        for (var i = 0; i < freqs.length - 1; i++) {\n\t          this.scale.push(freqs[i] / freqs[0]);\n\t        }\n\t      }\n\t    },\n\t    loadScale: {\n\n\t      /* Load a new scale */\n\n\t      value: function loadScale(name) {\n\n\t        /* load the scale */\n\t        var freqs = this.scales[name].frequencies;\n\t        this.loadScaleFromFrequencies(freqs);\n\t      }\n\t    },\n\t    search: {\n\n\t      /* Search the names of tunings\n\t      \t Returns an array of names of tunings */\n\n\t      value: function search(letters) {\n\t        var possible = [];\n\t        for (var key in this.scales) {\n\t          if (key.toLowerCase().indexOf(letters.toLowerCase()) !== -1) {\n\t            possible.push(key);\n\t          }\n\t        }\n\t        return possible;\n\t      }\n\t    },\n\t    chord: {\n\n\t      /* Return a collection of notes as an array */\n\n\t      value: function chord(midis) {\n\t        var output = [];\n\t        for (var i = 0; i < midis.length; i++) {\n\t          output.push(this.note(midis[i]));\n\t        }\n\t        return output;\n\t      }\n\t    }\n\t  });\n\n\t  return Tune;\n\t})();\n\n\tmodule.exports = Tune;\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\t//Disable jshint warning concerning trailing regular params\n\t/*jshint -W138 */\n\n\tvar Radio = (function () {\n\t    //if non-existent buttons are switched, they are ignored\n\n\t    function Radio() {\n\t        for (var _len = arguments.length, onVals = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t            onVals[_key - 1] = arguments[_key];\n\t        }\n\n\t        var length = arguments[0] === undefined ? 3 : arguments[0];\n\n\t        _classCallCheck(this, Radio);\n\n\t        //each optional 'onVals' argument switches on that value in the Radio if it exists\n\t        //In the example below, a 3-button radio is created, index 0 is switched on, index 1 is switched on then then attempted again producing an warning, and the final argument produces a warning because the index value does not exist.\n\t        //Example:\n\t        //`  radio = new Radio(3, 0, 1, 1, 3);\n\t        //  [1,1,0]\n\n\t        if (length < 0) {\n\t            length = 1;\n\t        }\n\n\t        this.length = length;\n\t        this.onVals = onVals;\n\t        this.array = new Array(length).fill(0);\n\n\t        if (onVals.length > 0) {\n\t            this.on.apply(this, onVals);\n\t        }\n\t    }\n\n\t    _createClass(Radio, {\n\t        select: {\n\t            value: function select(value) {\n\t                this.array.fill(0);\n\t                this.array[value] = 1;\n\t                return this.array;\n\t            }\n\t        },\n\t        flip: {\n\t            value: function flip() {\n\t                for (var _len = arguments.length, values = Array(_len), _key = 0; _key < _len; _key++) {\n\t                    values[_key] = arguments[_key];\n\t                }\n\n\t                //flips the specified values. if no value is specified, flips all buttons\n\t                var a = this.array;\n\t                if (values.length > 0) {\n\t                    values.forEach(function (v) {\n\t                        if (v > a.length - 1) {\n\t                            console.warn(\"Warning: AnonRadio[\" + v + \"] does not exist\");\n\t                        } else {\n\t                            a[v] = a[v] ? 0 : 1;\n\t                        }\n\t                    });\n\t                } else {\n\t                    a.forEach(function (v, i, arr) {\n\t                        arr[i] = v ? 0 : 1;\n\t                    });\n\t                }\n\t                return a;\n\t            }\n\t        },\n\t        on: {\n\t            value: function on() {\n\t                for (var _len = arguments.length, values = Array(_len), _key = 0; _key < _len; _key++) {\n\t                    values[_key] = arguments[_key];\n\t                }\n\n\t                //switch on the specified values. if no value specified, flips on all buttons\n\t                var a = this.array;\n\t                if (values.length > 0) {\n\t                    values.forEach(function (v) {\n\t                        if (v > a.length - 1) {\n\t                            console.warn(\"Warning: AnonRadio[\" + v + \"] exceeds size of object\");\n\t                        } else {\n\t                            if (a[v] === 1) {\n\t                                console.warn(\"Warning: AnonRadio[\" + v + \"] was already on.\");\n\t                            }\n\t                            a[v] = 1;\n\t                        }\n\t                    });\n\t                } else {\n\t                    a.fill(1);\n\t                }\n\t                return a;\n\t            }\n\t        },\n\t        off: {\n\t            value: function off() {\n\t                for (var _len = arguments.length, values = Array(_len), _key = 0; _key < _len; _key++) {\n\t                    values[_key] = arguments[_key];\n\t                }\n\n\t                //switch off the specified values. if no value specified, flips off all buttons\n\t                var a = this.array;\n\t                if (values.length > 0) {\n\t                    values.forEach(function (v) {\n\t                        a[v] = 0;\n\t                    });\n\t                } else {\n\t                    a.fill(0);\n\t                }\n\t                return a;\n\t            }\n\t        }\n\t    });\n\n\t    return Radio;\n\t})();\n\n\tmodule.exports = Radio;\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar WAAClock = __webpack_require__(43)\n\n\tmodule.exports = WAAClock\n\tif (typeof window !== 'undefined') window.WAAClock = WAAClock\n\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {var isBrowser = (typeof window !== 'undefined')\n\n\tvar CLOCK_DEFAULTS = {\n\t  toleranceLate: 0.10,\n\t  toleranceEarly: 0.001\n\t}\n\n\t// ==================== Event ==================== //\n\tvar Event = function(clock, deadline, func) {\n\t  this.clock = clock\n\t  this.func = func\n\t  this._cleared = false // Flag used to clear an event inside callback\n\n\t  this.toleranceLate = clock.toleranceLate\n\t  this.toleranceEarly = clock.toleranceEarly\n\t  this._latestTime = null\n\t  this._earliestTime = null\n\t  this.deadline = null\n\t  this.repeatTime = null\n\n\t  this.schedule(deadline)\n\t}\n\n\t// Unschedules the event\n\tEvent.prototype.clear = function() {\n\t  this.clock._removeEvent(this)\n\t  this._cleared = true\n\t  return this\n\t}\n\n\t// Sets the event to repeat every `time` seconds.\n\tEvent.prototype.repeat = function(time) {\n\t  if (time === 0)\n\t    throw new Error('delay cannot be 0')\n\t  this.repeatTime = time\n\t  if (!this.clock._hasEvent(this))\n\t    this.schedule(this.deadline + this.repeatTime)\n\t  return this\n\t}\n\n\t// Sets the time tolerance of the event.\n\t// The event will be executed in the interval `[deadline - early, deadline + late]`\n\t// If the clock fails to execute the event in time, the event will be dropped.\n\tEvent.prototype.tolerance = function(values) {\n\t  if (typeof values.late === 'number')\n\t    this.toleranceLate = values.late\n\t  if (typeof values.early === 'number')\n\t    this.toleranceEarly = values.early\n\t  this._refreshEarlyLateDates()\n\t  if (this.clock._hasEvent(this)) {\n\t    this.clock._removeEvent(this)\n\t    this.clock._insertEvent(this)\n\t  }\n\t  return this\n\t}\n\n\t// Returns true if the event is repeated, false otherwise\n\tEvent.prototype.isRepeated = function() { return this.repeatTime !== null }\n\n\t// Schedules the event to be ran before `deadline`.\n\t// If the time is within the event tolerance, we handle the event immediately.\n\t// If the event was already scheduled at a different time, it is rescheduled.\n\tEvent.prototype.schedule = function(deadline) {\n\t  this._cleared = false\n\t  this.deadline = deadline\n\t  this._refreshEarlyLateDates()\n\n\t  if (this.clock.context.currentTime >= this._earliestTime) {\n\t    this._execute()\n\n\t  } else if (this.clock._hasEvent(this)) {\n\t    this.clock._removeEvent(this)\n\t    this.clock._insertEvent(this)\n\n\t  } else this.clock._insertEvent(this)\n\t}\n\n\tEvent.prototype.timeStretch = function(tRef, ratio) {\n\t  if (this.isRepeated())\n\t    this.repeatTime = this.repeatTime * ratio\n\n\t  var deadline = tRef + ratio * (this.deadline - tRef)\n\t  // If the deadline is too close or past, and the event has a repeat,\n\t  // we calculate the next repeat possible in the stretched space.\n\t  if (this.isRepeated()) {\n\t    while (this.clock.context.currentTime >= deadline - this.toleranceEarly)\n\t      deadline += this.repeatTime\n\t  }\n\t  this.schedule(deadline)\n\t}\n\n\t// Executes the event\n\tEvent.prototype._execute = function() {\n\t  if (this.clock._started === false) return\n\t  this.clock._removeEvent(this)\n\n\t  if (this.clock.context.currentTime < this._latestTime)\n\t    this.func(this)\n\t  else {\n\t    if (this.onexpired) this.onexpired(this)\n\t    console.warn('event expired')\n\t  }\n\t  // In the case `schedule` is called inside `func`, we need to avoid\n\t  // overrwriting with yet another `schedule`.\n\t  if (!this.clock._hasEvent(this) && this.isRepeated() && !this._cleared)\n\t    this.schedule(this.deadline + this.repeatTime)\n\t}\n\n\t// Updates cached times\n\tEvent.prototype._refreshEarlyLateDates = function() {\n\t  this._latestTime = this.deadline + this.toleranceLate\n\t  this._earliestTime = this.deadline - this.toleranceEarly\n\t}\n\n\t// ==================== WAAClock ==================== //\n\tvar WAAClock = module.exports = function(context, opts) {\n\t  var self = this\n\t  opts = opts || {}\n\t  this.tickMethod = opts.tickMethod || 'ScriptProcessorNode'\n\t  this.toleranceEarly = opts.toleranceEarly || CLOCK_DEFAULTS.toleranceEarly\n\t  this.toleranceLate = opts.toleranceLate || CLOCK_DEFAULTS.toleranceLate\n\t  this.context = context\n\t  this._events = []\n\t  this._started = false\n\t}\n\n\t// ---------- Public API ---------- //\n\t// Schedules `func` to run after `delay` seconds.\n\tWAAClock.prototype.setTimeout = function(func, delay) {\n\t  return this._createEvent(func, this._absTime(delay))\n\t}\n\n\t// Schedules `func` to run before `deadline`.\n\tWAAClock.prototype.callbackAtTime = function(func, deadline) {\n\t  return this._createEvent(func, deadline)\n\t}\n\n\t// Stretches `deadline` and `repeat` of all scheduled `events` by `ratio`, keeping\n\t// their relative distance to `tRef`. In fact this is equivalent to changing the tempo.\n\tWAAClock.prototype.timeStretch = function(tRef, events, ratio) {\n\t  events.forEach(function(event) { event.timeStretch(tRef, ratio) })\n\t  return events\n\t}\n\n\t// Removes all scheduled events and starts the clock\n\tWAAClock.prototype.start = function() {\n\t  if (this._started === false) {\n\t    var self = this\n\t    this._started = true\n\t    this._events = []\n\n\t    if (this.tickMethod === 'ScriptProcessorNode') {\n\t      var bufferSize = 256\n\t      // We have to keep a reference to the node to avoid garbage collection\n\t      this._clockNode = this.context.createScriptProcessor(bufferSize, 1, 1)\n\t      this._clockNode.connect(this.context.destination)\n\t      this._clockNode.onaudioprocess = function () {\n\t        process.nextTick(function() { self._tick() })\n\t      }\n\t    } else if (this.tickMethod === 'manual') null // _tick is called manually\n\n\t    else throw new Error('invalid tickMethod ' + this.tickMethod)\n\t  }\n\t}\n\n\t// Stops the clock\n\tWAAClock.prototype.stop = function() {\n\t  if (this._started === true) {\n\t    this._started = false\n\t    this._clockNode.disconnect()\n\t  }\n\t}\n\n\t// ---------- Private ---------- //\n\n\t// This function is ran periodically, and at each tick it executes\n\t// events for which `currentTime` is included in their tolerance interval.\n\tWAAClock.prototype._tick = function() {\n\t  var event = this._events.shift()\n\n\t  while(event && event._earliestTime <= this.context.currentTime) {\n\t    event._execute()\n\t    event = this._events.shift()\n\t  }\n\n\t  // Put back the last event\n\t  if(event) this._events.unshift(event)\n\t}\n\n\t// Creates an event and insert it to the list\n\tWAAClock.prototype._createEvent = function(func, deadline) {\n\t  return new Event(this, deadline, func)\n\t}\n\n\t// Inserts an event to the list\n\tWAAClock.prototype._insertEvent = function(event) {\n\t  this._events.splice(this._indexByTime(event._earliestTime), 0, event)\n\t}\n\n\t// Removes an event from the list\n\tWAAClock.prototype._removeEvent = function(event) {\n\t  var ind = this._events.indexOf(event)\n\t  if (ind !== -1) this._events.splice(ind, 1)\n\t}\n\n\t// Returns true if `event` is in queue, false otherwise\n\tWAAClock.prototype._hasEvent = function(event) {\n\t return this._events.indexOf(event) !== -1\n\t}\n\n\t// Returns the index of the first event whose deadline is >= to `deadline`\n\tWAAClock.prototype._indexByTime = function(deadline) {\n\t  // performs a binary search\n\t  var low = 0\n\t    , high = this._events.length\n\t    , mid\n\t  while (low < high) {\n\t    mid = Math.floor((low + high) / 2)\n\t    if (this._events[mid]._earliestTime < deadline)\n\t      low = mid + 1\n\t    else high = mid\n\t  }\n\t  return low\n\t}\n\n\t// Converts from relative time to absolute time\n\tWAAClock.prototype._absTime = function(relTime) {\n\t  return relTime + this.context.currentTime\n\t}\n\n\t// Converts from absolute time to relative time\n\tWAAClock.prototype._relTime = function(absTime) {\n\t  return absTime - this.context.currentTime\n\t}\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(44)))\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports) {\n\n\t// shim for using process in browser\n\tvar process = module.exports = {};\n\n\t// cached from whatever global is present so that test runners that stub it\n\t// don't break things.  But we need to wrap it in a try catch in case it is\n\t// wrapped in strict mode code which doesn't define any globals.  It's inside a\n\t// function because try/catches deoptimize in certain engines.\n\n\tvar cachedSetTimeout;\n\tvar cachedClearTimeout;\n\n\tfunction defaultSetTimout() {\n\t    throw new Error('setTimeout has not been defined');\n\t}\n\tfunction defaultClearTimeout () {\n\t    throw new Error('clearTimeout has not been defined');\n\t}\n\t(function () {\n\t    try {\n\t        if (typeof setTimeout === 'function') {\n\t            cachedSetTimeout = setTimeout;\n\t        } else {\n\t            cachedSetTimeout = defaultSetTimout;\n\t        }\n\t    } catch (e) {\n\t        cachedSetTimeout = defaultSetTimout;\n\t    }\n\t    try {\n\t        if (typeof clearTimeout === 'function') {\n\t            cachedClearTimeout = clearTimeout;\n\t        } else {\n\t            cachedClearTimeout = defaultClearTimeout;\n\t        }\n\t    } catch (e) {\n\t        cachedClearTimeout = defaultClearTimeout;\n\t    }\n\t} ())\n\tfunction runTimeout(fun) {\n\t    if (cachedSetTimeout === setTimeout) {\n\t        //normal enviroments in sane situations\n\t        return setTimeout(fun, 0);\n\t    }\n\t    // if setTimeout wasn't available but was latter defined\n\t    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n\t        cachedSetTimeout = setTimeout;\n\t        return setTimeout(fun, 0);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedSetTimeout(fun, 0);\n\t    } catch(e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n\t            return cachedSetTimeout.call(null, fun, 0);\n\t        } catch(e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n\t            return cachedSetTimeout.call(this, fun, 0);\n\t        }\n\t    }\n\n\n\t}\n\tfunction runClearTimeout(marker) {\n\t    if (cachedClearTimeout === clearTimeout) {\n\t        //normal enviroments in sane situations\n\t        return clearTimeout(marker);\n\t    }\n\t    // if clearTimeout wasn't available but was latter defined\n\t    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n\t        cachedClearTimeout = clearTimeout;\n\t        return clearTimeout(marker);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedClearTimeout(marker);\n\t    } catch (e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n\t            return cachedClearTimeout.call(null, marker);\n\t        } catch (e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n\t            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n\t            return cachedClearTimeout.call(this, marker);\n\t        }\n\t    }\n\n\n\n\t}\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = runTimeout(cleanUpNextTick);\n\t    draining = true;\n\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    runClearTimeout(timeout);\n\t}\n\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        runTimeout(drainQueue);\n\t    }\n\t};\n\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\n\tfunction noop() {}\n\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\tprocess.prependListener = noop;\n\tprocess.prependOnceListener = noop;\n\n\tprocess.listeners = function (name) { return [] }\n\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\tvar Interval = (function () {\n\t  function Interval(rate, func, on) {\n\t    _classCallCheck(this, Interval);\n\n\t    this.rate = rate;\n\t    this.on = on;\n\t    this.clock = Nexus.clock; // jshint ignore:line\n\n\t    this.pattern = [1];\n\t    this.index = 0;\n\n\t    this.event = func ? func : function () {};\n\n\t    if (this.on) {\n\t      this.start();\n\t    }\n\t  }\n\n\t  _createClass(Interval, {\n\t    _event: {\n\t      value: function _event(e) {\n\t        //  if (this.pattern[this.index%this.pattern.length]) {\n\t        this.event(e);\n\t        //  }\n\t        this.index++;\n\t      }\n\t    },\n\t    stop: {\n\t      value: function stop() {\n\t        this.on = false;\n\t        this.interval.clear();\n\t      }\n\t    },\n\t    start: {\n\t      value: function start() {\n\t        this.on = true;\n\t        this.interval = this.clock.callbackAtTime(this._event.bind(this), this.clock.context.currentTime).repeat(this.rate / 1000).tolerance({ early: 0.1, late: 1 });\n\t      }\n\t    },\n\t    ms: {\n\t      value: function ms(newrate) {\n\t        if (this.on) {\n\t          var ratio = newrate / this.rate;\n\t          this.rate = newrate;\n\t          this.clock.timeStretch(this.clock.context.currentTime, [this.interval], ratio);\n\t        } else {\n\t          this.rate = newrate;\n\t        }\n\t      }\n\t    }\n\t  });\n\n\t  return Interval;\n\t})();\n\n\tmodule.exports = Interval;\n\n/***/ })\n/******/ ])\n});\n;\n//# sourceMappingURL=NexusUI.map\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/NexusUI.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 4\n// module chunks = 0","import * as Nexus from './NexusUI';\n\nclass Sequencer {\n  constructor(){\n    this.sequencer = new Nexus.Sequencer('#sequencer',{\n     'size': [1000,500],\n     'mode': 'toggle',\n     'rows': 8,\n     'columns': 16\n   });\n   this.sequencer.on('change',function(v) {\n     const int = Math.floor(Math.random() * (36 -1 + 1)) + 1;\n     sfx[int]();\n });\n  this.sequencer.on('step', function(column) {\n    const int = Math.floor(Math.random() * (36 -1 + 1)) + 1;\n    let sorted = column.filter(cellValue => cellValue > 0);\n    console.log(sorted);\n    while(sorted.length > 0) {\n      sfx[int]();\n      sorted = sorted.slice(1);\n    }\n  });\n  this.sequencer.invert = this.sequencer.matrix.toggle.all;\n  }\n}\n\n\n\n\nexport default Sequencer;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/sequencer.js","import * as Nexus from './NexusUI';\n\nclass Piano {\n  constructor() {\n    this.piano = new Nexus.Piano('#piano',{\n    'size': [500,125],\n    'mode': 'button',\n    'lowNote': 24,\n    'highNote': 60\n    });\n    this.keys = this.piano.keys;\n    this.piano.on('change', function(v) {\n      const int = Math.floor(Math.random() * (36 - 1 + 1)) + 1;\n      sfx[int]();\n    });\n  }\n}\n\n\nexport default Piano;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/piano.js","import * as Nexus from './NexusUI';\n\n\nclass Button {\n  constructor(){\n    this.button = new Nexus.TextButton('#button',{\n    'size': [150,50],\n    'state': false,\n    'text': 'Play',\n    'alternate': false\n});\n  }\n\n  play(){\n    const audio = new Audio('./lib/media/bad_company.mp3');\n    audio.play();\n  }\n}\n\nexport default Button;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/button.js","import * as Nexus from './NexusUI';\n\nclass Toggle {\n  constructor() {\n    this.toggle = new Nexus.Toggle('#toggle');\n  }\n}\n\n\nexport default Toggle;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/toggle.js"],"sourceRoot":""}